<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>











<head>
<title>Planet Sage</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="generator" content="Planet/2.0 +http://www.planetplanet.org">
<link rel="shortcut icon" href="images/sageicon.png" type="image/x-icon" />
<link rel="stylesheet" href="planet.css" type="text/css">
<script type="text/javascript"
  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<script type='text/x-mathjax-config'>
  MathJax.Hub.Config({tex2jax: {inlineMath:  [['$', '$'], ['\\(', 
'\\)']]}});
</script>
<link rel="alternate" href="http://planet.sagemath.org/atom.xml" title="" type="application/atom+xml">
</head>

<body>

<div class="body-corner">
<div id="body-corner-tl"></div> 
<div id="body-corner-tr"></div> 
</div>

<div id="header" class="small">

<div id="header-logo">
<a href="http://www.sagemath.org"><img src="images/sage_logo_new.png" title="Sage Computer Algebra System" alt="Sage logo"/></a> 
<a href="./index.html">Planet Sage Blog</a>
</div>

<div id="header-text">
</div>

</div>

<div id="header-navbar">
</div>
<div id="subnav">
</div>

<div class="bodypadding">

<div class="daygroup">
<h2>May 04, 2015</h2>

<div class="channelgroup">







<h3><a href="http://drvinceknight.github.io/unpeudemath/" title="Un peu de math">Vince Knight</a></h3>


<div class="entrygroup" id="http://drvinceknight.github.io/unpeudemath/pedagogy/2015/05/04/code-on-cake-poker-and-a-number-theory-classification-webapp/">
<h4><a href="http://drvinceknight.github.io/unpeudemath/pedagogy/2015/05/04/code-on-cake-poker-and-a-number-theory-classification-webapp/">Code on cake, poker and a number theory classification web app</a></h4>
<div class="entry">
<div class="content">
<p>I have just finished writing feedback and obtaining marks for my first year
students’ presentations. These presentations follow 11 weeks during which
students formed companies and worked together to come up with a ‘product’ which
had to involve mathematics and code (this semester comes just after 11 weeks of
learning Python and Sage). In this post I’ll briefly describe some of the great
things that the students came up with.</p>

<p>I must say that I was blown away by the standard this year. Last year the
students did exceptionally well but this year the standard was even higher, I am
so grateful for the effort put in by more or less everyone.</p>

<p>Some of the great projects included:</p>

<ul>
  <li>
    <p>A website that used a fitted utility function (obtained from questioning
family, friends, flatmates) to rank parking lots in terms of price and
distance from a given venue (the website was written in Django and the
function fitted using Sage).</p>
  </li>
  <li>
    <p>A commando training app, with an actual reservist marine who is a student
of ours:</p>

    <p><img src="http://vincent-knight.com/unpeudemath/assets/images/venture.jpg" alt="" /></p>
  </li>
  <li>
    <p>A story based game with an original storyline stemming from the zodiac. The
presentation culminated in Geraint, Jason and I (who were the audience)
retaliating to their Nerf gun attack with our (hidden under the desk) Nerf guns (we had a hunch
that this group would ambush us…). The game mechanics itself was coded in
pure Python and the UI was almost written in Django (that
was the goal but they didn’t have the time to fully implement it).</p>

    <p><img src="http://vincent-knight.com/unpeudemath/assets/images/cardiff_elite_four.jpg" alt="" /></p>
  </li>
  <li>
    <p>A Django site that had a graphical timeline of mathematics (on click you had
access to a quizz and info etc…). This was one I was
particularly excited about as it’s a tool I would love to use.</p>
  </li>
  <li>
    <p>An outreach/educational package based around cryptography. They coded a
variety of cyphers in Python and also put together an excellent set of
teaching resources with really well drawn characters etc… They even threw in
my dog Auraya (the likeness of the drawing is pretty awesome :)):</p>

    <p><img src="http://vincent-knight.com/unpeudemath/assets/images/cryptogram.jpg" alt="" />
  <img src="http://vincent-knight.com/unpeudemath/assets/images/auraya.jpg" alt="" /></p>
  </li>
  <li>
    <p>I ask my students to find an original way of showcasing their code. I don’t
actually know the right answer to that ‘challenge’. Most students showcase the
website and/or app, some will talk me through some code but this year one
group did something quite frankly awesome: <strong>code on cake</strong>. Here’s some of
the code they wrote for their phone app (written with kivy):</p>

    <p><img src="http://vincent-knight.com/unpeudemath/assets/images/-1_cake.jpg" alt="" /></p>
  </li>
  <li>
    <p>One group built a fully functioning and hosted web app (after taking a look at
Django they decided that Flask was the way to go for this particular tool).
Their app takes in a natural number and classifies it against a number of
categories, go ahead and try it right now: <a href="http://jayrobertvos.pythonanywhere.com/">Categorising Numbers</a></p>
  </li>
  <li>
    <p>One of the more fun presentations was for a poker simulation app that uses a
prime number representation of a hand of poker to simulate all possible
outcomes of a given state. This work remarkably fast and immediately spits out
(with neat graphics of the cards) the probability of winning given the current
cards. As well as an impressive app the students presented it very well and
invited me to play a game of poker (I lost, their mark was not affected…):</p>

    <p><img src="http://vincent-knight.com/unpeudemath/assets/images/team_super_awesome_funsies_selfie.jpg" alt="" /></p>

    <p>Here are a couple of screen shots of the app itself:</p>

    <p>Home screen:</p>

    <p><img src="http://vincent-knight.com/unpeudemath/assets/images/oddson_1.png" alt="" /></p>

    <p>The input card screen:</p>

    <p><img src="http://vincent-knight.com/unpeudemath/assets/images/oddson_0.png" alt="" /></p>
  </li>
</ul>

<p>I am missing out a bunch of great projects (including an impressive <em>actual</em>
business that I will be delighted to talk about more when appropriate). I am
very grateful to the efforts put in by all the students and wish them well
during their exams.</p></div>







<p class="date">
<a href="http://drvinceknight.github.io/unpeudemath/pedagogy/2015/05/04/code-on-cake-poker-and-a-number-theory-classification-webapp/">May 04, 2015 12:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>April 06, 2015</h2>

<div class="channelgroup">







<h3><a href="http://drvinceknight.github.io/unpeudemath/" title="Un peu de math">Vince Knight</a></h3>


<div class="entrygroup" id="http://drvinceknight.github.io/unpeudemath/pedagogy/2015/04/06/my-5-reasons-why-jekyll-with-github-is-a-terrible-teaching-tool/">
<h4><a href="http://drvinceknight.github.io/unpeudemath/pedagogy/2015/04/06/my-5-reasons-why-jekyll-with-github-is-a-terrible-teaching-tool/">My 5 reasons why jekyll + github is a terrible teaching tool.</a></h4>
<div class="entry">
<div class="content">
<p>For the past year or so I have been using <a href="http://jekyllrb.com/">jekyll</a> for all
my courses.
If you do not know, in a nutshell, jekyll is a ruby framework that lets you
write templates for pages and build nice websites using static markdown files
for your content.
Here I will describe what I think of jekyll from a pedagogic point of view, in 5 main points.</p>

<h2 id="jekyll-is-terrible-because-the-tutorial-is-too-well-written-and-easy-to-follow">1. Jekyll is terrible because the tutorial is too well written and easy to follow.</h2>

<p>First of all, as an academic I enjoy when things are difficult to read and
follow.
The Jekyll tutorial can get you up and running with a jekyll site in less than 5
minutes.
It is far too clear and easy to follow.
This sort of clear and to the point
explanation is very dangerous from a pedagogic point of view as students might
stumble upon it and raise their expectations of the educational process they are
going through.</p>

<p>In all seriousness, the tutorial is well written and clear, with a basic
knowledge of the command line you can modify the base site and have a website
deployed in less than 10 minutes.</p>

<h2 id="jekyll-is-terrible-because-it-works-too-seamlessly-with-github">2. Jekyll is terrible because it works too seamlessly with github.</h2>

<p>First of all gh-pages takes care of the hosting.
Not having to use a complicated server saves far too much time.
As academics we have too much free time already, I do not like getting bored.</p>

<p>Github promotes the sharing and openness of code, resources and processes.
Using a jekyll site in conjunction with github means that others can
easily see and comment on all the materials as well as potentially
improve them.
This openness is dangerous as it ensures that courses are living and breathing
things as opposed to a set of notes/problem sheets that sit safely in a drawer
somewhere.</p>

<p>The fact that jekyll uses markdown is also a problem.
On github anyone can easily read and send a pull request (which improves things)
without really knowing markdown (let alone git).
This is very terrible indeed, <a href="https://github.com/drvinceknight/Computing_for_mathematics/commit/c9370a3e2880e0d6d2d3a0f4e3bb90a306783787">here for example is a pull request sent to me by a
student</a>.
The student in question found a mistake in a question sheet and asked me about it,
right there in the lab I just said ‘go ahead and fix it :)’ (and they did).
Involving students in the process of fixing/improving their course materials
has the potential for utter chaos.
Furthermore normalising mistakes is another big problem: all students should be
terrified of making a mistake and/or trying things.</p>

<p>Finally, having a personal site as a github project gives you a site at the
following url:</p>

<pre><code>username.github.io
</code></pre>

<p>By simply having a <code>gh-pages</code> branch for each class site, this will
automatically be served at:</p>

<pre><code>username.github.io/class-site
</code></pre>

<p>This is far too sensible and flexible.
Furthermore the promotion of decentralisation of content is dangerous.
If one of my class sites breaks: none of my others will be affected!!!
How can I expect any free time with such a robust system?
This is dangerously efficient.</p>

<h2 id="jekyll-is-terrible-because-it-is-too-flexible">3. Jekyll is terrible because it is too flexible.</h2>

<p>You can (if you want to) include:</p>

<ul>
  <li>
    <p><a href="https://disqus.com/">A disqus.com</a> board to a template for a page which means
that students can easily comment and talk to you about materials.
Furthermore you can also use this to add things to your materials in a
discussion based way, for example I have been able to far too easily to add a
picture of a whiteboard explaining something students have asked.</p>
  </li>
  <li>
    <p><a href="https://www.mathjax.org/">Mathjax</a>. With some escaping this works out of the
box. Being able to include nicely rendered mathematics misaligns students’
expectations as to what is on the web.</p>
  </li>
  <li>
    <p><a href="https://sagecell.sagemath.org/">Sage cells</a> can be easily popped in to
worksheets allowing students to immediately use code to illustrate/explain a
concept.</p>
  </li>
</ul>

<p>and various others: you can just include any html/javascript etc…</p>

<p>This promotion of interactive and modern resources by Jekyll is truly terrible
as it gets students away from what teaching materials should really be about:
dusty notes in the bottom of a drawer (worked fine for me).</p>

<p>The flexibility of Jekyll is also really terrible as it makes me forget the
restrictions imposed on me by whatever VLE we are supposed to use.
This is making me weak and soft, when someone takes the choice away from me and
I am forced to use the VLE, I most probably won’t be ready.</p>

<p>(A jekyll + github setup also implis that a wiki immediately exists for a page
and I am also experimenting with a <a href="https://gitter.im">gitter.im</a> room for each class).</p>

<h2 id="jekyll-is-terrible-because-it-gives-a-responsive-site-out-of-the-box">4. Jekyll is terrible because it gives a responsive site out of the box.</h2>

<p>Students should consume their materials exactly when and how we want them to.
The base jekyll site cames with a basic responsive framework, here is a photo of
one of my class sheets (which also again shows the disgustingly beautifully
rendered mathematics):</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/jekyll_site.png" alt="" /></p>

<p>This responsive framework works right out of the box (you can also obviously use
further frameworks if you want to, see my point about flexibility) from the tutorial and this
encourages students to have access to the materials on whatever platform they
want whenever they want.
This cannot be a good thing.</p>

<h2 id="jekyll-is-terrible-because-it-saves-me-too-much-time">5. Jekyll is terrible because it saves me too much time.</h2>

<p>The main point that is truly worrying about jekyll is how much time it saves me.
I have mentioned this before, as academics we need to constantly make sure we do
not get bored.
Jekyll does not help with this.</p>

<p>I can edit my files using whatever system I want (I can even do this on github
directly if I wanted to), I push and the website is up to date.</p>

<p>In the past I would have a lot of time taken up by compiling a LaTeX document
and uploading to our VLE.
I would sit back and worry about being bored before realising (thankfully) that
I had a typo and so needed to write, delete and upload again.</p>

<p>Furthermore, I can easily use the github issue tracker to keep on top of to do
lists etc… (which I am actually beginning to do for more or less every aspect
of my life).
TAs can also easily fix/improve minor things without asking me to upload
whatever it is they wrote.</p>

<p>Github + Jekyll works seamlessly and ensures that I have more time to respond to
student queries and think.
This time for reflection on teaching practice is dangerous: I might choose to do
things differently than how they have been done for the past 100 years.</p>

<p>(<em>In case my tone is unclear: I am such a huge jekyll fan and think it is a
brilliant pedagogic tool.
There might well be various other static site generators and other options so please do
comment about them below :)</em>)</p></div>







<p class="date">
<a href="http://drvinceknight.github.io/unpeudemath/pedagogy/2015/04/06/my-5-reasons-why-jekyll-with-github-is-a-terrible-teaching-tool/">April 06, 2015 12:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>March 25, 2015</h2>

<div class="channelgroup">







<h3><a href="http://drvinceknight.github.io/unpeudemath/" title="Un peu de math">Vince Knight</a></h3>


<div class="entrygroup" id="http://drvinceknight.github.io/unpeudemath/pedagogy/2015/03/25/a_one_week_flipped_teaching_environment_to_introduce_object_oriented_programming/">
<h4><a href="http://drvinceknight.github.io/unpeudemath/pedagogy/2015/03/25/a_one_week_flipped_teaching_environment_to_introduce_object_oriented_programming/">A one week flipped learning environment to introduce Object Oriented Programming</a></h4>
<div class="entry">
<div class="content">
<p>This post describes a teaching activity that is run for the Cardiff MSc. programmes.
The activity is revolves around a two day hackathon that gets students to use Python and object oriented programming to solve a challenge.
The activity is placed within a flipped learning environment and makes use of what I feel is a very nice form of assessment (we just get to know the students).</p>

<p>This year is the third installment of this exercise which came as a result of the MSc advisory board requesting that object oriented programming be introduced to our MSc.</p>

<p>Before describing the activity itself let me just put this simple diagram that describes the flipped learning environment here (if you would like more info about it be sure to talk to <a href="https://plus.google.com/+RobertTalbert/posts">Robert Talbert</a> who has always been very helpful to me):</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/flipped_environment.svg" alt="" /></p>

<h2 id="description-of-what-happens">Description of what happens</h2>

<p>After 3 iterations and a number of discussions about the format with <a href="https://plus.google.com/u/0/+PaulHarper/posts">Paul Harper</a> (the director of the MSc) I think the last iteration is pretty spot on and it goes something like this:</p>

<h3 id="monday-transfer-of-content">Monday: Transfer of content</h3>

<p>We give a brief overview of Python (you can see the <a href="http://vincent-knight.com/Introduction_to_OOP/">slides here</a>) up until and including basic syntax for classes.</p>

<h3 id="tuesday--wednesday-nothing">Tuesday + Wednesday: Nothing</h3>

<p>Students can, if they want to, read up about Python, look through videos at the website and elsewhere, look through past challenges etc…
<strong>This is in effect when the knowledge transfer happens</strong></p>

<h3 id="thursday-flying-solo-followed-by-feedback">Thursday: Flying solo followed by feedback</h3>

<p>Students are handed a challenge of some sort (you can see the past two <a href="http://vincent-knight.com/Introduction_to_OOP/Challenges/">here</a>).
Students work in groups of 4 at attempting to solve the problem.
On this day, the two postgrads (<a href="https://plus.google.com/u/0/+JasonYoung/posts">Jason</a> and <a href="https://plus.google.com/u/0/118222786508884333473/posts">Geraint</a>) and myself observe the groups.
When we are asked questions we in general ask questions back.
This sometimes leads to a fair bit of frustration but is the difficult process that makes the rest of the process worthwhile.</p>

<p>Here is a photo of some of the groups getting to work:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/oop_thursday_gp_1.jpg" alt="" />
<img src="http://vincent-knight.com/unpeudemath/assets/images/oop_thursday_gp_2.jpg" alt="" /></p>

<p>At the very end of the day (starting at 1600 for about 30 minutes with each group).
During this feedback session go through the code written by each group in detail, highlighting things they are having difficulty with and agreeing on a course of action for the next day.
<strong>This is the point at which the class ‘flips’ so to speak: transfer of content is done and difficulties are identified and conceptualised</strong>.</p>

<p>Here is a photo of Jason, Geraint and I at the end of a very long day after the feedback sessions:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/oop_post_feedback.jpg" alt="" /></p>

<p>The other point of this day is that we start our continuous assessment: taking notes and discussing how each group is doing:</p>

<ul>
  <li>Where are they progress wise?</li>
  <li>What difficulties do we need to look out for?</li>
  <li>How are the groups approaching the problem and working together.</li>
</ul>

<p>Here you can see a photo of Jason in front of the board that we fill up over the 2 days with notes and comments:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/oop_board.jpg" alt="" /></p>

<h3 id="friday-sprint-finish-with-more-assistance">Friday: Sprint finish with more assistance</h3>

<p>On the second/last day students are given slightly more assistance from Jason, Geraint and I but are still very much left to continue with their hard work.
The main difference being that when students ask questions we sometimes answer them.</p>

<p>Here is one group who managed to crack something quite difficult on the second day:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/oop_friday_gp.jpg" alt="" /></p>

<p>The final part of this day is to round all the students together and announce the marks, which brings us nicely to the assessment part of this activity.</p>

<h2 id="assessment">Assessment</h2>

<p>I really enjoy assessing this activity.
This is not something I say about assessment very often, but we are continuously assessing the students and are able to gain a true idea of how they do.
The final piece of code is not what everything is marked on as it is in essence not terribly important.</p>

<p>Here is a photo of the team who did the best this year:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/oop_winners.jpg" alt="" /></p>

<p>If I could sit with students over the 11 week period of the other courses I teach and get to know them and assess them that way, that is indeed how I would do it.</p>

<h2 id="summary"> Summary</h2>

<p>Here is a summary of how I feel this activity fits in the original diagram I had:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/oop_day_as_a_flipped_environment.svg" alt="" /></p>

<p>As you can see despite ‘being in contact’ with students for most of Thursday I would not consider this contact time in the usual sense as most of that contact is part of the assessment.</p>

<p>This is always a very fun (and exhausting) two days and I look forward to next year.</p></div>







<p class="date">
<a href="http://drvinceknight.github.io/unpeudemath/pedagogy/2015/03/25/a_one_week_flipped_teaching_environment_to_introduce_object_oriented_programming/">March 25, 2015 12:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>March 24, 2015</h2>

<div class="channelgroup">







<h3><a href="http://drvinceknight.github.io/unpeudemath/" title="Un peu de math">Vince Knight</a></h3>


<div class="entrygroup" id="http://drvinceknight.github.io/unpeudemath/pedagogy/2015/03/24/marrying_toys_and_students/">
<h4><a href="http://drvinceknight.github.io/unpeudemath/pedagogy/2015/03/24/marrying_toys_and_students/">Marrying toys and students</a></h4>
<div class="entry">
<div class="content">
<p>In class yesterday we took a look at matching games.
These are sometimes referred to as stable marriage problems.
To have some data for us to play with I asked for some volunteers to marry.
Sadly I apparently am not allowed to ask students to rank each other in class and I also do not have the authority to marry.
So, <a href="http://drvinceknight.blogspot.co.uk/2014/03/matching-games-in-class.html">like last year</a> I used some of my office toys and asked students to rank them.</p>

<p>I brought three toys to class:</p>

<ul>
  <li>The best ninja turtle: Donatello</li>
  <li>A tech deck</li>
  <li>A foam football</li>
</ul>

<p>I asked 3 students to come down and rank them and in turn I let the toys rank the students.</p>

<p>We discussed possible matchings with some great questions such as:</p>

<blockquote>
  <p>“Are we trying to make everyone as happy as possible?”</p>
</blockquote>

<p>The answer to that is: no.
We are simply trying to ensure that no one has an incentive to deviate from their current matching by breaking their match for someone they prefer and who also prefers them.</p>

<p>Here is the stable matching we found together:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/matching_game.jpg" alt="" /></p>

<p>Note that we can run the Gale-Shapley value using Sage:</p>

<div class="compute"></div>

<p>The 3 students got to hold on to the toys for the hour and I was half expecting the football to be thrown around but sadly that did not happen.
Perhaps next year.</p></div>







<p class="date">
<a href="http://drvinceknight.github.io/unpeudemath/pedagogy/2015/03/24/marrying_toys_and_students/">March 24, 2015 12:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>March 23, 2015</h2>

<div class="channelgroup">







<h3><a href="http://drvinceknight.github.io/unpeudemath/" title="Un peu de math">Vince Knight</a></h3>


<div class="entrygroup" id="http://drvinceknight.github.io/unpeudemath/pedagogy/2015/03/23/cooperative_basketball_in_class/">
<h4><a href="http://drvinceknight.github.io/unpeudemath/pedagogy/2015/03/23/cooperative_basketball_in_class/">Cooperative basketball in class</a></h4>
<div class="entry">
<div class="content">
<p>Today in class we repeated the game we played <a href="http://drvinceknight.blogspot.co.uk/2014/03/basketball-and-cooperative-games-in.html">last year</a>.
3 teams of 3 students took part this year and here is a photo of the aftermath:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/basketball.jpg" alt="" /></p>

<p>As a class we watched the three teams attempt to free-throw as many crumpled up pieces of paper in to the bin as possible.</p>

<p>Based on the total number we then tried to come up with how many each subset/coalition of players would have gotten in.
So for example, 2 out of 3 of the teams had one student crumple paper while the other 2 took shots.
So whilst that individual did not get any in, they contributed an important part to the team effort.</p>

<p>Here are the characteristic functions that show what each team did:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/basketball-characteristic-functions.jpg" alt="" /></p>

<p>Here is some <a href="http://sagemath.org/">Sage</a> code that gives the Shapley value for each game (<a href="http://vincent-knight.com/Year_3_game_theory_course/Content/Chapter_16_Cooperative_games/">take a look at my class notes</a> or at <a href="http://drvinceknight.blogspot.co.uk/2014/03/basketball-and-cooperative-games-in.html">last years post</a> to see how to calculate this):</p>

<p>Let us define the first game:</p>

<div class="compute"></div>

<p>If you click <code>Evaluate</code> above you see that the Shapley value is given by:</p>



<p>(This one we calculated in class)</p>

<p>By changing the numbers above we get the following for the other two games.</p>

<ul>
  <li>
    <p>Game 2:</p>

    
  </li>
  <li>
    <p>Game 3:</p>

    
  </li>
</ul>

<p>This was a bit of fun and most importantly from a class point of view gave us some nice numbers to work from and calculate the Shapley value together.</p>

<p>If anyone would like to read about the Shapley value a bit more take a look at the <a href="http://www.sagemath.org/doc/reference/game_theory/sage/game_theory/cooperative_game.html">Sage documentation</a> which not only shows how to calculate it using Sage but also goes over some of the mathematics (including another formulation).</p></div>







<p class="date">
<a href="http://drvinceknight.github.io/unpeudemath/pedagogy/2015/03/23/cooperative_basketball_in_class/">March 23, 2015 12:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>March 19, 2015</h2>

<div class="channelgroup">







<h3><a href="http://drvinceknight.github.io/unpeudemath/" title="Un peu de math">Vince Knight</a></h3>


<div class="entrygroup" id="http://drvinceknight.github.io/unpeudemath/pedagogy/2015/03/19/playing_stochastic_games_in_class/">
<h4><a href="http://drvinceknight.github.io/unpeudemath/pedagogy/2015/03/19/playing_stochastic_games_in_class/">Playing stochastic games in class</a></h4>
<div class="entry">
<div class="content">
<p>The final blog post I am late in writing is about the Stochastic game we played in class last week.
The particular type of game I am referring to is also called a Markov game where players play a series of Normal Form games, with the <em>next</em> game being picked from a random distribution the nature of which depends on the strategy profiles.
In other words the choice of the players does not only impact on the utility gained by the players but also on the probability of what the net game will be…
I blogged about <a href="http://drvinceknight.blogspot.co.uk/2014/03/playing-stochasticmarkov-games-in-class.html">this last year</a> so feel free to read about some of the details there.</p>

<p>The main idea is that one stage game corresponds to this normal form game (a prisoner’s dilemma):</p>



<p>at the other we play:</p>



<p>The probability distributions, of the form \((x,1-x)\) where \(x\) is the probability with which we play the first game again are given by:</p>



<p>and the probability distribution for the second game was \((0,1)\).
In essence the second game was an <em>absorption</em> game and so players would try and avoid it.</p>

<p>To deal with the potential for the game to last for ever we played this with a discounting factor \(\delta=1/2\).
Whilst that discounting factor will be interpreted as such in theory, for the purposes of playing the game in class we used that as a probability at which the game continues.</p>

<p>You can see a photo of this all represented on the board:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/markov_game-game.jpg" alt="" /></p>

<p>We played this as a team game and you can see the results here:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/markov_game-results.jpg" alt="" /></p>

<p>As opposed to last year no actual duel lasted more than one round: I had a coded dice to sample at each step.
The first random roll of the dice was to see if the game continued based on the \(\delta\) property (this in effect ‘deals with infinity’).
The second random sample was to find out which game we payed next and if we ever went to the absorption games things finished there.</p>

<p>The winner was team B who in fact defected after the initial cooperation in the first game (perhaps that was enough to convince other teams they would be cooperative).</p>

<p>After playing this, we calculated (using some basic algebra examining each potential pure equilibria) the Nash equilibria for this game and found that there were two pure equilibria: both players Cooperating and both players defecting.</p></div>







<p class="date">
<a href="http://drvinceknight.github.io/unpeudemath/pedagogy/2015/03/19/playing_stochastic_games_in_class/">March 19, 2015 12:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>March 18, 2015</h2>

<div class="channelgroup">







<h3><a href="http://sheaves.github.io/" title="Sheaves">Liang Ze</a></h3>


<div class="entrygroup" id="http://sheaves.github.io/Character-Theory/">
<h4><a href="http://sheaves.github.io/Character-Theory/">Character Theory Basics</a></h4>
<div class="entry">
<div class="content">
<p>This post illustrates some of SageMath’s character theory functionality, as well as some basic results about characters of finite groups. </p>

<!--more-->

<h2 id="basic-definitions-and-properties">Basic Definitions and Properties</h2>

<p>Given a representation $(V,\rho)$ of a group $G$, its <a href="http://en.wikipedia.org/wiki/Character_theory" target="_blank"><strong>character</strong></a> is a map $ \chi: G \to \mathbb{C}$ that returns the <a href="http://en.wikipedia.org/wiki/Trace_(linear_algebra)" target="_blank">trace</a> of the matrices given by $\rho$:</p>



<p>A character $\chi$ is <strong>irreducible</strong> if the corresponding $(V,\rho)$ is <a href="http://sheaves.github.io/Representation-Theory-Irreducibility-Indecomposability/" target="_blank">irreducible</a>.</p>

<p>Despite the simplicity of the definition, the (irreducible) characters of a group contain a surprising amount of information about the group. Some <a href="http://en.wikipedia.org/wiki/Character_theory#Applications" target="_blank">big theorems</a> in group theory depend heavily on character theory.</p>

<p>Let’s calculate the character of the permutation representation of $D_4$. For each $g \in G$, we’ll display the pairs:</p>



<p><em>(The Sage cells in this post are linked, so things may not work if you don’t execute them in order.)</em></p>

<div class="linked">
  
</div>

<p>Many of the following properties of characters can be deduced from properties of the trace:</p>

<ol>
  <li>The <strong>dimension</strong> of a character is the dimension of $V$ in $(V,\rho)$. Since $\rho(\text{Id})$ is always the identity matrix, the dimension of $\chi$ is $\chi(\text{Id})$.</li>
  <li>Because the trace is <a href="http://en.wikipedia.org/wiki/Similarity_invariance" target="_blank">invariant under similarity transformations</a>, $\chi(hgh^{-1}) = \chi(g)$ for all $g,h \in G$. So characters are constant on conjugacy classes, and are thus <a href="http://en.wikipedia.org/wiki/Class_function" target="_blank"><strong>class functions</strong></a>.</li>
  <li>Let $\chi_V$ denote the character of $(V,\rho)$. Recalling the definitions of <a href="http://sheaves.github.io/Representation-Theory-Sums-Products/" target="_blank">direct sums and tensor products</a>, we see that</li>
</ol>



<h2 id="the-character-table">The Character Table</h2>

<p>Let’s ignore the representation $\rho$ for now, and just look at the character $\chi$:</p>

<div class="linked">
  
</div>

<p>This is succinct, but we can make it even shorter. From point 2 above, $\chi$ is constant on conjugacy classes of $G$, so we don’t lose any information by just looking at the values of $\chi$ on each conjugacy class:</p>

<div class="linked">
  
</div>

<p>Even shorter, let’s just display the values of $\chi$:</p>

<div class="linked">
  
</div>

<p>This single row of numbers represents the character of <em>one</em> representation of $G$. If we knew all the irreducible representations of $G$ and their corresponding characters, we could form a table with one row for each character. This is called the <a href="http://en.wikipedia.org/wiki/Character_table" target="_blank"><strong>character table</strong></a> of $G$.</p>

<p>Remember how we had to define our representations by hand, one by one? We don’t have to do that for characters, because  SageMath has the <a href="http://www.sagemath.org/doc/constructions/rep_theory.html" target="_blank">character tables of small groups built-in</a>:</p>

<div class="linked">
  
</div>

<p>This just goes to show how important the character of a group is. We can also access individual characters as a functions. Let’s say we want the last one:</p>

<div class="linked">
  
</div>

<p>Notice that the character we were playing with, $[4,2,0,0,0]$, is not in the table. This is because its representation $\rho$  is not irreducible. At the end of the post on <a href="http://sheaves.github.io/Representation-Theory-Decomposing-Representations/" target="_blank">decomposing representations</a>, we saw that $\rho$ splits into two $1$-dimensional irreducible representations and one $2$-dimensional one. It’s not hard to see that the character of $\rho$ is the sum of rows 1,4 and 5 in our character table:</p>

<div class="linked">
  
</div>

<p>Just as we could decompose every representation of $G$ into a sum of irreducible representations, we can express any character as a sum of irreducible characters. </p>

<p>The next post discusses how to do this easily, by making use of the <a href="http://en.wikipedia.org/wiki/Schur_orthogonality_relations">Schur orthogonality relations</a>. These are really cool relations among the rows and columns of the character table. Apart from decomposing representations into irreducibles, we’ll also be able to prove that the character table is always square!</p></div>







<p class="date">
<a href="http://sheaves.github.io/Character-Theory/">March 18, 2015 11:01 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>March 17, 2015</h2>

<div class="channelgroup">







<h3><a href="http://drvinceknight.github.io/unpeudemath/" title="Un peu de math">Vince Knight</a></h3>


<div class="entrygroup" id="http://drvinceknight.github.io/unpeudemath/gametheory/2015/03/17/incomplete_information_games_in_class/">
<h4><a href="http://drvinceknight.github.io/unpeudemath/gametheory/2015/03/17/incomplete_information_games_in_class/">Incomplete information games in class</a></h4>
<div class="entry">
<div class="content">
<p>Last week my class and I looked at the basics of games with incomplete information.
The main idea is that players do not necessarily know where there are in an extensive form game.
We repeated a game I played last year that you can read about <a href="http://drvinceknight.blogspot.co.uk/2014/03/playing-game-with-incomplete.html">here</a>.</p>

<p>Here is a picture of the game we played (for details take a look at the post from last year):</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/matchingpenniesunderuncertainty.png" alt="" /></p>

<p>We played a round robing where everyone played against everyone else and you can see the results in these two notebook pages that Jason kept track off:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/2015-incomplete-info-game-1.jpg" alt="" />
<img src="http://vincent-knight.com/unpeudemath/assets/images/2015-incomplete-info-game-2.jpg" alt="" /></p>

<p>We see that the winner was Reg, who on both occasions of being the second player: went with the coin.</p>

<p>To find the Nash equilibria for this game we can translate it in to normal form game by doing the following two things:</p>

<ol>
  <li>Identify the strategy sets for the players</li>
  <li>Averaging of the outcome probabilities</li>
</ol>

<p>This gives the following strategies:</p>



<p>and</p>



<p>The strategies for the second player correspond to a 2-vector indexed by the information sets of the second player.
In other words the first letter says what to do if the coin comes up as heads and the second letter says what to do if the coin comes up as tails:</p>

<ol>
  <li>\(HH\): No matter what: play heads;</li>
  <li>\(HT\): If the coin comes up as heads: play heads. If the coin comes up as tails: play tails.</li>
  <li>\(TH\): If the coin comes up as heads: play tails. If the coin comes up as tails: play heads.</li>
  <li>\(TT\): No matter what: play tails;</li>
</ol>

<p>Once we have done that and using the above ordering we can obtain the normal form game representation:</p>



<p>In class we obtained the Nash equilibria for this game by realising that the third column strategy (\(TH\): always disagree with the coin) was dominated and then carrying out some indifference analysis.</p>

<p>Here let us just throw it at Sage (<a href="https://www.youtube.com/watch?v=QjXAvRiU4Og">here is a video showing and explaining some of the code</a>):</p>

<div class="compute"></div>

<p>The equilibria returned confirms what we did in class: the first player can more or less randomly (with bounds on the distribution) pick heads or tails but the second player should always agree with the coin.</p></div>







<p class="date">
<a href="http://drvinceknight.github.io/unpeudemath/gametheory/2015/03/17/incomplete_information_games_in_class/">March 17, 2015 12:00 AM</a>
</p>
</div>
</div>




<div class="entrygroup" id="http://drvinceknight.github.io/unpeudemath/gametheory/2015/03/17/discussing_the_game_theory_of_walking_in_class/">
<h4><a href="http://drvinceknight.github.io/unpeudemath/gametheory/2015/03/17/discussing_the_game_theory_of_walking_in_class/">Discussing the game theory of walking/driving in class</a></h4>
<div class="entry">
<div class="content">
<p>Last week, in game theory class we looked at pairwise contest games.
To introduce this we began by looking at the particular game that one could use to model the situation of two individuals walking or driving towards each other:</p>



<p>The above models people walking/driving towards each other and choosing a side of the road.
If they choose the same side they will not walk/drive in to each other.</p>

<p>I got a coupe of volunteers to simulate this and ‘walk’ towards each other having picked a side.
We very quickly arrived at one of the stage Nash equilibria: both players choosing left and/or choosing right.</p>

<p>I wrote a blog post about this a while ago when the BBC wrote an article about social convention.
You can read that <a href="http://vincent-knight.com/unpeudemath/mathematics/2014/07/27/game-theory-and-pavement-etiquette/">here</a>.</p>

<p>We went on to compute the evolutionary stability of 3 potential stable equilibria:</p>

<ol>
  <li>Everyone driving on the left;</li>
  <li>Everyone driving on the right;</li>
  <li>Everyone randomly picking a side each time.</li>
</ol>

<p>Note that the above corresponds to the three Nash equilibria of the game itself.
You can see this using some Sage code immediately (<a href="https://www.youtube.com/watch?v=QjXAvRiU4Og">here is a video I just put together showing how one can use Sage to obtain Nash equilibria</a>) - just click on ‘Evaluate’:</p>

<div class="compute"></div>

<p>We did this calculations in two ways:</p>

<ol>
  <li>From first principles using the definitions of evolutionary stability (this took a while).
2 Using a clever theoretic result that in effect does the analysis for us once and for all.</li>
</ol>

<p>Both gave us the same result: driving on a given side of the road is evolutionarily stable whereas everyone randomly picking a side is not (a nudge in any given direction would ensure people picked a side).</p>

<p>This kind of corresponds to the two (poorly drawn) pictures below:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/stability.svg" alt="" /></p>

<p>To further demonstrate the instability of the ‘choose a random side’ situation here is a plot of the actual evolutionary process (<a href="https://www.youtube.com/watch?v=Tz-lZy0AKRI">here is a video that shows what is happening</a>):</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/evolution_from_random_walking.png" alt="" /></p>

<p>We see that if we start by walking randomly the tiniest of mutation send everyone to picking a side.</p></div>







<p class="date">
<a href="http://drvinceknight.github.io/unpeudemath/gametheory/2015/03/17/discussing_the_game_theory_of_walking_in_class/">March 17, 2015 12:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>March 12, 2015</h2>

<div class="channelgroup">







<h3><a href="http://sheaves.github.io/" title="Sheaves">Liang Ze</a></h3>


<div class="entrygroup" id="http://sheaves.github.io/Animations/">
<h4><a href="http://sheaves.github.io/Animations/">Animated GIFs</a></h4>
<div class="entry">
<div class="content">
<p>I really should be posting about character theory, but I got distracted making some aesthetic changes to this blog (new icon and favicon!) and creating animations like this:</p>

<p><img src="http://sheaves.github.io/images/harmonograph_loop.gif" alt="harmonograph" /></p>

<!--more-->

<div class="no_out">
  
</div>

<p>I’m not putting this in a SageCell because this could take quite a while, especially if you increase the number of frames (by changing the parameters in <code>srange</code>), but feel free to try it out on your own copy of Sage. It saves an animated GIF that loops forever (<code>iterations = 0</code>) at the location specified by <code>savefile</code>.</p>

<p>For more information, checkout the <a href="http://www.sagemath.org/doc/reference/plotting/sage/plot/animate.html">Sage reference for animated plots</a>.</p></div>







<p class="date">
<a href="http://sheaves.github.io/Animations/">March 12, 2015 12:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>March 08, 2015</h2>

<div class="channelgroup">







<h3><a href="http://drvinceknight.github.io/unpeudemath/" title="Un peu de math">Vince Knight</a></h3>


<div class="entrygroup" id="http://drvinceknight.github.io/unpeudemath/pedagogy/2015/03/08/playing-an-infinitely-repeated-game-in-class/">
<h4><a href="http://drvinceknight.github.io/unpeudemath/pedagogy/2015/03/08/playing-an-infinitely-repeated-game-in-class/">Playing an infinitely repeated game in class</a></h4>
<div class="entry">
<div class="content">
<p>Following <a href="http://vincent-knight.com/unpeudemath/pedagogy/2015/02/26/this-class-teaches-me-to-not-trust-my-classmates/">the iterated Prisoner’s dilemma tournament my class I and I played last week</a> we went on to play a version of the game where we repeated things infinitely many times.
This post will briefly describe what we got up to.</p>

<p>As you can read in the post about this activity from <a href="http://drvinceknight.blogspot.co.uk/2014/02/iterated-prisoners-dilemma-with-twist.html">last year</a>, the way we play for an infinite amount of time (that would take a while) is to apply a discounting factor \(\delta\) to the payoffs <strong>and</strong> to interpret this factor as the probability with which the game continues.</p>

<p><strong>Before I go any further (and put up pictures with the team names) I need to explain something (for the readers who are not my students).</strong></p>

<p>For every class I teach I insist in spending a fair while going over a mid module feedback form that is used at Cardiff University (asking students to detail 3 things they like and don’t like about the class).
One student wrote (what is probably my favourite piece of feedback ever):</p>

<blockquote>
  <p>“Vince is a dick… but in a good way.”</p>
</blockquote>

<p>Anyway, I mentioned that to the class during my feedback-feedback session and that explains one of the team names (which I found pretty amusing):</p>

<ul>
  <li>Orange</li>
  <li>Where’s the gun</li>
  <li>We don’t know</li>
  <li>Vince is a good dick</li>
</ul>

<p>Once we had the team names set up (and I stopped trying to stop laughing) I wrote some quick Python code that we could run after each iteration:</p>

<div class="highlight"><pre><code class="language-python"><span class="kn">import</span> <span class="nn">random</span>
<span class="n">continue_prob</span> <span class="o">=</span> <span class="o">.</span><span class="mi">5</span>

<span class="k">if</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">continue_prob</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">'Game continues'</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">'Game Over'</span></code></pre></div>

<p>We started off by playing with (\delta=.5) and here are the results:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/infinite_pd_2015_results.jpg" alt="" /></p>

<p>You can see the various duels here:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/infinite_pd_2015_duels.jpg" alt="" /></p>

<p>As you can see, very little cooperation happened this way and in fact because everyone could see what everyone else was doing Orange took advantage of the last round to create a coalition and win.
We also see one particular duel that cost two teams very highly (because the ‘dice rolls’ did not really help).</p>

<p>After this I suggest to the class that we play again but that no one got to see what was happening to the other teams (this was actually suggested to me by students the year before).
We went ahead with this and used \(delta=.25\): so the game had a less chance of carrying on.</p>

<p>You can see the result and duels here (this had to be squeezed on to a board that could be hidden):</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/infinite_pd_2015_second_game.jpg" alt="" /></p>

<p>Based on the theory we would expect more cooperation to be likely but as you can see this did not happen.</p>

<p>The tie at the end was settled with a game of Rock Paper Scissors Lizard Spock which actually gave place to a rematch of the <a href="http://vincent-knight.com/unpeudemath/pedagogy/2015/02/13/rock-paper-scissors-lizard-spock/">Rock Paper Scissors Lizard Spock tournament</a> we played earlier.
Except this time Laura, lost her crown :)</p></div>







<p class="date">
<a href="http://drvinceknight.github.io/unpeudemath/pedagogy/2015/03/08/playing-an-infinitely-repeated-game-in-class/">March 08, 2015 12:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>February 26, 2015</h2>

<div class="channelgroup">







<h3><a href="http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/" title="Sébastien Labbé">Sébastien Labbé</a></h3>


<div class="entrygroup" id="http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/2015/02/arnoux-rauzy-poincare-sequences" lang="en">
<h4><a href="http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/2015/02/arnoux-rauzy-poincare-sequences">Arnoux-Rauzy-Poincaré sequences</a></h4>
<div class="entry">
<div class="content">
<div class="document">
<p>In a recent article with Valérie Berthé <a class="citation-reference" href="http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/2015/02/arnoux-rauzy-poincare-sequences#bl15" id="id1">[BL15]</a>, we provided a multidimensional
continued fraction algorithm called Arnoux-Rauzy-Poincaré (ARP) to construct,
given any vector \(v\in\mathbb{R}_+^3\), an infinite word
\(w\in\{1,2,3\}^\mathbb{N}\) over a three-letter alphabet such that the
frequencies of letters in \(w\) exists and are equal to \(v\) and such that
the number of factors (i.e.  finite block of consecutive letters) of length
\(n\) appearing in \(w\) is linear and less than \(\frac{5}{2}n+1\). We
also conjecture that for almost all \(v\) the contructed word describes a
discrete path in the positive octant staying at a bounded distance from the
euclidean line of direction \(v\).</p>
<p>In Sage, you can construct this word using the next version of my package
slabbe-0.2 (not released yet, email me to press me to finish it). The one with
frequencies of letters proportionnal to \((1, e, \pi)\) is:</p>


<div class="pygments_manni"><pre>sage: from slabbe.mcf import algo
sage: D = algo.arp.substitutions()
sage: it = algo.arp.coding_iterator((1,e,pi))
sage: w = words.s_adic(it, repeat(1), D)
word: 1232323123233231232332312323123232312323...
</pre></div>



<p>The factor complexity is close to 2n+1 and the balance is often less or equal
to three:</p>


<div class="pygments_manni"><pre>sage: w[:10000].number_of_factors(100)
202
sage: w[:100000].number_of_factors(1000)
2002
sage: w[:1000].balance()
3
sage: w[:2000].balance()
3
</pre></div>



<p>Note that bounded distance from the euclidean line almost surely was proven in
<a class="citation-reference" href="http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/2015/02/arnoux-rauzy-poincare-sequences#dhs2013" id="id2">[DHS2013]</a> for Brun algorithm, another MCF algorithm.</p>
<p><strong>Other approaches: Standard model and billiard sequences</strong></p>
<p>Other approaches have been proposed to construct such discrete lines.</p>
<p>One of them is the standard model of Eric Andres <a class="citation-reference" href="http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/2015/02/arnoux-rauzy-poincare-sequences#a03" id="id3">[A03]</a>. It is also equivalent
to billiard sequences in the cube. It is well known that the factor complexity
of billiard sequences is quadratic \(p(n)=n^2+n+1\) <a class="citation-reference" href="http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/2015/02/arnoux-rauzy-poincare-sequences#amst94" id="id4">[AMST94]</a>.
Experimentally, we can verify this. We first create a billiard word of some
given direction:</p>


<div class="pygments_manni"><pre>sage: from slabbe import BilliardCube
sage: v = vector(RR, (1, e, pi))
sage: b = BilliardCube(v)
sage: b
Cubic billiard of direction (1.00000000000000, 2.71828182845905, 3.14159265358979)
sage: w = b.to_word()
sage: w
word: 3231232323123233213232321323231233232132...
</pre></div>



<p>We create some prefixes of \(w\) that we represent internally as <tt class="docutils literal">char*</tt>.
The creation is slow because the implementation of billiard words in my
optional package is in Python and is not that efficient:</p>


<div class="pygments_manni"><pre>sage: p3 = Word(w[:10^3], alphabet=[1,2,3], datatype='char')
sage: p4 = Word(w[:10^4], alphabet=[1,2,3], datatype='char') # takes 3s
sage: p5 = Word(w[:10^5], alphabet=[1,2,3], datatype='char') # takes 32s
sage: p6 = Word(w[:10^6], alphabet=[1,2,3], datatype='char') # takes 5min 20s
</pre></div>



<p>We see below that exactly \(n^2+n+1\) factors of length \(n&lt;20\) appears in
the prefix of length 1000000 of \(w\):</p>


<div class="pygments_manni"><pre>sage: A = ['n'] + range(30)
sage: c3 = ['p_(w[:10^3])(n)'] + map(p3.number_of_factors, range(30))
sage: c4 = ['p_(w[:10^4])(n)'] + map(p4.number_of_factors, range(30))
sage: c5 = ['p_(w[:10^5])(n)'] + map(p5.number_of_factors, range(30)) # takes 4s
sage: c6 = ['p_(w[:10^6])(n)'] + map(p6.number_of_factors, range(30)) # takes 49s
sage: ref = ['n^2+n+1'] + [n^2+n+1 for n in range(30)]
sage: T = table(columns=[A,c3,c4,c5,c6,ref])
sage: T
  n    p_(w[:10^3])(n)   p_(w[:10^4])(n)   p_(w[:10^5])(n)   p_(w[:10^6])(n)   n^2+n+1
+----+-----------------+-----------------+-----------------+-----------------+---------+
  0    1                 1                 1                 1                 1
  1    3                 3                 3                 3                 3
  2    7                 7                 7                 7                 7
  3    13                13                13                13                13
  4    21                21                21                21                21
  5    31                31                31                31                31
  6    43                43                43                43                43
  7    52                55                56                57                57
  8    63                69                71                73                73
  9    74                85                88                91                91
  10   87                103               107               111               111
  11   100               123               128               133               133
  12   115               145               151               157               157
  13   130               169               176               183               183
  14   144               195               203               211               211
  15   160               223               232               241               241
  16   176               253               263               273               273
  17   192               285               296               307               307
  18   208               319               331               343               343
  19   224               355               368               381               381
  20   239               392               407               421               421
  21   254               430               448               463               463
  22   268               470               491               507               507
  23   282               510               536               553               553
  24   296               552               583               601               601
  25   310               596               632               651               651
  26   324               642               683               703               703
  27   335               687               734               757               757
  28   345               734               787               813               813
  29   355               783               842               871               871
</pre></div>



<p>Billiard sequences generate paths that are at a bounded distance from an
euclidean line. This is equivalent to say that the balance is finite. The
balance is defined as the supremum value of difference of the number of
apparition of a letter in two factors of the same length. For billiard
sequences, the balance is 2:</p>


<div class="pygments_manni"><pre>sage: p3.balance()
2
sage: p4.balance() # takes 2min 37s
2
</pre></div>



<p><strong>Other approaches: Melançon and Reutenauer</strong></p>
<p>Melançon and Reutenauer <a class="citation-reference" href="http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/2015/02/arnoux-rauzy-poincare-sequences#mr13" id="id5">[MR13]</a> also suggested a method that generalizes
Christoffel words in higher dimension. The construction is based on the
application of two substitutions generalizing the construction of sturmian
sequences. Below we compute the factor complexity and the balance of some of
their words over a three-letter alphabet.</p>
<p>On a three-letter alphabet, the two morphisms are:</p>


<div class="pygments_manni"><pre>sage: L = WordMorphism('1-&gt;1,2-&gt;13,3-&gt;2')
sage: R = WordMorphism('1-&gt;13,2-&gt;2,3-&gt;3')
sage: L
WordMorphism: 1-&gt;1, 2-&gt;13, 3-&gt;2
sage: R
WordMorphism: 1-&gt;13, 2-&gt;2, 3-&gt;3
</pre></div>



<p>Example 1: periodic case \(LRLRLRLRLR\dots\). In this example, the factor
complexity seems to be around \(p(n)=2.76n\) and the balance is at least 28:</p>


<div class="pygments_manni"><pre>sage: from itertools import repeat, cycle
sage: W = words.s_adic(cycle((L,R)),repeat('1'))
sage: W
word: 1213122121313121312212212131221213131213...
sage: map(W[:10000].number_of_factors, [10,20,40,80])
[27, 54, 110, 221]
sage: [27/10., 54/20., 110/40., 221/80.]
[2.70000000000000, 2.70000000000000, 2.75000000000000, 2.76250000000000]
sage: W[:1000].balance()  # takes 1.6s
21
sage: W[:2000].balance()  # takes 6.4s
28
</pre></div>



<p>Example 2: \(RLR^2LR^4LR^8LR^{16}LR^{32}LR^{64}LR^{128}\dots\) taken from
the conclusion of their article. In this example, the factor complexity seems
to be \(p(n)=3n\) and balance at least as high (=bad) as \(122\):</p>


<div class="pygments_manni"><pre>sage: W = words.s_adic([R,L,R,R,L,R,R,R,R,L]+[R]*8+[L]+[R]*16+[L]+[R]*32+[L]+[R]*64+[L]+[R]*128,'1')
sage: W.length()
330312
sage: map(W.number_of_factors, [10, 20, 100, 200, 300, 1000])
[29, 57, 295, 595, 895, 2981]
sage: [29/10., 57/20., 295/100., 595/200., 895/300., 2981/1000.]
[2.90000000000000,
 2.85000000000000,
 2.95000000000000,
 2.97500000000000,
 2.98333333333333,
 2.98100000000000]
sage: W[:1000].balance()  # takes 1.6s
122
sage: W[:2000].balance()  # takes 6s
122
</pre></div>



<p>Example 3: some random ones. The complexity \(p(n)/n\) occillates between 2
and 3 for factors of length \(n=1000\) in prefixes of length 100000:</p>


<div class="pygments_manni"><pre>sage: for _ in range(10):
....:     W = words.s_adic([choice((L,R)) for _ in range(50)],'1')
....:     print W[:100000].number_of_factors(1000)/1000.
2.02700000000000
2.23600000000000
2.74000000000000
2.21500000000000
2.78700000000000
2.52700000000000
2.85700000000000
2.33300000000000
2.65500000000000
2.51800000000000
</pre></div>



<p>For ten randomly generated words, the balance goes from 6 to 27 which is much
more than what is obtained for billiard words or by our approach:</p>


<div class="pygments_manni"><pre>sage: for _ in range(10):
....:     W = words.s_adic([choice((L,R)) for _ in range(50)],'1')
....:     print W[:1000].balance(), W[:2000].balance()
12 15
8 24
14 14
5 11
17 17
14 14
6 6
19 27
9 16
12 12
</pre></div>



<div class="section" id="references">
<h1>References</h1>
<table class="docutils citation" frame="void" id="bl15" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/2015/02/arnoux-rauzy-poincare-sequences#id1">[BL15]</a></td><td>V. Berthé, S. Labbé,
Factor Complexity of S-adic words generated by the Arnoux-Rauzy-Poincaré Algorithm,
<em>Advances in Applied Mathematics</em> 63 (2015) 90-130.
<a class="reference external" href="http://dx.doi.org/10.1016/j.aam.2014.11.001">http://dx.doi.org/10.1016/j.aam.2014.11.001</a></td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="dhs2013" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/2015/02/arnoux-rauzy-poincare-sequences#id2">[DHS2013]</a></td><td>Delecroix, Vincent, Tomás Hejda, and Wolfgang Steiner. “Balancedness of
Arnoux-Rauzy and Brun Words.” In Combinatorics on Words, 119–31. Springer,
2013. <a class="reference external" href="http://link.springer.com/chapter/10.1007/978-3-642-40579-2_14">http://link.springer.com/chapter/10.1007/978-3-642-40579-2_14</a>.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="a03" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/2015/02/arnoux-rauzy-poincare-sequences#id3">[A03]</a></td><td>E. Andres,
Discrete linear objects in dimension n: the standard model,
Graphical Models 65 (2003) 92-111.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="amst94" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/2015/02/arnoux-rauzy-poincare-sequences#id4">[AMST94]</a></td><td>P. Arnoux, C. Mauduit, I. Shiokawa, J. I. Tamura,
Complexity of sequences defined by billiards in the cube,
Bull. Soc. Math. France 122 (1994) 1-12.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="mr13" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/2015/02/arnoux-rauzy-poincare-sequences#id5">[MR13]</a></td><td>G. Melançon, C. Reutenauer,
On a class of Lyndon words extending Christoffel words and related to a
multidimensional continued fraction algorithm.
J. Integer Seq. 16, No. 9, Article 13.9.7, 30 p., electronic only (2013).
<a class="reference external" href="https://cs.uwaterloo.ca/journals/JIS/VOL16/Reutenauer/reut3.html">https://cs.uwaterloo.ca/journals/JIS/VOL16/Reutenauer/reut3.html</a></td></tr>
</tbody>
</table>
</div>
</div></div>







<p class="date">
<a href="http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/2015/02/arnoux-rauzy-poincare-sequences">by Sébastien Labbé at February 26, 2015 04:22 PM</a>
</p>
</div>
</div>



</div>
<div class="channelgroup">







<h3><a href="http://drvinceknight.github.io/unpeudemath/" title="Un peu de math">Vince Knight</a></h3>


<div class="entrygroup" id="http://drvinceknight.github.io/unpeudemath/pedagogy/2015/02/26/this-class-teaches-me-to-not-trust-my-classmates/">
<h4><a href="http://drvinceknight.github.io/unpeudemath/pedagogy/2015/02/26/this-class-teaches-me-to-not-trust-my-classmates/">This class teaches me to not trust my classmates: An iterated prisoners dilemma in class</a></h4>
<div class="entry">
<div class="content">
<p>On Monday, in class we played an iterated prisoner’s dilemma tournament.
I have done this many times (both in outreach events with <a href="http://www.profpaulharper.com/">Paul Harper</a> and in this class).
This is always a lot of fun but none more so than last year when Paul’s son Thomas joined us.
You can read about that one <a href="http://drvinceknight.blogspot.co.uk/2014/02/iterated-prisoners-dilemma-tournament.html">here</a>.</p>

<p>The format of the game is as close to that of Axelrod’s original tournament as I think it can be.
I split the class in to 4 teams and we create a round robin where each team plays every other team at 8 consecutive rounds of the prisoner’s dilemma:</p>



<p>The utilities represent ‘years in prison’ and over the 3 matches that each team will play (against every other team) the goal is to reduce the total amount of time spent in prison.</p>

<p>Here are some photos from the game:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/pd_2015_01.jpg" alt="" /></p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/pd_2015_02.jpg" alt="" /></p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/pd_2015_03.jpg" alt="" /></p>

<p>Here are the scores:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/pd_2015_results.jpg" alt="" /></p>

<p>We see that ‘We will take the gun’ acquired the least total score and so they won the collection of cookies etc…</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/pd_2015_cookies.jpg" alt="" /></p>

<p>(The names followed a promise from me to let the team with the coolest name have a nerf gun… Can’t say this had the wanted effect…)</p>

<p>At one point during the tournament, one team actually almost declared a strategy which was cool:</p>

<blockquote>
  <p>We will cooperate until you defect at which point we will reevaluate</p>
</blockquote>

<p>This was pretty cool as I hadn’t discussed at all what a strategy means in a repeated game (ie I had not discussed the fact that a strategy in a repeated game takes count of both play histories).</p>

<p>Here are all the actual duels:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/pd_2015_duels.jpg" alt="" /></p>

<p>You’ll also notice at the end that a coalition formed and one team agreed to defect so that they could share the prize.
This happens about 50% of the time when we play this game but I never cease to be amused by it.
Hopefully everyone found this fun and perhaps some even already agree with a bit of feedback I received on this course last year:</p>

<blockquote>
  <p>‘This class teaches me to not trust my classmates’</p>
</blockquote>

<p>One of the other really cool things that happened after this class was H asking for a hand to submit a strategy to my Axelrod repository.
She built a strategy called ‘Once Bitten’ that performs pretty well!
You can see it <a href="https://github.com/drvinceknight/Axelrod/blob/master/axelrod/strategies/oncebitten.py">here</a> (click on ‘Blame’ and you can see the code that she wrote).</p>

<p>(Big thanks to Jason for keeping track of the scores and to Geraint for helping and grabbing some nice pictures)</p></div>







<p class="date">
<a href="http://drvinceknight.github.io/unpeudemath/pedagogy/2015/02/26/this-class-teaches-me-to-not-trust-my-classmates/">February 26, 2015 12:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>February 20, 2015</h2>

<div class="channelgroup">







<h3><a href="http://drvinceknight.github.io/unpeudemath/" title="Un peu de math">Vince Knight</a></h3>


<div class="entrygroup" id="http://drvinceknight.github.io/unpeudemath/code/2015/02/20/an-iterated-prisoners-dilemma-on-github/">
<h4><a href="http://drvinceknight.github.io/unpeudemath/code/2015/02/20/an-iterated-prisoners-dilemma-on-github/">An iterated prisoners dilemma on github</a></h4>
<div class="entry">
<div class="content">
<p>In the 1980s Axelrod ran a computer tournament inviting people to contribute code that specified strategies in an iterated prisoner’s dilemma tournament.
I have just finished putting the final pieces on a Python repository on github (<a href="https://github.com/drvinceknight/Axelrod">github.com/drvinceknight/Axelrod</a>) to carry out the same tournament and would be delighted for people to contribute strategies via pull request (or indeed via any way possible: just get in touch).
In this post I’ll describe the process of adding a strategy to the repository (the first 3 minutes of a video at the end of this post show you exactly what you are required to do).</p>

<p>For a good overview of the iterated prisoner’s dilemma take a look at this page about <a href="http://cs.stanford.edu/people/eroberts/courses/soco/projects/1998-99/game-theory/axelrod.html">Axelrod’s tournament</a> but in a nutshell the idea is that two players (prisoners) repeatedly play the following game:</p>



<p>If in a particular round they both cooperate (first row/column) they both accrue 2 years in prison.
If one defects (second row/column) and the other cooperates: the defector gets 0 extra years in prison and the cooperator 5.
If they both defect they each accrue 4 years in prison.</p>

<p>Axelrod’s tournament invited contribution of strategies that took account of the history of both players over several rounds.
Thus a strategy that punished defectors would perhaps wait until a defection to do that (cooperating until then).
The tournament was a round robin with the lowest total/mean years in prison being deemed the winner.</p>

<p>This tournament has often been used to describe how cooperation can emerge in a population: the tit for tat strategy (which starts by cooperating and then simply repeats the previous action) won! (In fact it won both times as the tournament was repeated.)</p>

<p><strong>I have put together a github repository that allows anyone to contribute a strategy using Python to this tournament.</strong>
You can find it here: <a href="https://github.com/drvinceknight/Axelrod">https://github.com/drvinceknight/Axelrod</a>.</p>

<p>At present I have only implemented 6 strategies and you can see the result here:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/axelrod_results.png" alt="" /></p>

<p>To contribute you really only need to write very simple python code.
Here is the code for the tit for tat strategy:</p>

<div class="highlight"><pre><code class="language-python"><span class="kn">from</span> <span class="nn">axelrod</span> <span class="kn">import</span> <span class="n">Player</span>

<span class="k">class</span> <span class="nc">TitForTat</span><span class="p">(</span><span class="n">Player</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A player starts by cooperating and then mimics previous move by opponent.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">strategy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">opponent</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Begins by playing 'C':</span>
<span class="sd">        This is affected by the history of the opponent: the strategy simply repeats the last action of the opponent</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">opponent</span><span class="o">.</span><span class="n">history</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
            <span class="k">return</span> <span class="s">'C'</span>

    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The string method for the strategy.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s">'Tit For Tat'</span></code></pre></div>

<p>That is more or less just 3 lines of code.
I’ll now briefly describe adding another strategy to <a href="https://github.com/drvinceknight/Axelrod">this repository</a> (and I will do it entirely using the github web interface).</p>

<p>I am going to add a strategy called: ‘alternator’ which simply alternates strategies.</p>

<p>First I navigate to this url: <a href="https://github.com/drvinceknight/Axelrod/tree/master/axelrod/strategies">https://github.com/drvinceknight/Axelrod/tree/master/axelrod/strategies</a>:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/strategies_on_github.png" alt="" /></p>

<p>Here I can just click on the <code>+</code> at the top of the page (after: <code>Axelrod/axelrod/strategies/+</code>).
As this is my own github repository I can just immediately start creating a file, anyone else would be taken the github process of forking the repository:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/creating_alternator.png" alt="" /></p>

<p>After writing the code I simply scroll down to the bottom where I am able to commit the change but others would be able to submit a pull request:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/committing_alternator.png" alt="" /></p>

<p>Let us take a look at the actual code I wrote for the alternator class:</p>

<div class="highlight"><pre><code class="language-python"><span class="kn">from</span> <span class="nn">axelrod</span> <span class="kn">import</span> <span class="n">Player</span>

<span class="k">class</span> <span class="nc">Alternator</span><span class="p">(</span><span class="n">Player</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A player who alternates between cooperating and defecting</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">strategy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">opponent</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Alternate 'C' and 'D'</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">history</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s">'C'</span><span class="p">:</span>
            <span class="k">return</span> <span class="s">'D'</span>
        <span class="k">return</span> <span class="s">'C'</span>

    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The string method for the strategy:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s">'Alternator'</span></code></pre></div>

<p>This just inherits from a <code>Player</code> class I have created previously and all it really requires are two methods:</p>

<ul>
  <li><code>strategy</code>: this takes in the player itself (<code>self</code>) and the opponent and must return either <code>C</code> or <code>D</code>.
  Take a look through the other strategies to see how this can be written.</li>
  <li><code>__repr__</code>: this just returns what we want the strategy to look like when printed out.</li>
</ul>

<p>After writing the code itself we also need to modify the <code>__init__.py</code> file in the <code>strategies</code> directory.
Here I have added the relevant lines:</p>

<div class="highlight"><pre><code class="language-python"><span class="kn">from</span> <span class="nn">cooperator</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">defector</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">grudger</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">rand</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">titfortat</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">gobymajority</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">alternator</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c"># &lt;- Adding this line</span>


<span class="n">strategies</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">Defector</span><span class="p">,</span>
        <span class="n">Cooperator</span><span class="p">,</span>
        <span class="n">TitForTat</span><span class="p">,</span>
        <span class="n">Grudger</span><span class="p">,</span>
        <span class="n">GoByMajority</span><span class="p">,</span>
        <span class="n">Random</span><span class="p">,</span>
        <span class="n">Alternator</span><span class="p">,</span>  <span class="c"># And adding this line</span>
        <span class="p">]</span></code></pre></div>

<p>Now if you want to be super awesome you can also add a test for your strategy (this helps keep things organised and working but do not let this be an obstacle to contributing a strategy).
If you want to see what the test for the alternator looks like you can find it <a href="https://github.com/drvinceknight/Axelrod/blob/master/axelrod/tests/test_alternator.py">here</a> (the README has info as to how to run the tests).</p>

<p>The latest results (which as of the time of writing now only include the alternator as an extra strategy - <strong>EDIT</strong> Just before publishing this Geraint sent me a pull request for another strategy: this image is the live one from the github repo so will have more and more strategies) can be found seen here:</p>

<p><img src="https://github.com/drvinceknight/Axelrod/raw/master/results.png" alt="" /></p>

<p>If you clone <a href="https://github.com/drvinceknight/Axelrod">this repository</a> you can obtain that plot by running:</p>

<div class="highlight"><pre><code class="language-bash"><span class="nv">$ </span>python run_tournament.py</code></pre></div>

<p><strong>TLDR</strong>: Please contribute a strategy to this Python based version of Axelrod’s tournament on github: <a href="https://github.com/drvinceknight/Axelrod">https://github.com/drvinceknight/Axelrod</a>.</p>

<p>This would hopefully be of interest if:</p>

<ul>
  <li>You are slightly interested in Axelrod’s work</li>
  <li>You like Python</li>
  <li>You like Game Theory</li>
  <li>You have never had a pull request accepted before</li>
</ul>

<p>Here is a short video showing exactly how to contribute using nothing else than the github web interface (the first 3 minutes are all you really need to do):</p>

<div class="video">
    
    
    
</div></div>







<p class="date">
<a href="http://drvinceknight.github.io/unpeudemath/code/2015/02/20/an-iterated-prisoners-dilemma-on-github/">February 20, 2015 12:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>February 15, 2015</h2>

<div class="channelgroup">







<h3><a href="http://drvinceknight.github.io/unpeudemath/" title="Un peu de math">Vince Knight</a></h3>


<div class="entrygroup" id="http://drvinceknight.github.io/unpeudemath/gametheory/2015/02/15/on-the-worst-play-in-superbowl-history/">
<h4><a href="http://drvinceknight.github.io/unpeudemath/gametheory/2015/02/15/on-the-worst-play-in-superbowl-history/">On the worst play in superbowl history</a></h4>
<div class="entry">
<div class="content">
<p>In my last game theory class I gave students the choice between starting to rigorously look at extensive form games or to look at the last play of this years superbowl.
No one objected to looking at the superbowl play (which has been called <a href="https://www.youtube.com/watch?v=CZSqjfYaX4M">‘the worst play in superbowl history’</a>) as an opportunity to go over all the normal form game theory we have seen so far.</p>

<p>First of all I had to give a brief overview of American football so I drew a couple of pictures on the board, here is more or less what I drew:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/football_field.svg" alt="" /></p>

<p>I highlighted that the offensive team (the blue guys in my picture) can basically at any point do one of two things:</p>

<ul>
  <li><strong>Pass</strong>: the quarter back throws the ball down field.
  This works better when there is more room down the field for guys to get open but in general is a high risk high reward player.</li>
  <li><strong>Run</strong>: the quarter back hands the ball to the <em>running back</em>.
  This in general ensures a small gain of yards and is less risky (but has less reward).</li>
</ul>

<p>The defence can (at a very simplistic level) set up in two ways:</p>

<ul>
  <li><strong>Defend the pass</strong>: they might drop some of guys (red circles) ‘out of the box’ in a way as to cover blue guys trying to get open.</li>
  <li><strong>Defend the run</strong>: they might drop more guys (red crosses) ‘in to the box’, leaving less people to cover the pass but having more people ready to stop the running back from gaining yards.</li>
</ul>

<p>This immediately lets us set up (in a simplistic way) every phase of play in American Football as a two player normal form game where the <em>Offense</em> has strategy set: \(S_O=\{\text{P},\text{R}\}\) and the <em>Defense</em> has strategy set: \(S_D=\{\text{DP},\text{DR}\}\).</p>

<p>Now, to return to what is being called ‘the worst play in superbowl history’:</p>

<div class="video">
    
        
    
</div>

<ul>
  <li>The Seahawks have one of the best running backs in the game (funny interview of his <a href="https://www.youtube.com/watch?v=G1kvwXsZtU8">here</a>);</li>
  <li>They had the ball very close to the score line with downs (attempts) to spare.</li>
</ul>

<p>Everyone seems to be saying that ‘not rushing’ was an idiotic thing to do.
<a href="http://www.economist.com/blogs/gametheory/2015/02/game-theory-american-football">This article by the Economist</a> explains things pretty well (including the back story), but in my class on Friday I thought I would go through the mathematics of it all.</p>

<p>First of all let us build some basic utilities (to be clear I am more or less pulling these out of a hat although I will carry out some Monte Carlo simulation at the end of this blog post).</p>

<ul>
  <li>Let us assume (because Lynch is awesome) that on average running against a run defence would work 60% of the time;</li>
  <li>Running against a pass defence would work 98% of the time;</li>
  <li>Passing against a rush defence would work 90% of the time;</li>
  <li>Passing against a pass defence would work 50% of the time.</li>
</ul>

<p>Our normal form game then looks like this (assuming that the game is zero sum):</p>



<p><strong>If the Seahawks were 100% going to run the ball</strong>, in such a way as that the defence were in no doubt then the obvious best response is to use a rush defence (in reality this is actually what happened and the defensive player that was fairly isolated just made an amazing play).
Then, the chance of the Seahawks scoring is 60%.</p>

<p><strong>What does game theory say should happen?</strong></p>

<p>First of all what should the offence do to ensure that the defense sometimes defends the pass?
The theory tells us that the offence should make the defense indifferent.
So let us assume that the offence runs \(x\) of the time so that the player is playing mixed strategy: \(\sigma_{\text{O}}=(x,1-x)\).
The Nash equilibrium strategy for the offence would then obey the following equation:</p>



<p>the above corresponds to:</p>



<p>which has solution: \(x=20/30\approx.51\).
So to make the defense indifferent, the offense should run <em>only</em> 51% of the time!</p>

<p><strong>This in itself is not a Nash equilibria:</strong> we need to calculate the strategy that the defense should play so as to make the offense indifferent.
We let \(\sigma_{\text{D}}=(y,1,y)\) and now need to solve:</p>



<p>the above corresponds to:</p>



<p>which has solution: \(y=8/13\approx.62\).
So to make the offense indifferent, the defense should defend the run 62% of the time.</p>

<p><strong>How good is the Nash equilibria?</strong></p>

<p>We discussed earlier that if the offense passed with 0 probability (so in fact <strong>always</strong> ran in that situation) then the probability of scoring would be 60% (because the defense would know and just defend the run).
The Nash equilibria we have calculated ensured that the play calling is balanced: which ‘keeps the defense honest’.
What is the effect of this on offenses chances of scoring?</p>

<p>To find this out we can simply calculate the utility at the Nash equilibria.
We can do this by calculating:</p>



<p><strong>or</strong> because of the indifference ensured earlier we can just calculate:</p>



<p>So the Nash Equilibria makes things \(74.62/60\approx 1.24\) times better for the offense.
Thus, in way, by picking a strategy in that particular instance that ended up not paying off, the offense ensured a larger long term chance of scoring in a similar situation.</p>

<p><strong>Some sensitivity analysis</strong></p>

<p>I have completely picked numbers more or less out of a hat.
Thankfully we can combine the above analysis with some <a href="http://en.wikipedia.org/wiki/Monte_Carlo_method">Monte Carlo simulation</a> to see how much of an effect the assumptions have.</p>

<p>Let us consider the general form of our game as:</p>



<p>If the <strong>offense always runs</strong> then the expected chance of scoring is simply \(A\).</p>

<p>Let us make the following assumptions:</p>

<ol>
  <li>Running against a pass defense is always better than running against a run defense: \(A&lt;B\).</li>
  <li>Passing against a run defense is always better than passing against a pass defense: \(C&gt;D\).</li>
  <li>Passing against a run defense is always better than running against a run defense: \(A&lt;C\).</li>
  <li>Running against a pass defense is always better than passing against a pass defense: \(B&gt;D\).</li>
</ol>

<p>This simple set of assumptions ensures that no strategies are dominated for either player and so our Nash equilibria will be a mixed Nash equilibrium.
Let us find the expected chance of scoring for the offence at the Nash equilibrium.</p>

<p>The defense will ensure that the offense is indifferent:</p>



<p>which is equivalent to:</p>



<p>This has solution:</p>



<p>(which thanks to our assumptions is indeed a probability distribution.)</p>

<p>Now thanks to this we can compute \(\alpha\) which will be some measure of how much better things are for the offense at the Nash equilibria (calculated as \(1.24\) earlier on).</p>



<p>which we can compute at Nash equilibrium as:</p>



<p><strong>Monte carlo simulation</strong></p>

<p>Now that that hard work is done let us write some very simple Python code that will randomly sample values for \(A,B,C,D\) according to our assumptions and then we can see what effect this has on \(alpha\).</p>

<p>Let us sample our input parameters according to the following:</p>

<ul>
  <li>\(A \sim \mathcal{N} (60,10^2)\): normal distribution with mean 60 and standard deviation 10.
  Running against a run defense would work on average 60% of the time with a fair bit of variation.</li>
  <li>\(B \sim \mathcal{N} (95,5^2)\): normal distribution with mean 95 and standard deviation 5.
  Running against a pass defense works predictably well.</li>
  <li>
    <p>\(C \sim \mathcal{N} (85,15^2)\): normal distribution with mean 85 and standard deviation 15.
  Passing against a run defense works well but not robustly.</p>
  </li>
  <li>\(D \sim \mathcal{N} (50,20^2)\): normal distribution with mean 50 and standard deviation 20.
  Passing against a pass defense does not well very well.</li>
</ul>

<p>After sampling each parameter, a set of parameters is only accepted as valid if it follows the assumptions mentioned earlier (all the inequalities).
Here is what the parameters look like after running 100000 simulations:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/parameters.png" alt="" /></p>

<p>Now to look at some of the results.
Here is what \(y\) looks like:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/y.png" alt="" /></p>

<p>Recall that \(y\) is the probability with which the defense should defend the run.
Finally, let us take a look at what \(\alpha\) looks like:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/alpha.png" alt="" /></p>

<p>Recall that \(\alpha\) denotes the ratio of the scoring probability when the Nash equilibrium is played over the ‘just run all the time’.
The graph is rather unhelpful as the tail is extremely long <em>but</em> there are some instances of our Monte Carlo simulation that have yielded a ten fold increase in scoring probability (this will occur when \(A\) is pretty low to begin with).</p>

<p>The mean ratio (based on our assumptions) is \(1.24\) and importantly the minimum is greater than \(1\).</p>

<p>All of this shows that even with a very broad relaxation of our assumptions it makes sense to <em>at times</em> run the ball.
So game theory does in effect say that this was not ‘the worst play in super bowl history’ as it makes sense to <em>at times</em> pass in that situation.</p>

<p>TLDR: (Based on the assumptions) the coach who truly will at time pass in that situation will win the superbowl 24% more of the time than the coach who would only ever run.</p>

<p>Nonetheless this is ignoring a lot of the subtleties of the game itself, non more so than the fact the Patriots in fact came out in a run defense formation and the game was simply won by a great defensive play.</p>

<p>The code for all this can be found <a href="https://gist.github.com/33a13a6ce053178c3c52">here</a>.</p></div>







<p class="date">
<a href="http://drvinceknight.github.io/unpeudemath/gametheory/2015/02/15/on-the-worst-play-in-superbowl-history/">February 15, 2015 12:00 AM</a>
</p>
</div>
</div>



</div>
<div class="channelgroup">







<h3><a href="http://sheaves.github.io/" title="Sheaves">Liang Ze</a></h3>


<div class="entrygroup" id="http://sheaves.github.io/Group-Ring-Regular-Representation/">
<h4><a href="http://sheaves.github.io/Group-Ring-Regular-Representation/">The Group Ring and the Regular Representation</a></h4>
<div class="entry">
<div class="content">
<p>In the <a href="http://sheaves.github.io/Representation-Theory-Decomposing-Representations/" target="_blank">previous post</a>, we saw how to decompose a given group representation into irreducibles. But we still don’t know much about the irreducible representations of a (finite) group. What do they look like? How many are there? Infinitely many?</p>

<p>In this post, we’ll construct the <a href="http://en.wikipedia.org/wiki/Group_ring" target="_blank">group ring</a> of a group. Treating this as a vector space, we get the <a href="http://en.wikipedia.org/wiki/Regular_representation" target="_blank">regular representation</a>, which turns out to contain <em>all</em> the irreducible representations of $G$!</p>

<!--more-->

<h2 id="the-group-ring-fg">The group ring $FG$</h2>

<p>Given a (finite) group $G$ and a field $F$, we can treat each element of $G$ as a basis element of a vector space over $F$. The resulting vector space generated by $g \in G$ is</p>



<p>Let’s do this is Sage with the group $G = D_4$ and the field $F = \mathbb{Q}$:</p>

<p><em>(The Sage cells in this post are linked, so things may not work if you don’t execute them in order.)</em></p>

<div class="linked">
  
</div>

<p>We can view $v \in FG$ as vector in $F^n$, where $n$ is the size of $G$ : </p>

<div class="linked">
  
</div>

<p>Here, we’re treating each $g \in G$ as a basis element of $FG$</p>

<div class="linked">
  
</div>

<p>Vectors in $FG$ are added component-wise:</p>



<div class="linked">
  
</div>

<h2 id="multiplication-as-a-linear-transformation">Multiplication as a linear transformation</h2>

<p>In fact $FG$ is also a  <em>ring</em> (called the <a href="http://en.wikipedia.org/wiki/Group_ring" target="_blank"><strong>group ring</strong></a>), because we can multiply vectors using the multiplication rule of the group $G$:</p>



<div class="linked">
  
</div>

<p>That wasn’t very illuminating. However, treating multiplication by $v \in FG$ as a function</p>



<p>one can check that each $T_v$ is a linear transformation! We can thus represent $T_v$ as a matrix whose columns are $T_v(g), g \in G$:</p>

<div class="linked">
  
</div>

<h2 id="the-regular-representation">The regular representation</h2>

<p>We’re especially interested in $T_g, g \in G$. These are invertible, with inverse $T_{g^{-1}}$, and their matrices are all permutation matrices, because multiplying by $g \in G$ simply permutes elements of $G$:</p>

<div class="linked">
  
</div>

<p>Define a function $\rho_{FG}$ which assigns to each $g\in G$ the corresponding $T_g$:</p>



<p>Then $(FG,\rho_{FG})$ is the <a href="http://en.wikipedia.org/wiki/Regular_representation" target="_blank"><strong>regular representation</strong></a> of $G$ over $F$. </p>

<p>The regular representation of any non-trivial group is not irreducible. In fact, it is a direct sum of <em>all</em> the irreducible representations of $G$! What’s more, if $(V,\rho)$ is an irreducible representation of $G$ and $\dim V = k$, then $V$ occurs $k$ times in the direct-sum decomposition of $FG$!</p>

<p>Let’s apply the decomposition algorithm in the <a href="http://sheaves.github.io/Representation-Theory-Decomposing-Representations/" target="_blank">previous post</a> to $(FG,\rho_{FG})$ (this might take a while to run):</p>

<div class="sage">
  
</div>

<p>So the regular representation of $D_4$ decomposes into four (distinct) $1$-dim representations and two (isomorphic) $2$-dim ones.</p>

<h2 id="building-character">Building character</h2>

<p>We’ve spent a lot of time working directly with representations of a group. While more concrete, the actual matrix representations themselves tend to be a little clumsy, especially when the groups in question get large. </p>

<p>In the next few posts, I’ll switch gears to <a href="http://en.wikipedia.org/wiki/Character_theory" target="_blank">character theory</a>, which is a simpler but more powerful way of working with group representations.</p></div>







<p class="date">
<a href="http://sheaves.github.io/Group-Ring-Regular-Representation/">February 15, 2015 12:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>February 13, 2015</h2>

<div class="channelgroup">







<h3><a href="http://drvinceknight.github.io/unpeudemath/" title="Un peu de math">Vince Knight</a></h3>


<div class="entrygroup" id="http://drvinceknight.github.io/unpeudemath/pedagogy/2015/02/13/rock-paper-scissors-lizard-spock/">
<h4><a href="http://drvinceknight.github.io/unpeudemath/pedagogy/2015/02/13/rock-paper-scissors-lizard-spock/">Rock paper scissors lizard spock tournament</a></h4>
<div class="entry">
<div class="content">
<p>At the beginning of the week we played had one of my favourite class activity for my game theory class: the rock paper scissors lizard tournament :)
In this post I will briefly go over some of the results.</p>

<p>If you are not familiar with <a href="http://bigbangtheory.wikia.com/wiki/Rock_Paper_Scissors_Lizard_Spock">Rock Paper Scissors Lizard Spock</a> this is a good video that explains it:</p>

<div class="video">
    
        
    
</div>

<p>This is the second time I play this in class and you can read about the first time <a href="http://drvinceknight.blogspot.co.uk/2014/02/a-rock-paper-scissors-lizard-spock.html">on my old blog</a>.</p>

<p>Here is how the game went (thanks to Geraint for noting everything down and Saniya for grabbing the pictures!):</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/plot_rpsls.png" alt="" /></p>

<p>(You can find the tikz code to draw that <a href="https://gist.github.com/drvinceknight/5260648fcab53f66ff30">here</a>.)</p>

<p>Here is a plot of the strategies played during the 1st, 2nd and 3rd rounds:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/round1.png" alt="" />
<img src="http://vincent-knight.com/unpeudemath/assets/images/round2.png" alt="" />
<img src="http://vincent-knight.com/unpeudemath/assets/images/round3.png" alt="" /></p>

<p>The overall strategy profile played is here:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/allstrategies.png" alt="" /></p>

<p>Just like last year we are not exactly at Nash equilibria.
In fact it seems that Scissors and Rock are being played a bit more often, so someone entering in to this game should respond by playing Spock (he vaporises Rock and smashes Scissors).</p>

<p>Here are the strategies that at some point won a duel:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/winningstrategies.png" alt="" /></p>

<p>and here are the losing strategies:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/losingstrategies.png" alt="" /></p>

<p>(All the code used to draw and analyse those plots is <a href="https://gist.github.com/drvinceknight/17b2798f08a08989d474">here</a>.)</p>

<p>Hopefully my class found this interesting and fun.</p></div>







<p class="date">
<a href="http://drvinceknight.github.io/unpeudemath/pedagogy/2015/02/13/rock-paper-scissors-lizard-spock/">February 13, 2015 12:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>February 07, 2015</h2>

<div class="channelgroup">







<h3><a href="http://drvinceknight.github.io/unpeudemath/" title="Un peu de math">Vince Knight</a></h3>


<div class="entrygroup" id="http://drvinceknight.github.io/unpeudemath/pedagogy/2015/02/07/playing_against_a_mixed_strategy_in_class/">
<h4><a href="http://drvinceknight.github.io/unpeudemath/pedagogy/2015/02/07/playing_against_a_mixed_strategy_in_class/">Playing against a mixed strategy in class</a></h4>
<div class="entry">
<div class="content">
<p>This post if very late but I have been very busy with some really exciting things.
I will describe some of the data gathered in class when we played against a random strategy played by a computer.
I have recently helped organise a conference in <a href="https://www.python-namibia.org">Namibia</a> teaching Python.
It was a tremendous experience and I will write a post about that soon.</p>

<p>We played against a modified version of matching pennies which we have used quite a few times:</p>



<p>I wrote a sage interact that allows for a quick visualisation of a random sample from a mixed strategy.
You can find the code for that <a href="http://drvinceknight.blogspot.co.uk/2014/02/best-responses-to-mixed-strategies-in.html">at the blog post I wrote last year</a>.
You can also find a python script with all the data from this year <a href="https://gist.github.com/d9af5f1bc6b24b9033d2">here</a>.</p>

<p>I handed out sheets of papers on which students would input their preferred strategies (‘H’ or ‘T’) whilst I sampled randomly from 3 different mixed strategies:</p>

<ol>
  <li>\(\sigma_1 = (.2, .8)\)</li>
  <li>\(\sigma_1 = (.9, .1)\)</li>
  <li>\(\sigma_1 = (1/3, 2/3\)</li>
</ol>

<p>Based on the class notation that implies that the computer was the row player and the students the column player.
The sampled strategies were (we played 6 rounds for each mixed strategy):</p>

<ol>
  <li>TTTTTH</li>
  <li>HHHHHH</li>
  <li>HTTTHH</li>
</ol>

<h3 id="round-1">Round 1</h3>

<p>This mixed strategy (recall \(\sigma_1=(.2,.8)\)) implies that the computer will be mainly playing T (the second strategy equivalent to the second row), and so based on the bi-matrix it is in the students interest to play H.
Here is a plot of the mixed strategy played by all the students:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/0strategiesvbestresponse.png" alt="" /></p>

<p>The mixed strategy played was \(\sigma_2=(.71,.29)\).
Note that in fact in this particular instance that actual best response is to play \(\sigma_2=(1,0)\).
This will indeed maximise the expected value of:</p>



<p>Indeed: the above is an increasing linear function in \(x\) so the highest value is obtained when \(x=1\).</p>

<p>The mean score for this round by everyone was: 2.09.
The theoretical mean score (when playing the best response for six consecutive games is): \(6(-.2\times 2+.8)=2.4\), so everybody was not too far off.</p>

<p>Here is a distribution of the scores:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/0score_histogram.png" alt="" /></p>

<p>We see that there were very few losers in this round, however no students obtained the best possible score: 7.</p>

<h3 id="round-2">Round 2</h3>

<p>Here the mixed strategy is \(\sigma_1=(.9,.1)\), implying that students should play T more often than H.
Here is a plot of the mixed strategy played by all the students:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/1strategiesvbestresponse.png" alt="" /></p>

<p>The mixed strategy played was \(\sigma_2=(.05,.95)\).
Similarly to before this is close to the actual best response which is \((0,1)\) (due to the expected utility now being a decreasing linear function in \(x\).</p>

<p>The mean score for this round by everyone was: 10.69
The theoretical mean score (when playing the best response for six consecutive games is): \(6(.9\times 2-.1)=10.2\), which is less than the score obtained by the class (mainly because the random sampler did not actually pick T at any point).</p>

<p>Here is a distribution of the scores:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/1score_histogram.png" alt="" /></p>

<p>No one lost on this round and a fair few maxed out at 12.</p>

<h3 id="round-3">Round 3</h3>

<p>Here is where things get interesting.
The mixed strategy played by the computer is here \(\sigma_1=(1/3,2/3)\), it is not now obvious which strategy is worth going for!</p>

<p>Here is the distribution played:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/2strategiesvbestresponse.png" alt="" /></p>

<p>The mixed strategy is \(\sigma_2=(.61,.39)\) and the mean score was -.3.
Here is what the distribution looked like:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/2score_histogram.png" alt="" /></p>

<p>It looks like we have a few more losers than winners but not by much.
In fact I would suggest (because I know the theory covered in Chapter 5 of my class) that the students were in fact indifferent against this \(\sigma_1\).
Indeed:</p>



<p>and</p>



<p>In fact, this particular \(\sigma_1\) ensures that the expected result for the students is not influenced by what they <em>actually</em> do:</p>



<p><strong>What strategy could the students have played to ensure the same situation for the computer’s strategy?</strong>
At the moment, the mixed strategy \(\sigma_2=(.61,.39)\) has expected utility for player 1 (the computer):</p>



<p>As this is an increasing function in \(x\) we see that the computer should in fact change \(\sigma_1\) to be \((1,0)\).</p>

<p>Thus if the original \(\sigma_1\) of this round is being played, so that the choice of \(\sigma_2\) does in fact not have an effect, students might as well play a strategy that ensures that the computer has no incentive to deviate (ie we are at a Nash equilibrium).</p>

<p>This can be calculated by solved the following linear equation:</p>



<p>which corresponds to:</p>



<p>which gives a strategy at which the computer has no incentive to deviated: \((1/2,1/2)\).
Thus at \(\sigma_1=(1/3,2/3)\) and \(\sigma_2=(1/2,1/2)\) no players have an incentive to move: we are at a Nash equilibrium.
This actually brings us back to another post I’ve written this term so please do go take a look at <a href="http://vincent-knight.com/unpeudemath/pedagogy/2015/01/26/introducing-game-theory-to-my-class/">this post which involved students playing against each other and comparing to the Nash equilibrium</a>.</p></div>







<p class="date">
<a href="http://drvinceknight.github.io/unpeudemath/pedagogy/2015/02/07/playing_against_a_mixed_strategy_in_class/">February 07, 2015 12:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>February 02, 2015</h2>

<div class="channelgroup">







<h3><a href="http://sheaves.github.io/" title="Sheaves">Liang Ze</a></h3>


<div class="entrygroup" id="http://sheaves.github.io/Representation-Theory-Decomposing-Representations/">
<h4><a href="http://sheaves.github.io/Representation-Theory-Decomposing-Representations/">Decomposing Representations</a></h4>
<div class="entry">
<div class="content">
<p>In this post, we’ll implement an algorithm for decomposing representations that <a href="http://www.ams.org/journals/mcom/1970-24-111/S0025-5718-1970-0280611-6/S0025-5718-1970-0280611-6.pdf" target="_blank">Dixon published in 1970</a>.</p>

<!--more-->

<p>As a motivating example, I’ll use the permutation matrix representation of $D_4$ that we saw in an <a href="http://sheaves.github.io/Representation-Theory-Intro/" target="_blank">earlier post</a>. To make the code more generally applicable, let’s call the group $G$ and the representation $\rho$:</p>

<p><em>(The Sage cells in this post are linked, so things may not work if you don’t execute them in order.)</em></p>

<div class="linked">
  
</div>

<p>We’ll see that this is decomposable, and find out what its irreducible components are.</p>

<h3 id="unitary-representations">Unitary representations</h3>

<p>A short remark before we begin: The algorithm assumes that $\rho$ is a <a href="http://en.wikipedia.org/wiki/Unitary_representation" target="_blank">unitary representation</a></p>

<p>i.e. for all $g \in G$,</p>



<p>where $A*$ is the <a href="http://en.wikipedia.org/wiki/Conjugate_transpose" target="_blank">conjugate transpose</a> of a matrix $A$. 
For $G$ a finite group, all representations can be made unitary under an appropriate change of basis, so we need not be too concerned about this. In any case, permutation representations are always unitary, so we can proceed with our example.</p>

<h2 id="finding-non-scalar-commuting-matrices">Finding non-scalar, commuting matrices</h2>

<p>At the end of the <a href="http://sheaves.github.io/Representation-Theory-Irreducibility-Indecomposability/" target="_blank">previous post</a> we saw that in order to decompose a representation $(V,\rho)$, it is enough to find a non-scalar matrix $T$ that commutes with $\rho(g)$ for every $g \in G$.  This first step finds a <a href="http://en.wikipedia.org/wiki/Hermitian_matrix" target="_blank">Hermitian</a> non-scalar $H$ that commutes with $\rho(G)$ (if there is one to be found).</p>

<p>Let $E_{rs}$ denote the $n \times n$ matrix with a $1$ in the $(r,s)$th entry and zeros everywhere else. Here $n$ is the dimension of $V$ in the representation $(V,\rho)$. Define</p>



<p>then the set of matrices $H_{rs}$ forms a Hermitian basis for the $n \times n$ matrices over $\mathbb{C}$.</p>

<p>Now for each $r,s$, compute the sum</p>



<p>Observe that $H$ has the following properties:</p>

<ul>
  <li>it is hermitian</li>
  <li>it commutes with $\rho(g)$ for all $g \in G$</li>
</ul>

<p>If $\rho$ is irreducible, then $H$ is a scalar matrix for all $r,s$. Otherwise, it turns out that there <strong>will</strong> be some $r,s$ such that $H$ is non-scalar (this is due to the fact that the $H_{rs}$ matrices form a basis of the $n \times n$ matrices$).</p>

<p>Let’s test this algorithm on our permutation representation of $D_4$:</p>

<div class="linked">
  
</div>

<p>We get a non-scalar $H$! So the permutation representation of $D_4$ is reducible!</p>

<h2 id="using-h-to-decompose-rho">Using $H$ to decompose $\rho$</h2>

<p>Our next step is to use the eigenspaces of $H$ to decompose $\rho$. At the end of the <a href="http://sheaves.github.io/Representation-Theory-Irreducibility-Indecomposability/" target="_blank">previous post</a>, we saw that $\rho(g)$ preserves the eigenspaces of $H$, so we need only find the eigenspaces of $H$ to decompose $\rho$. </p>

<p>Since $H$ is hermitian, it is <a href="http://en.wikipedia.org/wiki/Diagonalizable_matrix" target="_blank">diagonalizable</a>, so its eigenvectors form a basis of $V$. We can find this basis by computing the <a href="http://en.wikipedia.org/wiki/Jordan_normal_form" target="_blank">Jordan decomposition</a> of $H$:</p>

<div class="linked">
  
</div>

<p>Finally, we observe that $P^{-1} \rho(g) P$ has the same block-diagonal form for each $g \in G$:</p>

<div class="linked">
  
</div>

<p>We have thus decomposed $\rho$ into two 1-dimensional representations and one 2-dimensional one! </p>

<h2 id="decomposing-into-irreducibles">Decomposing into irreducibles</h2>

<p>Finally, to get a decomposition into irreducibles,  we can apply the algorithm recursively on each of the subrepresentations to see if they further decompose. </p>

<p>Here’s a stand-alone script that decomposes a representation into its irreducible components:</p>

<div class="sage">
  
</div>

<h2 id="getting-all-irreducible-representations">Getting all irreducible representations</h2>

<p>Now we know how to test for irreducibility and decompose reducible representations. But we still don’t know how many irreducible representations a group has. </p>

<p>It turns out that finite groups have finitely many irreducible representations! In the <a href="http://sheaves.github.io/Group-Ring-Regular-Representation/">next post</a>, we’ll construct a representation for any finite group $G$ that contains <em>all</em> the irreducible representations of $G$.</p></div>







<p class="date">
<a href="http://sheaves.github.io/Representation-Theory-Decomposing-Representations/">February 02, 2015 12:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>January 29, 2015</h2>

<div class="channelgroup">







<h3><a href="http://drvinceknight.github.io/unpeudemath/" title="Un peu de math">Vince Knight</a></h3>


<div class="entrygroup" id="http://drvinceknight.github.io/unpeudemath/pedagogy/2015/01/29/recreating-golden-balls-in-class/">
<h4><a href="http://drvinceknight.github.io/unpeudemath/pedagogy/2015/01/29/recreating-golden-balls-in-class/">Recreating golden balls in class</a></h4>
<div class="entry">
<div class="content">
<p>Here is a blog post that mirrors <a href="http://drvinceknight.blogspot.co.uk/2014/02/an-attempt-at-golden-balls-in-class.html">this post</a> from last year.
I will describe the attempt at playing Golden Balls in class.</p>

<p>The purpose of this was to discuss the concept of Dominance.
If you are not familiar with Golden Balls take a look at this video:</p>

<div class="video">
    
    
    
</div>

<p>This is what we did.</p>

<p>Firstly we played a series of four games where the score of the row player would correspond to a total of chocolates that both players would share at the end of the game (given that all the games are zero sum this is equivalent to the opposite of the score of the column player).</p>

<ol>
  <li>
    <p>No strategy is dominated:</p>

    

    <p>In this instance both players went for the column strategy.
 There is no real explanation for this: in essence they got lucky :)
 Thus at this stage we had 1 bar of chocolate.</p>
  </li>
  <li>
    <p>The first row strategy is dominated:</p>

    

    <p>From here it is obvious that the row player would go for their second strategy.
 This indeed happened and the column player went for their first strategy (which in fact makes no difference: the column strategy could have played either strategy).
 Thus at this stage we had 2 bars of chocolate.</p>
  </li>
  <li>
    <p>No strategies are dominated:</p>

    

    <p>This is very similar to the first game except I upped the number of chocolate bars available.
 Both players played their second strategy and thus we had a total of 4 bars of chocolate at this stage.</p>
  </li>
  <li>
    <p>The first row strategy is dominated:</p>

    

    <p>The row played went with their first strategy (as expected given the domination) however the column player went with their second strategy.
 This is possibly due to the slightly ‘fake’ setup of the game in terms of chocolates.
 Picking the second strategy ensured that they would not <em>lose</em> chocolates.</p>
  </li>
</ol>

<p>At the end of this I added another chocolate bar to the stash so that we had a nice even number of 6.
At this point the players actually played a version of Golden Balls:</p>



<p>The utility in that game corresponded to the share of the chocolates: so a score of 1 implies they would both get 6, a score of 1.5 would imply they both got 9.</p>

<p>Both player here managed to stay away from the Nash equilibrium (which is the pair of second strategies due to iterated elimination of dominated strategies) and ended up with 6 chocolates each.
Well done to G and K who were good sports and without whom we would not have been able to play the game.</p>

<p>This was in stark contrast with the cool result from <a href="http://drvinceknight.blogspot.co.uk/2014/02/an-attempt-at-golden-balls-in-class.html">last year</a>.</p>

<p>After this I proceeded to play a best out of three game of tic-tac-toe with J to get to the idea of a game like that being pre defined: no one should really ever win that unless someone makes a mistake (or indeed plays irrationally: on that note I owe J a chocolate bar).</p>

<p>Here is Randall Munroe’s <a href="http://xkcd.com/832/">solution of tic-tac toe</a>.</p>

<p>This leads us to the idea of best responses which is the subject of another game we played in class and one for which I’m about to start reading in the data.
If you’re inpatient take a look at the <a href="http://drvinceknight.blogspot.co.uk/2014/02/best-responses-to-mixed-strategies-in.html">corresponding post from last year</a>.</p></div>







<p class="date">
<a href="http://drvinceknight.github.io/unpeudemath/pedagogy/2015/01/29/recreating-golden-balls-in-class/">January 29, 2015 12:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>January 26, 2015</h2>

<div class="channelgroup">







<h3><a href="http://drvinceknight.github.io/unpeudemath/" title="Un peu de math">Vince Knight</a></h3>


<div class="entrygroup" id="http://drvinceknight.github.io/unpeudemath/pedagogy/2015/01/26/introducing-game-theory-to-my-class/">
<h4><a href="http://drvinceknight.github.io/unpeudemath/pedagogy/2015/01/26/introducing-game-theory-to-my-class/">Introducing Game Theory to my class</a></h4>
<div class="entry">
<div class="content">
<p>Here is a blog post that mirrors <a href="http://drvinceknight.blogspot.co.uk/2014/01/matching-pennies-in-class.html">this post</a> from last year.</p>

<p>I will be using my blog to extend the class meetings my Game Theory class and I have.</p>

<p>After playing the 2/3rds of the average game (you can see a plot of the results from last year and this year in the comments of <a href="http://vincent-knight.com/Year_3_game_theory_course/Content/Chapter_01-Introduction/">the intro chapter</a>).</p>

<p>After this we moved on to normal form games, and in particular discussed the matching pennies game:</p>

<blockquote>
  <p>“Two players each show a coin with either ‘Heads’ or ‘Tails’ showing. If both coins match then the 1st player (the row player) wins, otherwise the 2nd player (the column player) wins.”</p>
</blockquote>

<p>This can be described as:</p>



<p>If you’d like to read a description of what each number represents take a look at my <a href="http://drvinceknight.blogspot.co.uk/2014/01/matching-pennies-in-class.html">blog post from last year</a>.</p>

<p>I asked all the students to get in to pairs and play against each other, collecting all the results with forms that you can find at <a href="https://github.com/drvinceknight/Year_3_game_theory_course/tree/master/Activities">this github repo</a>.</p>

<p>After this we changed the game slightly to look like this:</p>



<p>The main point of this is to make sure that everyone understands the normal form game convention (by breaking the symmetry) and also to make it slightly more interesting (the row player now has more to win/lose by playing Heads).</p>

<p>I played both games with S and recorded the results to demo what was happening:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/matching_pennies_v_saniya.jpg" alt="" /></p>

<p>This is not what this post is about: I’m going to analyse the data collected :)</p>

<p><a href="https://gist.github.com/drvinceknight/f562ccbda8113733b404">Here’s a python script that contains the data as well as the matplotlib code to obtain the plot for the initial game</a>.</p>

<p>The plot shows the probability with which players played ‘Heads’ as the rounds of the game played out:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/matching_pennies.png" alt="" /></p>

<p>We see that we are very close at an overall probability of playing ‘Heads’ with probability 0.5.
This is more or less what is expected.
Now for something a bit more interesting.</p>

<p><a href="https://gist.github.com/drvinceknight/3cdd6bde6c0ff0f129cb">Here’s a python script that contains the data as well as the matplotlib code to obtain the plot for the modified game</a>.</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/modified_matching_pennies.png" alt="" /></p>

<p>This is (<a href="http://drvinceknight.blogspot.co.uk/2014/01/matching-pennies-in-class.html">just like last year</a>) not quite what we expect (which is cool).
It’s pretty late as I’m writing this and I need to head to sleep so I’ll point you towards the post from last year (<a href="http://drvinceknight.blogspot.co.uk/2014/01/matching-pennies-in-class.html">here</a>) and encourage you to read that and perhaps offer your own interpretation of what is happening :)</p>

<p>Finally: <strong>a big thanks</strong> to my students for engaging so much, I really appreciate it.</p></div>







<p class="date">
<a href="http://drvinceknight.github.io/unpeudemath/pedagogy/2015/01/26/introducing-game-theory-to-my-class/">January 26, 2015 12:00 AM</a>
</p>
</div>
</div>



</div>
<div class="channelgroup">







<h3><a href="http://sheaves.github.io/" title="Sheaves">Liang Ze</a></h3>


<div class="entrygroup" id="http://sheaves.github.io/Representation-Theory-Irreducibility-Indecomposability/">
<h4><a href="http://sheaves.github.io/Representation-Theory-Irreducibility-Indecomposability/">Irreducible and Indecomposable Representations</a></h4>
<div class="entry">
<div class="content">
<p>Following up from the questions I asked at the end of the <a href="http://sheaves.github.io/Representation-Theory-Sums-Products/" target="_blank">previous post</a>, I’ll define (ir)reducible and (in)decomposable representations, and discuss how we might detect them. Unlike previous posts, this post will have just text, and no code. This discussion will form the basis of the algorithm in the next post.</p>

<!--more-->

<h2 id="decomposability">Decomposability</h2>

<p>In the previous post, I showed how to form the direct sum $(V_1 \oplus V2,\rho)$ of two representations $(V_1,\rho_1)$ and $(V_2,\rho_2)$. The matrices given by $\rho$ looked like this:</p>



<p>A representation $(V,\rho)$ is <strong>decomposable</strong> if there is a basis of $V$ such that each $\rho(g)$ takes this block diagonal form. If $(V,\rho)$ does not admit such a decomposition, it is <strong>indecomposable</strong>.</p>

<p>Equivalently, $(V,\rho)$ is decomposable if there is an invertible matrix $P$ such that for all $g\in G$,</p>



<p>and indecomposable otherwise. Here, $P$ is a change of basis matrix and conjugating by $P$ changes from the standard basis to the basis given by the columns of $P$. </p>

<h2 id="reducibility">Reducibility</h2>

<p>Notice that if $\rho(g)$ were block diagonal, then writing $v \in V$ as ${v_1 \choose v_2}$, where $v_1$ and $v_2$ are vectors whose dimensions agree with the blocks of $\rho(g)$, we see that</p>



<p>Let $V_1$ be the subspace of $V$ corresponding to vectors of the form ${v_1 \choose 0}$, and $V_2$ be the subspace of vectors of the form ${0 \choose v_2}$. Then for all $g \in G, v \in V_i$,</p>



<p>Now suppose instead that for all $g \in G, \rho(g)$ has the block upper-triangular form</p>



<p>where $ * $ represents an arbitrary matrix (possibly different for each $g \in G$). If $*$ is not the zero matrix for some $g$, then we will still have $\rho(g) v \in V_1 \,\, \forall v \in V_1$, but we no longer have $\rho(g) v \in V_2 \,\, \forall v \in V_2$. In this case, we say that $V_1$ is a subrepresentation of $V$ whereas $V_2$ is not.</p>

<p>Formally, if we have a subspace $W \subset V$ such that for all $g \in G, w \in W$,</p>



<p>then $W$ is a $G$-<strong>invariant</strong> subspace of $V$, and $(W,\rho)$ is a  <strong>subrepresentation</strong> of $(V,\rho)$.</p>

<p>Any representation $(V,\rho)$ has at least two subrepresentations: $(0,\rho)$ and $(V,\rho)$. If there are no other subrepresentations, then $(V,\rho)$ is <a href="http://en.wikipedia.org/wiki/Irreducible_representation" target="_blank"><strong>irreducible</strong></a>. Otherwise, it is <strong>reducible</strong>.</p>

<p>Equivalently, $(V,\rho)$ is reducible if there is an invertible matrix $P$ such that for all $g \in G$,</p>



<p>and irreducible otherwise.</p>

<h2 id="maschkes-theorem">Maschke’s Theorem</h2>

<p>Note that a decomposable representation is also reducible, but the converse is not generally true.
(Equivalently: an irreducible representation is also indecomposable, but the converse is not generally true.)
<a href="http://en.wikipedia.org/wiki/Maschke%27s_theorem" target="_blank">Maschke’s Theorem</a> tells us that the converse is true over fields of characteristic zero! In other words:</p>

<blockquote>
  <p>Suppose $V$ is a vector space over a field of characteristic zero, say $\mathbb{C}$, and $(V,\rho)$ has a subrepresentation $(W_1,\rho)$. Then there is a subspace $W_2$ (called the direct complement of $W_1$) such that $V = W_1 \oplus W_2$.</p>
</blockquote>

<p>Since we will be working over $\mathbb{C}$, we can thus treat (in)decomposability as equivalent to (ir)reducibility. To understand representations of $G$, we need only understand its irreducible representations, because any other representation can be decomposed into a direct sum of irreducibles.</p>

<h2 id="schurs-lemma">Schur’s Lemma</h2>

<p>How may we detect (ir)reducible representations? We’ll make use of the following linear algebraic properties:</p>

<p>Given an eigenvalue $\lambda$ of a matrix $A \in \mathbb{C}^{n \times n}$, its $\lambda$-eigenspace is</p>



<p>Clearly, each eigenspace is an invariant subspace of $A$. If we have another matrix $B \in \mathbb{C}^{n \times n}$ such that $AB = BA$, then $B$ preserves the eigenspaces of $A$ as well. To see this, take $v \in E_\lambda$, then</p>



<p>so $E_\lambda$ is also an invariant subspace of $B$!</p>

<p>Now suppose we have a representation $(V,\rho)$ and a linear map $T:V \to V$ such that for all $g \in G, v \in V$,</p>



<p>Treating $T$ as a matrix, this is equivalent to saying that $\rho(g)T = T\rho(g)$ for all $g \in G$. In that case, the eigenspaces of $T$ are $G$-invariant subspaces, and will yield decompositions of $(V,\rho)$  if they are not the whole of $V$. But if $E_\lambda = V$, then $Tv = \lambda v$ for all $v \in V$, so in fact $T = \lambda I$, where $I$ is the identity matrix. We have thus shown a variant of <a href="http://en.wikipedia.org/wiki/Schur%27s_lemma" target="_blank">Schur’s lemma</a>:</p>

<blockquote>
  <p>If $(V,\rho)$ is irreducible, and $\rho(g) T = T \rho(g)$ for all $g \in G$, then $T =\lambda I$ for some $\lambda$.</p>
</blockquote>

<p>We already know that scalar matrices (i.e. matrices of the form $\lambda I$) commute with all matrices. If $(V,\rho)$ is irreducible, this result says that there are no other matrices that commute with all $\rho(g)$. The converse is also true:</p>

<blockquote>
  <p>If $(V,\rho)$ is a reducible, then there is some $T \neq \lambda I$ such that $\rho(g) T = T\rho(g)$ for all $g \in G$.</p>
</blockquote>

<p>I won’t prove this, but note that if $V$ has a decomposition $W_1 \oplus W_2$, then the projection onto either $W_i$ will have the desired properties.  If we have such a $T$, then its eigenspaces will give a decomposition of $(V,\rho)$. This will be the subject of the <a href="http://sheaves.github.io/Representation-Theory-Decomposing-Representations/">next post</a>.</p></div>







<p class="date">
<a href="http://sheaves.github.io/Representation-Theory-Irreducibility-Indecomposability/">January 26, 2015 12:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>January 24, 2015</h2>

<div class="channelgroup">







<h3><a href="http://sheaves.github.io/" title="Sheaves">Liang Ze</a></h3>


<div class="entrygroup" id="http://sheaves.github.io/Representation-Theory-Sums-Products/">
<h4><a href="http://sheaves.github.io/Representation-Theory-Sums-Products/">Direct Sums and Tensor Products</a></h4>
<div class="entry">
<div class="content">
<p>In this short post, we will show two ways of combining existing representations to obtain new representations.</p>

<!--more-->

<h2 id="recall">Recall</h2>
<p>In the <a href="http://sheaves.github.io/Representation-Theory-Intro/" target="_blank">previous post</a>, we saw two representations of $D_4$: the permutation representation, and the representation given in this <a href="http://en.wikipedia.org/wiki/Dihedral_group#Matrix_representation" target="_blank">Wikipedia example</a>. Let’s first define these in Sage:</p>

<p><em>(The Sage cells in this post are linked, so things may not work if you don’t execute them in order.)</em></p>

<div class="linked">
  
</div>

<h2 id="direct-sums">Direct Sums</h2>

<p>If $(V_1,\rho_1), (V_2,\rho_2)$ are representations of $G$, the <a href="http://groupprops.subwiki.org/wiki/Direct_sum_of_linear_representations" target="_blank">direct sum</a> of these representations is $(V_1 \oplus V_2, \rho)$, where $\rho$ sends $g \in G$ to the <a href="http://en.wikipedia.org/wiki/Block_matrix#Block_diagonal_matrices" target="_blank">block diagonal matrix</a> </p>



<p>Here $\rho_1(g), \rho_2(g)$ and the “zeros” are all <em>matrices</em>.</p>

<p>It’s best to illustrate with an example. We can define a function <code>direct_sum</code> in Sage that takes two representations and returns their direct sum.</p>

<div class="linked">
  
</div>

<h2 id="tensor-products">Tensor products</h2>
<p>We can also form the <a href="http://groupprops.subwiki.org/wiki/Tensor_product_of_linear_representations" target="_blank">tensor product</a> $(V_1 \otimes V_2,\rho)$, where $\rho$ sends $g \in G$ to the <a href="http://en.wikipedia.org/wiki/Kronecker_product" target="_blank">Kronecker product</a> of the matrices $\rho_1(g)$ and $\rho_2(g)$.</p>

<p>We define a function <code>tensor_prod</code> that takes two representations and returns their tensor product.</p>

<div class="linked">
  
</div>

<p>Observe that</p>

<ul>
  <li>$\dim V_1 \oplus V_2 = \dim V_1 + \dim V_2$,</li>
  <li>$\dim V_1 \otimes V_2 = \dim V_1 \times \dim V_2$,</li>
</ul>

<p>which motivates the terms direct <em>sum</em> and tensor <em>product</em>.</p>

<p>We can keep taking direct sums and tensor products of existing representations to obtain new ones:</p>

<div class="linked">
  
</div>

<h2 id="decomposing-representations">Decomposing representations</h2>
<p>Now we know how to build new representations out of old ones. One might be interested in the inverse questions: </p>

<ol>
  <li>Is a given representation a direct sum of smaller representations?</li>
  <li>Is a given representation a tensor product of smaller representations?</li>
</ol>

<p>It turns out that Q1 is a much more interesting question to ask than Q2.</p>

<p>A (very poor) analogy of this situation is the problem of “building up” natural numbers. We have two ways of building up new integers from old: we can either add numbers, or multiply them. Given a number $n$, it’s easy (and not very interesting) to find smaller numbers that add up to $n$. However, <a href="http://en.wikipedia.org/wiki/Integer_factorization" target="_blank">finding numbers whose product is $n$</a> is <em>much much</em> harder (especially for large $n$) and much more <a href="http://en.wikipedia.org/wiki/Algebraic_number_theory" target="_blank">rewarding</a>. Prime numbers also play a special role in the latter case: every positive integer has a unique factorization into primes.</p>

<p>The analogy is a poor one (not least because the roles of “sum” and “product” are switched!). However, it motivates the question </p>

<ul>
  <li>What are the analogues of “primes” for representations?</li>
</ul>

<p>We’ll try to answer this last question and Q1 in the <a href="http://sheaves.github.io/Representation-Theory-Irreducibility-Indecomposability/">next few posts</a>, and see what it means for us when working with representations in Sage.</p></div>







<p class="date">
<a href="http://sheaves.github.io/Representation-Theory-Sums-Products/">January 24, 2015 12:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>January 20, 2015</h2>

<div class="channelgroup">







<h3><a href="http://sheaves.github.io/" title="Sheaves">Liang Ze</a></h3>


<div class="entrygroup" id="http://sheaves.github.io/Representation-Theory-Intro/">
<h4><a href="http://sheaves.github.io/Representation-Theory-Intro/">Representation Theory in Sage - Basics</a></h4>
<div class="entry">
<div class="content">
<p>This is the first of a series of posts about working with group representations in Sage.</p>

<!--more-->

<h2 id="basic-definitions">Basic Definitions</h2>

<p>Given a group $G$, a linear representation of $G$ is a group homomorphism $\rho: G \to \mathrm{GL}(V)$ 
such that </p>



<p>For our purposes, we will assume that $G$ is a finite group and $V$ is an $n$-dimensional vector space over $\mathbb{C}$. Then $\mathrm{GL}(V)$ is isomorphic to the invertible $n \times n$ matrices over $\mathbb{C}$, which we will denote $\mathrm{GL}_n \mathbb{C}$. </p>

<p>So a representation is just a function that takes group elements and returns invertible matrices, in such a way that the above equation holds.</p>

<p>Various authors refer to the map $\rho$, the vector space $V$, or the tuple $(V,\rho)$ as a representation; this shouldn’t cause any confusion, as it’s usually clear from context whether we are referring to a map or a vector space. When I need to be extra precise, I’ll use $(V,\rho)$.</p>

<h2 id="some-simple-examples">Some simple examples</h2>

<h3 id="trivial-representation">Trivial representation</h3>
<p>The simplest representation is just the trivial representation that sends every element of $G$ to the identity matrix (of some fixed dimension $n$). Let’s do this for the symmetric group $S_3$:</p>

<p><em>(The Sage cells in this post are linked, so things may not work if you don’t execute them in order.)</em></p>

<div class="linked">
  
</div>

<p>We can verify that this is indeed a group homomorphism (warning: There are 6 elements in $S_3$, which means we have to check $6^2 = 36$ pairs!):</p>

<div class="linked">
  
</div>

<h3 id="permutation-representation">Permutation representation</h3>
<p>This isn’t very interesting. However, we also know that $S_3$ is the group of permutations of the 3-element set {$1,2,3$}. We can associate to each permutation a <a href="http://mathworld.wolfram.com/PermutationMatrix.html" target="_blank">permutation matrix</a>. Sage already has this implemented for us, via the method <code>matrix()</code> for a group element <code>g</code>:</p>

<div class="linked">
  
</div>

<p><em>Qn: From the permutation matrix, can you tell which permutation $g$ corresponds to?</em></p>

<p>We can again verify that this is indeed a representation. Let’s not print out all the output; instead, we’ll only print something if it is <em>not</em> a representation. If nothing pops up, then we’re fine:</p>

<div class="linked">
  
</div>

<h3 id="defining-a-representation-from-generators">Defining a representation from generators</h3>
<p>We could define permutation representations so easily only because Sage has them built in. But what if we had some other representation that we’d like to work with in Sage? Take the <a href="http://en.wikipedia.org/wiki/Dihedral_group" target="_blank">dihedral group</a> $D_4$. Wikipedia tells us that this group has <a href="http://en.wikipedia.org/wiki/Dihedral_group#Matrix_representation" target="_blank">a certain matrix representation</a>. How can we recreate this in Sage?</p>

<p>We could hard-code the relevant matrices in our function definition. However, typing all these matrices can be time-consuming, especially if the group is large.</p>

<p>But remember that representations are group homomorphisms. If we’ve defined $\rho(g)$ and $\rho(h)$, then we can get $\rho(gh)$ simply by multiplying the matrices $\rho(g)$ and $\rho(h)$! If we have a <a href="http://en.wikipedia.org/wiki/Generating_set_of_a_group" target="_blank">set of generators</a> of a group, then we only need to define $\rho$ on these generators. Let’s do that for the generators of $D_4$:</p>

<div class="linked">
  
</div>

<p>We see that $D_4$ has a generating set of 2 elements (note: the method <code>gens()</code> need not return a <em>minimal</em> generating set, but in this case, we do get a minimal generating set). Let’s call these $r$ and $s$. We know that elements of $D_4$ can be written $r^is^j$, where $i = 0,1,2,3$ and $j = 0,1$. We first run through all such pairs $(i,j)$ to create a <a href="https://docs.python.org/2/tutorial/datastructures.html#dictionaries" target="_blank">dictionary</a> that tells us which group elements are given by which $(i,j)$:</p>

<div class="linked">
  
</div>

<p>Now for $g = r^i s^j \in D_4$, we can define $\rho(g) = \rho(r)^i \rho(s)^j$ and we will get a representation of $D_4$. We need only choose the matrices we want for $\rho(r)$ and $\rho(s)$.</p>

<p>$r$ and $s$ correspond to $R_1$ and $S_0$, resp., in the <a href="http://en.wikipedia.org/wiki/Dihedral_group#Matrix_representation" target="_blank">Wikipedia example</a>, so let’s use their matrix representations to generate our representation:</p>

<div class="linked">
  
</div>

<p>One can verify that this does indeed give the same matrices as the Wikipedia example, albeit in a different order.</p>

<h2 id="we-can-do-better">We can do better!</h2>
<p>All the representations we’ve defined so far aren’t very satisfying! For the last example, we required the special property that all elements in $D_4$ have the form $r^i s^j$. In general, it isn’t always easy to express a given group element in terms of the group’s generators (this is known as the <a href="http://en.wikipedia.org/wiki/Word_problem_for_groups" target="_blank">word problem</a>).</p>

<p>We’ve also been constructing representations in a rather ad-hoc manner. Is there a more general way to construct representations? And how many are representations are there?</p>

<p>In the <a href="http://sheaves.github.io/Representation-Theory-Sums-Products/">next post</a>, I’ll run through two simple ways of combining existing representations to get new ones: the direct sum and the tensor product. I’ll also define <em>irreducible</em> representations, and state some results that will shed some light on the above questions.</p></div>







<p class="date">
<a href="http://sheaves.github.io/Representation-Theory-Intro/">January 20, 2015 12:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>January 17, 2015</h2>

<div class="channelgroup">







<h3><a href="http://sheaves.github.io/" title="Sheaves">Liang Ze</a></h3>


<div class="entrygroup" id="http://sheaves.github.io/Subgroup-Explorer/">
<h4><a href="http://sheaves.github.io/Subgroup-Explorer/">Subgroup Explorer</a></h4>
<div class="entry">
<div class="content">
<p><img src="http://sheaves.github.io/images/SubgroupExplorer.png" alt="Subgroup Explorer" title="Subgroup Lattice Generator" /></p>

<p>I’ve written a subgroup lattice generator for all groups of size up to 32. It’s powered by Sage and GAP, and allows you to view the lattice of subgroups or subgroup conjugacy classes of a group from your browser.</p>

<!--more-->
<p>Click <strong>Go!</strong> below to refresh the viewer, or if it doesn’t load.</p>

<div class="go">
  
</div>

<p><a href="http://en.wikipedia.org/wiki/Normal_subgroup" target="_blank">Normal subgroups</a> are colored green. Additionally, the <a href="http://en.wikipedia.org/wiki/Center_%28group_theory%29" target="_blank">center</a> is blue while the <a href="http://en.wikipedia.org/wiki/Commutator_subgroup" target="_blank">commutator subgroup</a> is pink.</p>

<p>Showing the full subgroup lattice can get messy for large groups. If the option <code>Conjugacy classes of subgroups</code> is selected, the viewer only shows the <a href="http://en.wikipedia.org/wiki/Conjugacy_class#Conjugacy_of_subgroups_and_general_subsets" target="_blank">conjugacy classes of subgroups</a> (i.e. all subgroups that are conjugate are combined into a single vertex).</p>

<p>The edge labels indicate how many subgroups of one conjugacy class a given representative subgroup of another conjugacy class <strong>contains</strong>, or how many subgroups of one conjugacy class a given representative subgroup of another conjugacy class is <strong>contained by</strong>. The labels are omitted if these numbers are 1. The edge colors indicate whether the subgroups in the “smaller” conjugacy class are normal subgroups of those in “larger” conjugacy class.</p>

<p>In the image at the top of the post, the group <code>C15 : C4</code> (the colon stands for <a href="http://en.wikipedia.org/wiki/Semidirect_product" target="_blank">semi-direct product</a> and is usually written $\rtimes$) contains 5 subgroups isomorphic to <code>C3 : C4</code>, which in turn contains 3 subgroups isomorphic to <code>C4</code> and 1 subgroup isomorphic to <code>C6</code> (the 5 belows to another edge). The edge colors indicate that <code>C6</code> is a normal subgroup of <code>C3 : C3</code> whereas <code>C4</code> is not. For further information on group descriptors, click <a href="http://groupprops.subwiki.org/wiki/GAP:StructureDescription#Aspects_of_structure_description" target="_blank">here</a>.</p>

<p>And here’s the code for a version that you can run on <a href="https://cloud.sagemath.com/" target="_blank">SageMathCloud</a>. It allows you to input much larger groups. This was used to produce the image at the top of the post. Don’t try running it here, however, since the SageCellServer doesn’t have the <code>database_gap</code> package installed.</p>

<div class="no_eval">
  
</div>

<p>Finally, while verifying the results of this program, I found an error in <a href="http://www.cambridge.org/us/academic/subjects/mathematics/algebra/representations-groups-computational-approach" target="_blank">this book</a>!
The correction has been pencilled in. The original number printed was 1.
<img src="http://sheaves.github.io/images/A5Lattice_CompareSmall.jpg" alt="A5 Lattice" title="A5 Subgroup Lattice" /></p></div>







<p class="date">
<a href="http://sheaves.github.io/Subgroup-Explorer/">January 17, 2015 12:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>January 16, 2015</h2>

<div class="channelgroup">







<h3><a href="http://drvinceknight.github.io/unpeudemath/" title="Un peu de math">Vince Knight</a></h3>


<div class="entrygroup" id="http://drvinceknight.github.io/unpeudemath/code/2015/01/16/on-a-paper-about-inelligence-vs-conscientiousness/">
<h4><a href="http://drvinceknight.github.io/unpeudemath/code/2015/01/16/on-a-paper-about-inelligence-vs-conscientiousness/">On a paper about conscientiousness</a></h4>
<div class="entry">
<div class="content">
<p>After hearing about it on <a href="http://www.twis.org/">TWIS</a> I spent some time reading <a href="http://www.sciencedirect.com/science/article/pii/S104160801400106X">Other-rated personality and academic performance: Evidence and implications </a> by <a href="http://www.griffith.edu.au/health/school-applied-psychology/staff/dr-arthur-poropat">Poropat</a>.
This paper is a meta analysis of various works and (TLDR): indicates that ‘intelligence’ is not as good an indicator of academic performance as is ‘conscientiousness’ (my loose interpretation of this is: ‘willingness to work hard’) and ‘openness’ (my loose interpretation of this is: ‘curiosity and interest in a subject’).</p>

<p>My ears really perked up when this was mentioned on the TWIS podcast as it is something I have always believed myself.
This is possibly something to do with my interaction with <a href="http://vincent-knight.com/research/students/">research students</a>.
I also believe it is linked to my own educational trajectory that really benefited from my high school physics teacher who managed to show me that hard work paid off.
I blogged about that <a href="http://blogs.nature.com/soapboxscience/2012/07/02/science-mentoring-im-just-not-clever">here</a> where this photo (showing a report card claiming that I did not work hard enough) is posted:</p>

<p><img src="https://lh4.googleusercontent.com/IpjUgdvq4LAeLR0BPse-EWdsDIC6Z2qgdnUCKDcaw5ygg8RT25hgYNdBXvAPdhUhODPvBCha3nxpo4CEFqc03h0hOVOwDCp9GqsV6N6Z3e6HeEl-lmU" alt="" /></p>

<h2 id="the-paper">The paper</h2>

<h3 id="overview-of-factors-that-potentially-have-an-impact-on-academic-performance">Overview of factors that potentially have an impact on academic performance.</h3>

<p>The paper starts off by giving an overview of the ‘general intelligence factor’ denoted by <em>g</em> which has apparently been closely associated to academic performance.
The contrast to this (again discussed in the paper) is the <strong>Five Factor Model</strong> for personality which maps individual personality to the following 5 dimensions:</p>

<ol>
  <li>Agreeableness</li>
  <li>Conscientiousness</li>
  <li>Emotional Stability</li>
  <li>Extraversion</li>
  <li>Openness</li>
</ol>

<p>One of the difficulties I had with understanding this paper was with the psychological vocabulary that I was not familiar with.
Those 5 dimensions are not always easy to define but a loose (and almost certainly) incorrect interpretation of Conscientiousness is an individual’s ‘work-hard-ability’.
My interpretation of Openness is an individual’s ‘want-to-learn-stuff-ability’ but the paper goes in to a pretty good discussion of each of those so I would recommend taking a look.</p>

<p>The paper gives a nice description and review of each dimension.
I am mainly going to concentrate on what the paper says about Openness and Conscientiousness but there was one particular thing said about Extraversion that I thought was worth noting:</p>

<blockquote>
  <p>“Although more extraverted students may get greater attention leading to higher performance at primary level, the reduced strength of teacher student relationships at higher levels of education appear to eliminate this effect.”</p>
</blockquote>

<p>Whilst this effect no longer being present at higher levels of education is perhaps a positive I feel that it does not show a ‘levelling of the playing field’ but rather that the student specific education has a lesser emphasis at higher levels of education (that is a beast of a long and terribly written sentence, it is late and I am too tired to fix it so instead added this parenthesis that makes it even longer; if you have read this far: I congratulate you).
I will not dwell on this as I am not sure it is the main point of the paper nor that there is a quick solution (I teach 150+ students in my first year class…) but I thought it was interesting.</p>

<h3 id="self-vs-non-self-evaluation">Self vs non-self evaluation</h3>

<p>One of the important things when trying to correlate academic performance and personality is obviously getting the correct measurement for the Five Factor Model.
An in depth overview of self versus non self evaluation is then given in the paper and Poropat describes how various studies have shown that non-self evaluation is a better predictor of academic performance than self evaluation (note that at this point no comparison is given to the general intelligence factor - that comes later).
I think this kind of points to the idea that ‘teachers and peers know you better than you know yourself’ (or at least in terms of the Five Factor Model).
It is particularly relevant to the work of Poropat’s paper as he then collects studies that look at the correlation of the Five Factor Model with academic performance: in particular only non-self evaluation studies are considered.</p>

<h3 id="using-the-five-factor-model">Using the Five Factor Model</h3>

<p>One interesting aspect of the paper is that it emphasises that certain pedagogic approaches would be better suited to certain personalities:</p>

<blockquote>
  <p>“For example, discovery learning approaches help students who are higher in openness to learn while students lower on openness are aided by programmed instruction…”</p>
</blockquote>

<p>I need to think about this in relation to the fact that there is other research that shows that <a href="http://drvinceknight.blogspot.co.uk/2014/05/reflecting-on-evidence-for-benefits-of.html">students achieve better academic performance in an active learning environment</a> (such as discovery learning which is apparently another term for inquiry based learning).</p>

<h3 id="hard-work-and-curiosity-are-better-predictors-of-academic-performance-than-intellect">Hard work and curiosity are better predictors of academic performance than intellect</h3>

<p>This is one of the nicer takeaways of the paper, by analysing 16 reports of studies that linked the five factor model to academic performance; Poropat shows that the correlation of Conscientiousness is stronger than the correlation of Openness.
This is in turn stronger than previously reported correlations of the general intelligence factor.</p>

<p>I am sure that there will be studies and findings that report different things but I know that I’ll be using this meta analysis as a basis for further pedagogic work (in particular this paper will be very helpful for my current undergraduate research student and I: we are looking at student personality in a flipped classroom).</p>

<p>I know that I have always had a major preference to work with students that are (according to my personal evaluation) high on the Conscientiousness scale.</p>

<h3 id="tldr-summary"><strong>TLDR</strong>: Summary</h3>

<p>I realise that I really have rambled in the above (the notes in my notebook are far messier still) so here are 3 bullet points I would take away from this paper:</p>

<ul>
  <li>There exists a 5 dimensional measure of personality;</li>
  <li>Non-self evaluated versions of this measure are more accurate with regards to academic performance;</li>
  <li>There is evidence that hard work is a better predictor than intellect for academic performance.</li>
</ul>

<p>If there was one point I wish all students would <strong>believe</strong> it would be that last one.
I often feel that some students believe that they have to settle for a certain level of achievement (‘because that is just how smart they are’) and this is something I have never personally been satisfied with.
This is mentioned in particular in Poropat’s paper as there is evidence that personality can be modified more easily than general intelligence factor (even in older students).</p>

<p>It also seems evident as students of higher intellect would perhaps have been used to getting by without effort.
Once things became ‘hard’ then perhaps those students who are used to working hard could indeed achieve success…</p>

<h3 id="my-personal-experience"> My personal experience</h3>

<p>To finish off this blog I thought I would throw in an xkcd style graph of my own personal ‘academic journey’ (to fully understand it, the blog post about my Physics teacher I linked to earlier is probably of interest):</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/xkcd_vks_learning.png" alt="" /></p>

<p>(<a href="https://gist.github.com/drvinceknight/296e5765ab3921f93b08">Matplotlib code here if it is of interest</a>)</p>

<p>As a general summary I can certainly say that I firmly believe that any/all of my academic achievements have had very little to do with my ‘intellectual ability’ as opposed to my work ethic.
Here’s a quote of Larry Bird that I really fell in love with the first time I heard it:</p>

<blockquote>
  <p>I’ve got a theory that if you give 100% all of the time, somehow things will work out in the end.</p>
</blockquote></div>







<p class="date">
<a href="http://drvinceknight.github.io/unpeudemath/code/2015/01/16/on-a-paper-about-inelligence-vs-conscientiousness/">January 16, 2015 12:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>January 07, 2015</h2>

<div class="channelgroup">







<h3><a href="http://drvinceknight.github.io/unpeudemath/" title="Un peu de math">Vince Knight</a></h3>


<div class="entrygroup" id="http://drvinceknight.github.io/unpeudemath/mathematics/2015/01/07/my_otis_king_calculator/">
<h4><a href="http://drvinceknight.github.io/unpeudemath/mathematics/2015/01/07/my_otis_king_calculator/">My Otis King Calculator</a></h4>
<div class="entry">
<div class="content">
<p>I was given a very cool present this Christmas period by my in laws (Check out Rachel’s fitness blog <a href="http://rbhfitness.blogspot.co.uk/">here</a> and also this pretty incredible photo of Bryn in Antartica <a href="https://twitter.com/RachelPrytherch/status/533148818163134464">here</a>). It’s an old school <a href="http://en.wikipedia.org/wiki/Otis_King">Otis King calulator</a> which based on wikipedia was made sometime between 1922 and 1972.</p>

<p>Here it is in it’s box:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/calculator_in_box.png" alt="" /></p>

<p>The box contains some (pretty old looking) instructions and the calculator itself:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/calculator_out_of_box.png" alt="" /></p>

<p>This calculator allows you to carry out multiplication and division pretty easily thanks to the use of a logarithmic scale.</p>

<p>This video is a pretty good demonstration of how to work it:</p>

<div class="video">
    
        
    
</div>

<p>If you don’t have time to look at that short video here’s the basics of trying to multiply 14 by 6.
The calculator is made up of two cylinders seperated by a slider with two markers:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/standing_calculator.png" alt="" /></p>

<p>First we put the bottom marker on 14:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/calculator_step_1_of_multiplication.png" alt="" /></p>

<p>Once we have done that we align the top marker with a ‘ONE’ (there are three of them) at the top or bottom (of the upper cylinder).
We do this by keeping the bottom marker aligned on the 14:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/calculator_step_2_of_multiplication.png" alt="" /></p>

<p>The final step is to move the top marker to 6 and read the result of the product on the bottom marker:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/calculator_step_3_of_multiplication.png" alt="" /></p>

<p>As can be shown in the photo the result is 84.</p>

<p>As you can see in the video (and or might be able to work out) it’s pretty simple to invert this process to carry out division also.
For example the following photo shows the last step of 84/5= 16.8.</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/calculator_step_3_of_division.png" alt="" /></p>

<p>This is such a neat little calculator and a very cool gift.
Not quite sure I’ll be letting go of my smart phone just yet but this will go really nicely on the desk in my office.</p></div>







<p class="date">
<a href="http://drvinceknight.github.io/unpeudemath/mathematics/2015/01/07/my_otis_king_calculator/">January 07, 2015 12:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>December 27, 2014</h2>

<div class="channelgroup">







<h3><a href="http://sheaves.github.io/" title="Sheaves">Liang Ze</a></h3>


<div class="entrygroup" id="http://sheaves.github.io/Subgroup-Lattice-Edges/">
<h4><a href="http://sheaves.github.io/Subgroup-Lattice-Edges/">Lattice of Subgroups III - Coloring Edges</a></h4>
<div class="entry">
<div class="content">
<p>This post will cover the coloring of edges in the lattice of subgroups of a group. </p>

<p><img src="http://sheaves.github.io/images/C3semiC8.png" alt="Lattice of subgroups of $C3:C8$" /></p>

<!--more-->

<p>Coloring edges is almost as simple as <a href="http://sheaves.github.io/Subgroup-Lattice-Color-Vertices/">coloring vertices</a>, so we’ll start with that. </p>

<h2 id="generating-small-groups">Generating small groups</h2>
<p>As we’ve done in previous posts, let’s start by choosing a group and generate its lattice of subgroups. This can be done by referring to this list of <a href="http://www.sagemath.org/doc/constructions/groups.html#construction-instructions-for-every-group-of-order-less-than-32">constructions for every group of order less than 32 </a>. These instructions allow us to construct every group on Wikipedia’s <a href="http://en.wikipedia.org/wiki/List_of_small_groups">list of small groups</a>! </p>

<p>For this post, we’ll use $G = C_3 \rtimes C_8$ (or $\mathbb{Z}_3 \rtimes \mathbb{Z}_8$). First, we’ll generate $G$ and display it’s poset of subgroups. For simplicity, we’ll label by cardinality, and we won’t color the vertices.</p>

<p><em>(The Sage cells in this post are linked, so things may not work if you don’t execute them in order.)</em></p>

<div class="linked">
  
</div>

<h2 id="coloring-edges">Coloring edges</h2>
<p>In the <a href="http://sheaves.github.io/Subgroup-Lattice-Color-Vertices/">previous post</a>, we colored vertices according to whether the corresponding subgroup was normal (or abelian, or a Sylow subgroup, etc.) These are properties that depend only on each individual subgroup.</p>

<p>However, suppose we want to see the subnormal series of the group. A <a href="http://en.wikipedia.org/wiki/Subgroup_series#Normal_series.2C_subnormal_series">subnormal series</a> is a series of subgroups where each subgroup is a normal subgroup of the next group in the series. Checking whether a particular series of subgroups is a subnormal series requires checking <em>pairs</em> of subgroups to see whether one is a normal subgroup of the other. This suggests that we color <em>edges</em> according to whether one of its endpoints is a normal subgroup of the other endpoint.</p>

<p>The edges of the <a href="http://en.wikipedia.org/wiki/Hasse_diagram">Hasse diagram</a> of a poset are the pairs $(h,k)$ where $h$ is <a href="http://en.wikipedia.org/wiki/Covering_relation">covered by</a> $k$ in the poset. This means that $h &lt; k$, with nothing else in between. We thus obtain all the edges of a Hasse diagram by calling <code>P.cover_relations()</code> on the poset $P$.</p>

<p>To color edges of a graph, we create a dictionary <code>edge_colors</code>:</p>

<div class="linked">
  
</div>

<h3 id="up-next">Up next…</h3>
<p>This is the last post describing relatively simple things one can do to visualize subgroup lattices (or more generally, posets) in Sage. In the next post, I’ll write code to label edges. Doing this requires extracting the Hasse diagram of a poset as a graph and modifying the edge labels. Also, subgroup lattices tend to get unwieldy for large groups. In the next post, we’ll restrict our attention to conjugacy classes of subgroups, rather than all subgroups.</p>

<p>After that, I hope to write a bit about doing some simple representation theory things in Sage.</p></div>







<p class="date">
<a href="http://sheaves.github.io/Subgroup-Lattice-Edges/">December 27, 2014 12:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>December 25, 2014</h2>

<div class="channelgroup">







<h3><a href="http://sheaves.github.io/" title="Sheaves">Liang Ze</a></h3>


<div class="entrygroup" id="http://sheaves.github.io/Holiday-Harmonograph/">
<h4><a href="http://sheaves.github.io/Holiday-Harmonograph/">Holiday Harmonograph</a></h4>
<div class="entry">
<div class="content">
<p><em>(Guest post from the Annals of Harmonography)</em>
<img src="http://sheaves.github.io/images/harmonograph_loop.gif" alt="harmonograph" /></p>

<!--more-->

<p>When it’s snowing outside (or maybe not),</p>

<p>And your feet are cold (or maybe hot),</p>

<p>When it’s dark as day (or bright as night),</p>

<p>And your heart is heavy (and head is light),</p>

<p>What should you do (what should you say)</p>

<p>To make it all right (to make it okay)?</p>

<p>.</p>

<p>Just pick up a pen (a pencil will do),</p>

<p>Set up a swing (or <a href="http://www.karlsims.com/harmonograph/">three</a>, or two),</p>

<p>And while the world spins (or comes to a still),</p>

<p>In your own little room (or on top of a hill),</p>

<p>Let your pendulum sway (in its time, in its way),</p>

<p>And watch as the pen draws your worries away!</p>

<p>.</p>

<p>.</p>

<p><em>(Click inside the colored box to choose a color. Then click outside and watch it update.)</em></p>

<div class="auto_out">
  
</div>

<h3 id="related-articles">Related Articles:</h3>

<ul>
  <li>7 celebrities and their harmonographs</li>
  <li>What your harmonograph says about you</li>
  <li>10 tips for a happier harmonograph</li>
  <li>Harmonograph secrets… revealed!</li>
</ul></div>







<p class="date">
<a href="http://sheaves.github.io/Holiday-Harmonograph/">December 25, 2014 12:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>December 23, 2014</h2>

<div class="channelgroup">







<h3><a href="http://drvinceknight.github.io/unpeudemath/" title="Un peu de math">Vince Knight</a></h3>


<div class="entrygroup" id="http://drvinceknight.github.io/unpeudemath/code/2014/12/23/using_python_and_selenium_for_a_jekyll_site/">
<h4><a href="http://drvinceknight.github.io/unpeudemath/code/2014/12/23/using_python_and_selenium_for_a_jekyll_site/">Using Python and Selenium to write functional tests for a Jekyll site</a></h4>
<div class="entry">
<div class="content">
<p>Over the past six months or so I’ve become a huge Jekyll fan.
In this post I’ll briefly show how to write functional tests using Selenium for a Jekyll site.</p>

<h3 id="what-are-functional-tests">What are functional tests?</h3>

<p>This is all extremely well described in <a href="http://chimera.labs.oreilly.com/books/1234000000754/ch01.html">Test Driven Development with Python</a>.
Functional tests are one aspect of test driven development (TDD).
They concentrate on testing that software works as it is expected to when used by the user.
TDD is the (awesome) framework in which the first thing one should do when writing code is to write a test, then check that it fails and then write code that makes it pass.
Or to put it simple “Obey the Testing Goat! Do Nothing Until You Have a Test” (that is a direct quote from the book I mentioned above).</p>

<p>Testing takes various forms, two of which are (the hyper links there go to the corresponding Python library):</p>

<ul>
  <li><a href="https://docs.python.org/2/library/doctest.html">Doctests</a>: this involves writing tests directly in the documentation of the code you are writing.</li>
  <li><a href="https://docs.python.org/2/library/unittest.html">Unittests</a>: this involves writing more robust tests in a separate script.</li>
</ul>

<h3 id="let-us-fire-up-a-jekyll-site-skip-this-if-you-are-a-jekyll-regular">Let us fire up a Jekyll site (skip this if you are a jekyll regular)</h3>

<p>This is very easy to do, after installing jekyll (see <a href="http://jekyllrb.com/docs/installation/">jekyll installation instructions</a>), the following will create a base site:</p>

<div class="highlight"><pre><code class="language-bash"><span class="nv">$ </span>jekyll new site_for_tests
New jekyll site installed in /Users/vince/site_for_tests.</code></pre></div>

<p>Simply navigate to that new folder and run the following jekyll command to fire up the base site:</p>

<div class="highlight"><pre><code class="language-bash"><span class="nv">$ </span>jekyll serve
Configuration file: /Users/vince/site_for_tests/_config.yml
            Source: /Users/vince/site_for_tests
       Destination: /Users/vince/site_for_tests/_site
      Generating...
                    <span class="k">done</span>.
 Auto-regeneration: disabled. Use --watch to enable.
Configuration file: /Users/vince/site_for_tests/_config.yml
    Server address: http://0.0.0.0:4000/
  Server running... press ctrl-c to stop.</code></pre></div>

<p>Then open up a browser and throw <code>http://0.0.0.0:4000/</code> in to the url, the base site will come up:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/base_jekyll.png" alt="" /></p>

<p>Now we are ready to write a Selenium testing framework</p>

<h3 id="writing-an-initial-selenium-test">Writing an initial Selenium test</h3>

<p>So now we are going to write a test that indeed checks that the website acts like we expect.
First of all let us install the Python selenium library:</p>

<div class="highlight"><pre><code class="language-bash"><span class="nv">$ </span>pip install selenium</code></pre></div>

<p>Now let us write some tests!
Open up a file called <code>functional_tests.py</code> and fill it with this:</p>



<p>Run the tests:</p>

<div class="highlight"><pre><code class="language-bash"><span class="nv">$ </span>python functional_tests.py</code></pre></div>

<p>This will open up Firefox and (assuming all is well) return nothing in the shell.</p>

<p>So now let us modify the test file:</p>



<p>Note that I am getting ready to change the base jekyll template and build my site about writing tests.
Run the tests:</p>

<div class="highlight"><pre><code class="language-bash"><span class="nv">$ </span>python new_functional_tests.py
File <span class="s2">"new_functional_tests.py"</span>, line 6, in &lt;module&gt;
    assert <span class="s1">'How to write tests'</span> in browser.title  <span class="c"># This checks that the required title is in browser title</span>
AssertionError</code></pre></div>

<p>This time around we get an assertion error :)</p>

<p>Now we can go about changing our site (we are doing some TDD right now).
Here is the new config file (note I have only changed the <code>title</code> field):</p>



<p>Now when we run the tests we get no assertion error:</p>

<div class="highlight"><pre><code class="language-bash"><span class="nv">$ </span>python new_functional_tests.py</code></pre></div>

<p>This frees us up to write another test and then write another feature etc…</p>

<h3 id="taking-things-further">Taking things further</h3>

<p>The above is an extremely simple example of what Selenium can do and also of how to write tests.</p>

<ol>
  <li>If you know how to write unit tests but are not sure about Selenium take a look at <a href="http://docs.seleniumhq.org/docs/03_webdriver.jsp">the Selenium site</a> (you can click on a button for Python or indeed whatever interface you would like to use). That site has a good collection of what Selenium can do (check what happens when clicking on links, checking content etc…). This is also helpful: <a href="https://selenium-python.readthedocs.org/">https://selenium-python.readthedocs.org/</a>.</li>
  <li>If you are happy with Selenium but not unit tests then there are a variety of great tutorials around but to be honest I cannot recommend the <a href="http://chimera.labs.oreilly.com/books/1234000000754/ch01.html">Test Driven Development with Python Book</a> enough. <a href="https://twitter.com/hjwp">Harry Percival</a> did a great job.</li>
</ol>

<p>Here are some tests I wrote today for the site my students have put together for <a href="http://cardiffmathematicscodeclub.github.io/">Code Club</a>:</p>



<p>In there you can see examples of all of the above (clicking on links, checking content, checking things against a database etc…) but also the way I document the code (using what is called a ‘User Story’ which explains what a user should/would see).
You can also see the way to properly ‘tear down’ the tests (so that Firefox closes).</p>

<p>I hope this is helpful for some: in essence you can use Selenium via Python for any site, to use it with jekyll all you need to do is have the local server running.</p></div>







<p class="date">
<a href="http://drvinceknight.github.io/unpeudemath/code/2014/12/23/using_python_and_selenium_for_a_jekyll_site/">December 23, 2014 12:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>December 21, 2014</h2>

<div class="channelgroup">







<h3><a href="http://quantumtetrahedron.wordpress.com/" title="quantumtetrahedron » Personal research">David Horgan (quantumtetrahedron)</a></h3>


<div class="entrygroup" id="http://quantumtetrahedron.wordpress.com/?p=2162" lang="en">
<h4><a href="http://quantumtetrahedron.wordpress.com/2014/12/21/numerical-work-with-sagemath-23-wigner-reduced-rotation-matrix-elements-as-limits-of-6j-symbols/">hyperequ1sage26jvscosLv3</a></h4>
<div class="entry">
<div class="content">
<p>This work is based on the paper &#8220;Exact Computation and Asymptotic Approximations of 6j Symbols: Illustration of Their Semiclassical Limits by Mirco Ragni et al which I&#8217;ll be reviewing in my next post.</p>
<p>The 6j symbols tend asymptotically to <a class="zem_slink" title="Eugene Wigner" href="http://en.wikipedia.org/wiki/Eugene_Wigner" target="_blank" rel="wikipedia">Wigner</a> d<sup>l</sup><sub>nm</sub> functions when some <a class="zem_slink" title="Angular momentum" href="http://en.wikipedia.org/wiki/Angular_momentum" target="_blank" rel="wikipedia">angular momenta</a> are large where θ assumes certain discrete values.</p>
<p><a href="https://quantumtetrahedron.files.wordpress.com/2014/12/hyperequ10.gif"><img class="aligncenter size-full wp-image-2165" src="https://quantumtetrahedron.files.wordpress.com/2014/12/hyperequ10.gif?w=474" alt="hyperequ10" /></a></p>
<p>&nbsp;</p>
<p><a href="https://quantumtetrahedron.files.wordpress.com/2014/12/hyperequ11.gif"><img class="aligncenter size-full wp-image-2166" src="https://quantumtetrahedron.files.wordpress.com/2014/12/hyperequ11.gif?w=474&h=38" alt="hyperequ11" width="474" height="38" /></a></p>
<p>&nbsp;</p>
<p><a href="https://quantumtetrahedron.files.wordpress.com/2014/12/hyperequ12.gif"><img class="aligncenter size-full wp-image-2167" src="https://quantumtetrahedron.files.wordpress.com/2014/12/hyperequ12.gif?w=474" alt="hyperequ12" /></a></p>
<p>&nbsp;</p>
<p>These formulas are illustrated below:</p>
<p><a href="https://quantumtetrahedron.files.wordpress.com/2014/12/hyperfig2.gif"><img class="aligncenter size-full wp-image-2168" src="https://quantumtetrahedron.files.wordpress.com/2014/12/hyperfig2.gif?w=474" alt="hyperfig2" /></a></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>This can be modelled using sagemath.</p>
<p><a href="https://quantumtetrahedron.files.wordpress.com/2014/12/hyperequ1sage1.gif"><img class="aligncenter size-full wp-image-2170" src="https://quantumtetrahedron.files.wordpress.com/2014/12/hyperequ1sage1.gif?w=474&h=248" alt="hyperequ1sage1" width="474" height="248" /></a></p>
<p>The routine gives some great results:</p>
<p>For N=320, M=320, n=0, m=0, l=20, L=0,  Lmax=640</p>
<p>Wigner 6j vs cosθ<sub>L</sub></p>
<p><a href="https://quantumtetrahedron.files.wordpress.com/2014/12/hyperequ1sage26jvscosl1.gif"><img class="aligncenter size-full wp-image-2173" src="https://quantumtetrahedron.files.wordpress.com/2014/12/hyperequ1sage26jvscosl1.gif?w=474&h=234" alt="hyperequ1sage26jvscosL" width="474" height="234" /></a></p>
<p>For N=320, M=320, n=0, m=0, l=10, L=0,  Lmax=640</p>
<p>Wigner 6j vs cosθ<sub>L</sub></p>
<p><a href="https://quantumtetrahedron.files.wordpress.com/2014/12/hyperequ1sage26jvscoslv2.gif"><img class="aligncenter size-full wp-image-2174" src="https://quantumtetrahedron.files.wordpress.com/2014/12/hyperequ1sage26jvscoslv2.gif?w=474&h=229" alt="hyperequ1sage26jvscosLv2" width="474" height="229" /></a></p>
<p>For N=320, M=320, n=0, m=0, l=5, L=0,  Lmax=640</p>
<p>Wigner 6j vs cosθ<sub>L</sub></p>
<p><a href="https://quantumtetrahedron.files.wordpress.com/2014/12/hyperequ1sage26jvscoslv31.gif"><img class="aligncenter size-full wp-image-2176" src="https://quantumtetrahedron.files.wordpress.com/2014/12/hyperequ1sage26jvscoslv31.gif?w=474&h=234" alt="hyperequ1sage26jvscosLv3" width="474" height="234" /></a><a href="https://quantumtetrahedron.files.wordpress.com/2014/12/hyperequ1sage26jvscoslv3.gif"><br />
</a></p>
<p>&nbsp;</p><br />  <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/quantumtetrahedron.wordpress.com/2162/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/quantumtetrahedron.wordpress.com/2162/" /></a> <img alt="" border="0" src="http://pixel.wp.com/b.gif?host=quantumtetrahedron.wordpress.com&blog=54584330&post=2162&subd=quantumtetrahedron&ref=&feed=1" width="1" height="1" /></div>







<p class="date">
<a href="http://quantumtetrahedron.wordpress.com/2014/12/21/numerical-work-with-sagemath-23-wigner-reduced-rotation-matrix-elements-as-limits-of-6j-symbols/">by David Horgan at December 21, 2014 11:20 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>December 17, 2014</h2>

<div class="channelgroup">







<h3><a href="http://martinralbrecht.wordpress.com" title="malb::blog » sage">Martin Albrecht</a></h3>


<div class="entrygroup" id="http://martinralbrecht.wordpress.com/?p=1099" lang="en">
<h4><a href="http://martinralbrecht.wordpress.com/2014/12/17/looking-back-and-forward-for-open-source-mathematics-software-2014/">martinralbrecht</a></h4>
<div class="entry">
<div class="content">
<p> When a year ends people make lists. I can only guess that several people are currently busy with writing “The 5 most revised papers on <a href="https://eprint.iacr.org">eprint</a> ” and “The 8 best IACR flagship conference rump session presentations of 2014”. Since all the good lists are taken, my list has to be a little bit more personal. Alas, here is my list of stuff that happened in open-source computational mathematics in 2014 around me. That is, below I list what developments happened in 2014 and try to provide an outlook for 2015 (so that I can come back in a year to notice that nothing played out as planned). </p>
<p> If you are interested in any of the projects below feel invited to get involved. Also, if you are student and you are interested in working on one of the (bigger) projects listed below over the summer, get in touch: we could try to turn it into a <a href="https://www.google-melange.com/gsoc/homepage/google/gsoc2015">Google Summer of Code 2015</a> project. </p>
<p><span id="more-1099"></span></p>
<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">fplll: lattice reduction</h2>
<div class="outline-text-2" id="text-1">
<p> This year I mainly worked on lattice-based cryptography. At the heart of this line of research is the assumption that finding short vectors in discrete subgroups of <img src="http://s0.wp.com/latex.php?latex=%5Cmathbb%7BR%7D%5En&bg=eeebf2&fg=3c3d47&s=0" alt="\mathbb{R}^n" title="\mathbb{R}^n" class="latex" /> (think of a vector space, but only integer linear combinations are allowed) is hard. The main tool for finding such short vectors is lattice reduction. </p>
<p> The first algorithm for lattice reduction was the LLL algorithm which proved to be incredibly useful for many applications in cryptography and beyond. LLL is implemented in <a href="http://www.shoup.net/ntl/doc/LLL.txt">NTL</a>, <a href="http://pari.math.u-bordeaux.fr/dochtml/html.stable/Vectors,_matrices,_linear_algebra_and_sets.html">Pari</a>, <a href="https://github.com/dstehle/fplll/blob/master/src/lll.h">fplll</a> and – <a href="https://groups.google.com/d/topic/flint-devel/zdNBXow63z4/discussion">as of this summer</a> – in FLINT 2; fplll typically seems to be the fastest implementation (cf. the link above for a comparison with FLINT 2). </p>
<p> While LLL runs in polynomial time (read: fast) it only gives a “short vector” which is about <img src="http://s0.wp.com/latex.php?latex=2%5E%7Bn%2F4%7D&bg=eeebf2&fg=3c3d47&s=0" alt="2^{n/4}" title="2^{n/4}" class="latex" /> longer than the actually shortest vector in the lattice (read: not so good). This is good enough for many applications but not good enough to, e.g. solve LWE. </p>
<p> To produce shorter vectors we typically employ the BKZ algorithm which is parameterised by a block size. The larger the block size the better the output but the longer it takes. BKZ is implemented in <a href="http://www.shoup.net/ntl/doc/LLL.txt">NTL</a> and <a href="https://github.com/dstehle/fplll/blob/master/src/bkz.h">fplll</a>, typically fplll is faster. </p>
<p> At AsiaCrypt 2011 Chen and Nguyen presented their <a href="http://www.iacr.org/archive/asiacrypt2011/70730001/70730001.pdf">results</a> of combining various known techniques for speeding up the BKZ algorithm. They call the result BKZ 2.0. They also applied BKZ 2.0 to various benchmark problems and claimed substantial improvements over the public state of the art.  However, for some reasons only known to the authors and the AsiaCrypt 2011 programme committee, their paper was accepted without them publishing their source code. Since then we’re in the somewhat strange situation that everybody believes BKZ can be made to run much faster (you might even get your paper rejected because you are not using the state of the art, i.e. BKZ 2.0) but no one has publicly reproduced these results. </p>
<p> In autumn we took some first steps towards fixing this situation by adding <a href="https://github.com/dstehle/fplll/pull/6">better pre-processing</a> and an <a href="https://github.com/dstehle/fplll/commit/df3720b8362c4464a59f2d64da5e3573da03b418">easier linear pruning interface</a> to fplll. I know that others have patched fplll as well, but as far as I know they never made their changes public. In the process, we also moved fplll’s development to <a href="https://github.com/dstehle/fplll">Github</a>, so send your pull requests. </p>
<p> While the result is an improvement over plain BKZ, there’s still a lot of work to be done to come even close to the results of Chen and Nguyen. For example, they use <a href="http://www.iacr.org/archive/eurocrypt2010/66320257/66320257.pdf">extreme pruning</a> instead of the simple linear pruning strategy currently implemented in fplll and it’s not clear how to pick pruning parameters for extreme pruning … however, there’s a <a href="http://arxiv.org/abs/1406.0342">paper on the arXiv</a> which promises an answer to this question. Furthermore, currently the user has to pick pre-processing parameters by hand, something the implementation should take care off by default. Finally, a recent <a href="http://eprint.iacr.org/2014/980">paper on ePrint</a> claims that phase-based enumeration is much faster than the Kannan-Helfrich enumeration algorithm which is implemented everywhere including fplll. I’d consider addressing any of these issues a valuable contribution. </p>
</div>
</div>
<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">dgs: sampling from a discrete Gaussian distribution</h2>
<div class="outline-text-2" id="text-2">
<p> A central step in most lattice-based cryptography is to sample from a discrete Gaussian. A discrete Gaussian distribution over the Integers is a distribution where the integer <i>x</i> is sampled with probability proportional to <img src="http://s0.wp.com/latex.php?latex=%5Cmbox%7Bexp%7D%28-%28x-c%29%5E2%2F%282%5Csigma%5E2%29%29&bg=eeebf2&fg=3c3d47&s=0" alt="\mbox{exp}(-(x-c)^2/(2\sigma^2))" title="\mbox{exp}(-(x-c)^2/(2\sigma^2))" class="latex" /> where <i>σ</i> is the width parameter (close to the standard deviation) and <i>c</i> is the centre. There are several algorithms to choose from to sample from such a distribution each being better or worse in some situations. Somewhat surprisingly, though, when I got started implementing some lattice-based crypto there was no <code>C</code> library available that allows to sample from a discrete Gaussian with reasonable efficiency. Now there <a href="https://bitbucket.org/malb/dgs">is</a>. The library is called dgs and it is included in Sage by default and also unpins our <a href="https://bitbucket.org/malb/gghlite-flint">GGHLite implementation</a>, so it has seen some usage. </p>
<p> A few things still need to be done, though. <a href="https://bitbucket.org/malb/dgs/commits/9bcdaa853cb458a6ad6055c991cab74647703e40">Some</a> <a href="https://bitbucket.org/malb/dgs/commits/0206f9dd025fb8dc6021d37c652924e39c14d423">bugs</a> <a href="https://bitbucket.org/malb/dgs/commits/7ce070313a4de4ee61cd886c2ad82f13046233fd">were</a> <a href="https://bitbucket.org/malb/dgs/commits/76bd4344ea26e111c619288d16fb60c24690d222">fixed</a> in the stand-alone library but not ported back to Sage, yet. Also, the library would benefit from <a href="https://bitbucket.org/malb/dgs/issue/2/test-mp-code">more tests</a> being run by <code>make check</code>. Finally, implementing the <a href="https://bitbucket.org/malb/dgs/issue/1/implement-discrete-ziggurat">Discrete Ziggurat</a> algorithm would complete the picture. </p>
</div>
</div>
<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">oz: computing in some Cyclotomic number rings</h2>
<div class="outline-text-2" id="text-3">
<p> Most of the interesting code in our <a href="https://bitbucket.org/malb/gghlite-flint">GGHLite</a> implementation is in the oz <a href="https://bitbucket.org/malb/gghlite-flint/src/0e39e3a6309ff7320985450667815abe683f78f1/oz/?at=master">submodule</a> which implements arithmetic in <img src="http://s0.wp.com/latex.php?latex=%5Cmathbb%7BZ%7D%5Bx%5D%2F%28x%5En%2B1%29&bg=eeebf2&fg=3c3d47&s=0" alt="\mathbb{Z}[x]/(x^n+1)" title="\mathbb{Z}[x]/(x^n+1)" class="latex" />, where <i>n</i> is a power of two, and with all operations in quasi-linear time. While the code is already fairly modular, i.e. we separated crypto applications from arithmetic, it might make sense to outsource this module into a separate library so it can used more easily by other projects should they wish to. </p>
<p> When we are doing this, we should probably also split up the dgsl <a href="https://bitbucket.org/malb/gghlite-flint/src/0e39e3a6309ff7320985450667815abe683f78f1/dgsl/?at=master">module</a>. This module implements sampling from a discrete Gaussian distribution over arbitrary lattices (in contrast to dgs which implements it over the integers). This module contains two essentially independent parts. One part samples from  lattices represented by a basis matrix using the <a href="http://www.cc.gatech.edu/~cpeikert/pubs/trap_lattice.pdf">GPV algorithm</a>. Another part samples from ideal lattices represented by an ideal generator in <img src="http://s0.wp.com/latex.php?latex=%5Cmathbb%7BZ%7D%5Bx%5D%2F%28x%5En%2B1%29&bg=eeebf2&fg=3c3d47&s=0" alt="\mathbb{Z}[x]/(x^n+1)" title="\mathbb{Z}[x]/(x^n+1)" class="latex" /> using <a href="http://www.cc.gatech.edu/~cpeikert/pubs/pargauss.pdf">Peikert’s algorithm</a>. The latter relies heavily on oz (as well as dgs) and might as well be moved there, the former has no connection to oz and could be either included in dgs (which would entail making FLINT a dependency of dgs) or remain independent. </p>
</div>
</div>
<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4">Linear algebra over small finite fields</h2>
<div class="outline-text-2" id="text-4">
<p> I didn’t work as much on linear algebra over small finite fields as I would have liked to in 2014. I doubt I’ll make it a priority of mine in 2015 either, so if anybody wants to jump in to help, that’d be much appreciated. </p>
</div>
<div id="outline-container-sec-4-1" class="outline-3">
<h3 id="sec-4-1">M4RI</h3>
<div class="outline-text-3" id="text-4-1">
<p> <a href="https://bitbucket.org/malb/m4ri/">M4RI</a> implements dense linear algebra over <img src="http://s0.wp.com/latex.php?latex=%5Cmathbb%7BF%7D_2&bg=eeebf2&fg=3c3d47&s=0" alt="\mathbb{F}_2" title="\mathbb{F}_2" class="latex" />, i.e. the field with two elements 0 and 1. We released one <a href="https://bitbucket.org/malb/m4ri/commits/tag/release-20140914">bugfix release</a> of M4RI this year. </p>
<p> If you read this blog, you probably know that <a href="http://www.ing.unitn.it/~bertolaz/">Enrico’s</a> <a href="https://github.com/ebertolazzi/GF2toolkit">implementation</a> of Gaussian elimination is faster than our own. As far as I can tell the advantage of GF2Toolkit over M4RI comes from avoiding a lot of management overhead. To illustrate this point, consider the following output of Google’s <a href="https://code.google.com/p/gperftools/">perf tools</a> on running M4RI’s Gaussian elimination on a 4096 x 4096 dense full rank matrix: </p>
<pre class="example">
     .      . 1121:      switch(__M4RI_M4RM_NTABLES) {
    42    131 1122:   case 8: t[7] = T[ 7]-&gt;rows[ L[7][ (a &gt;&gt; 7*k) &amp; bm ] ];
    57     79 1123:   case 7: t[6] = T[ 6]-&gt;rows[ L[6][ (a &gt;&gt; 6*k) &amp; bm ] ];
    27     47 1124:   case 6: t[5] = T[ 5]-&gt;rows[ L[5][ (a &gt;&gt; 5*k) &amp; bm ] ];
    14     25 1125:   case 5: t[4] = T[ 4]-&gt;rows[ L[4][ (a &gt;&gt; 4*k) &amp; bm ] ];
    29     52 1126:   case 4: t[3] = T[ 3]-&gt;rows[ L[3][ (a &gt;&gt; 3*k) &amp; bm ] ];
    15     34 1127:   case 3: t[2] = T[ 2]-&gt;rows[ L[2][ (a &gt;&gt; 2*k) &amp; bm ] ];
    14     27 1128:   case 2: t[1] = T[ 1]-&gt;rows[ L[1][ (a &gt;&gt; 1*k) &amp; bm ] ];
     6     17 1129:   case 1: t[0] = T[ 0]-&gt;rows[ L[0][ (a &gt;&gt; 0*k) &amp; bm ] ];
     .      . 1130:         break;
     .      . 1131:   default:

&lt;snip&gt;
     .      . 1137:   switch(__M4RI_M4RM_NTABLES) {
   970   1946 1138:     case 8: _mzd_combine_8(c, t, wide); break;
</pre>
<p> The numbers in the first two columns indicate how much time we spent in each line. As you can see, we’re spending between 20% and 25% of the time it takes to perform additions (<code>_mzd_combine_8</code>) with setting them up (everything else); We are performing 4096/128 · 8 = 256 XORs in <code>_mzd_combine_8</code>, which isn’t much and so our setup overhead is hurting us. </p>
</div>
</div>
<div id="outline-container-sec-4-2" class="outline-3">
<h3 id="sec-4-2">M4RIE</h3>
<div class="outline-text-3" id="text-4-2">
<p> <a href="https://bitbucket.org/malb/m4rie/">M4RIE</a> is a library for fast arithmetic with matrices over small even characteristic fields, i.e. <img src="http://s0.wp.com/latex.php?latex=%5Cmathbb%7BF%7D_2%5Bx%5D%2Ff%28x%29&bg=eeebf2&fg=3c3d47&s=0" alt="\mathbb{F}_2[x]/f(x)" title="\mathbb{F}_2[x]/f(x)" class="latex" /> where <i>f(x)</i> is an irreducible polynomial over <img src="http://s0.wp.com/latex.php?latex=%5Cmathbb%7BF%7D_2%5Bx%5D&bg=eeebf2&fg=3c3d47&s=0" alt="\mathbb{F}_2[x]" title="\mathbb{F}_2[x]" class="latex" /> of degree up to 16. We released one <a href="https://bitbucket.org/malb/m4rie/commits/tag/release-20140914">bugfix release</a> of M4RIE this year. </p>
<p> Last year I <a href="https://plus.google.com/+martinalbrecht/posts/JRyv4SXv6Z7">added</a> some code to M4RIE for computing with matrices over <img src="http://s0.wp.com/latex.php?latex=%5Cmathbb%7BF%7D_2%5Bx%5D&bg=eeebf2&fg=3c3d47&s=0" alt="\mathbb{F}_2[x]" title="\mathbb{F}_2[x]" class="latex" />, i.e. where the entries are high(er) degree polynomials over <img src="http://s0.wp.com/latex.php?latex=%5Cmathbb%7BF%7D_2&bg=eeebf2&fg=3c3d47&s=0" alt="\mathbb{F}_2" title="\mathbb{F}_2" class="latex" />. The strategy I implemented is some “evaluation,  pointwise-multiplication, interpolation” scheme where I use Dan Bernstein’s <a href="http://binary.cr.yp.to/linearmod2-20090830.pdf">“Optimizing linear maps modulo 2”</a> to cut down the cost of first and last step. Unfortunately, I didn’t get around to work more on this code this year. While I still don’t know an application for this, it would be fun to see how far we can push this. But I guess to do this properly, we’d need to also take another look at the Number Theoretic Transform to realise such multiplications, at least when the dimension of the matrices is not much bigger than the degree of the polynomials. </p>
<p> Another area for improvement is that the formulas we use to realise multiplication for degrees up to 16 are not always optional. In particular, we know that the following improvements are possible for degree 6 (18 → 15), degree 8 (27 → 24), degree 9 (31 → 30), degree 10 (36 → 33), degree 11 (40 → 39), degree 12 (45 → 42), degree 13 (49 → 38), degree 14 (55 → 51), degree 15 (60 → 54), degree 16 (64 → 60), where the numbers in brackets are the current and the best known number of multiplications over <img src="http://s0.wp.com/latex.php?latex=%5Cmathbb%7BF%7D_2&bg=eeebf2&fg=3c3d47&s=0" alt="\mathbb{F}_2" title="\mathbb{F}_2" class="latex" />. Some of these improvements can be realised by simply dropping in known better formulas, some of them would be a bit more involved because they rely on finite field embeddings. </p>
</div>
</div>
</div>
<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5">CryptoMiniSAT</h2>
<div class="outline-text-2" id="text-5">
<p> <a href="https://github.com/msoos/cryptominisat">CryptoMiniSAT</a> is the SAT solver with the best integration into Sage. However, Sage is still using CryptoMiniSAT 2.9.6 instead the more recent 4.x series. This is partly because we can’t get our act together and partly because Máté decided to go with CMake instead of Autotools in the current CryptoMiniSat series. There’s a <a href="https://github.com/msoos/cryptominisat/pulls">pull request</a> idling around which improves Autotools support for CryptoMiniSAT. I should probably follow up on this. Once this is taken care of (which shouldn&#8217;t take more than 1-2 hours), we should <a href="http://trac.sagemath.org/ticket/15674">update CryptoMiniSAT in Sage</a>. The interface of CryptoMiniSAT hasn&#8217;t changed much, so this second step shouldn&#8217;t be too hard either. Some options might have changed, so I would guess <a href="https://github.com/sagemath/sage/blob/master/src/sage/sat/solvers/cryptominisat/solverconf_helper.cpp">solverconf_helper.cpp</a> would need to be adapted slightly. </p>
</div>
</div>
<div id="outline-container-sec-6" class="outline-2">
<h2 id="sec-6">Sage</h2>
<div class="outline-text-2" id="text-6">
<p> <a href="https://sagemath.org">Sage</a> saw four major releases in 2014. <a href="http://boxen.math.washington.edu/home/release/sage-6.1/sage-6.1.txt">Sage 6.1</a> in February, <a href="http://boxen.math.washington.edu/home/release/sage-6.2/sage-6.2.txt">Sage 6.2</a> in May, <a href="http://boxen.math.washington.edu/home/release/sage-6.3/sage-6.3.txt">Sage 6.3</a> in August and <a href="https://martinralbrecht.wordpress.com/2014/11/16/sage-6-4/">Sage 6.4</a> in November. </p>
<p> My main contributions this year were to add better support for computing with lattices: I mainly worked on the fplll interface (see above) and on sampling from discrete Gaussian distributions (also above). I also fixed the occational bug and reviewed the occational ticket, but not as much as I would have liked to. In fact, there’s just been a friendly reminder that we have way too many tickets for Sage with status <a href="https://groups.google.com/d/topic/sage-devel/9Jw4viVgDKc/discussion">“needs review”</a> which means that someone contributed some code and that code is now waiting to be reviewed so it can be included (or revised). </p>
<p> As always there’s much to be done for Sage, but too little time. Here are some examples. </p>
</div>
<div id="outline-container-sec-6-1" class="outline-3">
<h3 id="sec-6-1">SAT Solvers</h3>
<div class="outline-text-3" id="text-6-1">
<p> Besides the tasks listed under the CryptoMiniSAT heading, more work should be done on Sage’s SAT solving capabilities. Currently, Sage will fail to solve any SAT problem without installing additional software because it believes that no SAT solver is included by default. Turns out, this is not correct. That is, Sage ships with GLPK and GLPK can be used as a SAT solver. That won’t break any performance records but it’s better than nothing. So we should use <a href="http://trac.sagemath.org/ticket/16862">GLPK as the poor person&#8217;s SAT Solver</a>. Indeed, adding support for this should be fairly straight forward. Here’s what <a href="http://www.steinertriples.fr/ncohen/">Nathann Cohen</a> had to say who pointed me towards GLPK: </p>
<blockquote>
<p> There are some sentences about it at the end of that : <a href="http://en.wikibooks.org/wiki/GLPK/Mixing_GLPK_with_other_solver_packages">http://en.wikibooks.org/wiki/GLPK/Mixing_GLPK_with_other_solver_packages</a> </p>
<p> And this page says that there is a dedicated pdf in GLPK&#8217;s doc: <a href="http://en.wikibooks.org/wiki/GLPK/Literature#Official_GLPK_documentation">http://en.wikibooks.org/wiki/GLPK/Literature#Official_GLPK_documentation</a> </p>
<p> … </p>
<p> But it seems that the interface is pretty basic, and may have to work through files&#x2026; or though LP ! But as you can already produce DIMACS SAT instances with you code, perhaps you can just call GLPK on that?  It would be better than nothing, plus you can say that the feature is standard, and also write everywhere that users can download a &#8220;real solver&#8221; if they want to. </p>
</blockquote>
<p> Secondly, while Sage currently is happy to write DIMACS files (the standard format for SAT problems) it does not <a href="http://trac.sagemath.org/ticket/16924">read DIMACS files</a>. </p>
</div>
</div>
<div id="outline-container-sec-6-2" class="outline-3">
<h3 id="sec-6-2">FGB</h3>
<div class="outline-text-3" id="text-6-2">
<p> For a while now I&#8217;ve had adding an interface to <a href="http://www-polsys.lip6.fr/~jcf/Software/FGb/">FGB</a> on my TODO list. FGB is <a href="http://www-polsys.lip6.fr/~jcf/">Jean-Charles Faugère’s</a> implementation of the F4 Gröbner basis algorithm. It is not open source, but it is a good implementation of F4, something which isn&#8217;t exactly widely available in the open-source world. Besides, being able to easily compare with FGB surely would be useful. </p>
</div>
</div>
<div id="outline-container-sec-6-3" class="outline-3">
<h3 id="sec-6-3">SCIP</h3>
<div class="outline-text-3" id="text-6-3">
<p> When I worked on solving multivariate systems of equations with noise I added support for the SCIP constraint integer programming solver to Sage. Constrained integer programming allows to solve non-linear systems of equations and inequalities. For example, it allows to model and solve systems which contain constrains like <img src="http://s0.wp.com/latex.php?latex=x+%5Ccdot+y+%2B+4x+%2B+1+%5Cgeq+0&bg=eeebf2&fg=3c3d47&s=0" alt="x \cdot y + 4x + 1 \geq 0" title="x \cdot y + 4x + 1 \geq 0" class="latex" /> and <img src="http://s0.wp.com/latex.php?latex=z+%3D+x%5C+%5Cmbox%7BOR%7D%5C+y&bg=eeebf2&fg=3c3d47&s=0" alt="z = x\ \mbox{OR}\ y" title="z = x\ \mbox{OR}\ y" class="latex" /> which comes in handy from time to time. SCIP is open source in the sense that you can read the source code, but its license does not live up the standards of the <a href="http://opensource.org/">Open Source Initiative</a> and we can’t ship it. Still, it is typically faster than real open-source solutions and the developers are <a href="https://martinralbrecht.wordpress.com/2011/03/07/constraint-integer-programming-in-sage/#comments">happy to help</a>. I&#8217;ve not touched this code in a while because I don&#8217;t work in this area at the moment, so someone who does should pick up the project. </p>
</div>
</div>
</div><br />  <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/martinralbrecht.wordpress.com/1099/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/martinralbrecht.wordpress.com/1099/" /></a> <img alt="" border="0" src="http://pixel.wp.com/b.gif?host=martinralbrecht.wordpress.com&blog=14622449&post=1099&subd=martinralbrecht&ref=&feed=1" width="1" height="1" /></div>







<p class="date">
<a href="http://martinralbrecht.wordpress.com/2014/12/17/looking-back-and-forward-for-open-source-mathematics-software-2014/">by martinralbrecht at December 17, 2014 04:53 PM</a>
</p>
</div>
</div>



</div>
<div class="channelgroup">







<h3><a href="http://sheaves.github.io/" title="Sheaves">Liang Ze</a></h3>


<div class="entrygroup" id="http://sheaves.github.io/Subgroup-Lattice-Color-Vertices/">
<h4><a href="http://sheaves.github.io/Subgroup-Lattice-Color-Vertices/">Lattice of Subgroups II - Coloring Vertices</a></h4>
<div class="entry">
<div class="content">
<p>In my <a href="http://sheaves.github.io/Subgroup-Lattice/">previous post</a>, I showed how to use Sage to generate the subgroup lattice of a group, and define labels for the subgroups. In this post, I’ll demonstrate how to color subgroups with different colors according to some desired property. If you’re not interested in code, scroll to the bottom of the post for a visual collection of groups and their subgroup lattices. </p>

<p><img src="http://sheaves.github.io/images/Dic3Lattice.png" alt="Lattice of the dicyclic group $Dic_3$" title="Lattice of the dicyclic group $Dic_3$" /></p>

<!--more-->

<p>First, let’s rerun the code from the previous post. We’ll choose a group we like and generate its poset. For this post, I’ll label the subgroups by their cardinality. If you’re trying this code in <a href="https://cloud.sagemath.com/">SageMathCloud</a> or your own version of  Sage that has the <code>database_gap</code> package installed, I strongly recommend labelling the subgroups using <code>structure_description()</code> instead).</p>

<p><em>(The Sage cells in this post are linked, so things may not work if you don’t execute them in order.)</em></p>

<div class="linked">
  
</div>

<h2 id="normal-subgroups">Normal subgroups</h2>
<p>Now suppose we wish to know which subgroups are <a href="http://en.wikipedia.org/wiki/Normal_subgroup">normal</a>. We can do so with the following:</p>

<div class="linked">
  
</div>

<p>Coloring takes place after labelling, so when we’re defining the color dictionary, we have to use the (re)labelled vertices rather than the original vertices. Hence the use of <code>label[x]</code> instead of just <code>x</code>.</p>

<p>Here are some more examples. They’re all just variations of the above.</p>

<h2 id="abelian-subgroups-and-the-center">Abelian subgroups and the center</h2>
<p>Let’s say we want to highlight the <a href="http://en.wikipedia.org/wiki/Abelian_group">abelian</a> subgroups, with special emphasis on the <a href="http://en.wikipedia.org/wiki/Center_%28group_theory%29">center</a> of the group. We can do this with a slight modification to the color dictionary:</p>

<div class="linked">
  
</div>

<h2 id="maximal-subgroups-and-the-frattini-subgroup">Maximal subgroups and the Frattini subgroup</h2>
<p>The <a href="http://en.wikipedia.org/wiki/Frattini_subgroup">Frattini subgroup</a> is the intersection of all the <a href="http://en.wikipedia.org/wiki/Maximal_subgroup">maximal subgroups</a> of $G$. We can see this by highlighting the Frattini and maximal subgroups.</p>

<p>Sage has a built-in function for getting the Frattini subgroup. To get the maximal subgroups, however, we’ll have to find the elements <a href="http://en.wikipedia.org/wiki/Covering_relation">covered</a> by the <a href="http://en.wikipedia.org/wiki/Greatest_element">greatest element (or top)</a> of the poset $P$.</p>

<div class="linked">
  
</div>

<h2 id="sylow-subgroups">Sylow subgroups</h2>
<p>Getting the <a href="http://mathworld.wolfram.com/Sylowp-Subgroup.html">Sylow $p$-subgroups</a> takes a little more work, since Sage doesn’t have a single function that generates all the Sylow subgroups at once.</p>

<p>In Sage, <code>G.sylow_subgroup(p)</code> returns <em>one</em> Sylow $p$-subgroups. To get <em>all</em> the Sylow $p$-subgroups, we could take all conjugates of this Sylow subgroup (since <a href="http://en.wikipedia.org/wiki/Sylow_theorems#Theorems">all Sylow $p$-subgroups are conjugate</a>). A faster way, however, is to use the fact that the cardinality of all Sylow $p$-subgroups is the maximal $p^{th}$ power dividing the order of $G$.</p>

<div class="linked">
  
</div>

<h1 id="more-examples">More examples</h1>
<div class="auto">
  
</div>

<p>In the next post, we’ll look at labelling edges. This is particularly useful if we want to determine if $G$ has  <a href="http://en.wikipedia.org/wiki/Subgroup_series">subgroup series</a> with certain properties.</p></div>







<p class="date">
<a href="http://sheaves.github.io/Subgroup-Lattice-Color-Vertices/">December 17, 2014 12:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>December 15, 2014</h2>

<div class="channelgroup">







<h3><a href="http://sheaves.github.io/" title="Sheaves">Liang Ze</a></h3>


<div class="entrygroup" id="http://sheaves.github.io/Subgroup-Lattice/">
<h4><a href="http://sheaves.github.io/Subgroup-Lattice/">Lattice of Subgroups</a></h4>
<div class="entry">
<div class="content">
<p>This is the first in a series of posts on visualizing groups via their lattice of subgroups.</p>

<p><img src="http://sheaves.github.io/images/D4LatticeWhite.png" alt="Lattice of the dihedral group $D_4$" title="Lattice of the dihedral group $D_4$." /></p>

<!--more-->

<h1 id="displaying-the-lattice-of-subgroups">Displaying the Lattice of Subgroups</h1>

<p>One way of getting a better understanding of a group is by considering its subgroups. The <a href="http://en.wikipedia.org/wiki/Lattice_of_subgroups">lattice of subgroups</a> (more precisely, the <a href="http://en.wikipedia.org/wiki/Hasse_diagram">Hasse diagram</a> of this lattice) gives us a way to visualize how these subgroups relate to each other and to their parent group. Here’s how to do it in Sage:</p>

<p><em>(The Sage cells in this post are linked, so things may not work if you don’t execute them in order.)</em></p>

<div class="linked">
  
</div>

<p>By default, the vertex labels of the Hasse diagram will be the description of the object that the vertex represents. In our case, something like <code>Subgroup of (Dihedral group of order 8 as a permutation group) generated by [(1,2)(3,4)]</code>, which would be way too long to display nicely. Because of this, in the above code, I’ve decided not to label the vertices. I’ve also chosen to make the vertices hexagonal and white.</p>

<h1 id="relabelling-vertices">Relabelling vertices</h1>
<p>Without labels, it can be hard to tell what subgroups we’re looking at. We can define new labels for these vertices by defining a <a href="https://docs.python.org/2/tutorial/datastructures.html#dictionaries">dictionary</a> where the keys are the original vertices and their corresponding values are our new labels.</p>

<h2 id="labelling-by-generators">Labelling by generators</h2>
<p>One way to tell what the subgroups are is to look at their generators:</p>

<div class="linked">
  
</div>

<p>This isn’t very pretty, and just knowing the generators doesn’t give us much intuition about the group.</p>

<h2 id="labelling-by-cardinalities">Labelling by cardinalities</h2>
<p>Alternatively, we could label the subgroups by their cardinalities:</p>

<div class="linked">
  
</div>

<p>If you ran the preceding code, you probably encountered an error message. This is because Sage currently requires that vertex labels be injective i.e. distinct vertices must have distinct labels. There’s a quick but slightly ugly fix for this: just pad spaces around the labels to make them all unique:</p>

<div class="linked">
  
</div>

<h2 id="labelling-by-structure-description">Labelling by structure description</h2>
<p>However, cardinalities still don’t tell me very much about the subgroup. Fortunately, Sage has a method for describing the structure of a small group: <code>H.structure_description()</code> where <code>H</code> is the group in question.</p>

<p><em>Un</em>fortunately, this method requires the <a href="http://www.gap-system.org/">GAP</a> group database, which is not installed with the Sagecell version of Sage. However, the free <a href="https://cloud.sagemath.com/">SageMathCloud</a> service’s installation of Sage <em>does</em> have the group database installed, so you can try the following code there. This code was used to produce the image at the start of this post:</p>

<div class="no_eval">
  
</div>

<h1 id="more-examples">More examples</h1>
<p>Try playing around with different groups and different labelling methods!</p>

<div class="auto">
  
</div>

<p>And here are some questions that might arise while playing around with subgroup lattices:</p>

<ul>
  <li>In the code, I’ve technically only defined the <a href="http://en.wikipedia.org/wiki/Partially_ordered_set">poset</a> of subgroups. However, it turns out the poset of subgroups is also always a  <a href="http://en.wikipedia.org/wiki/Lattice_%28order%29">lattice</a>. Why?</li>
  <li>When is the subgroup lattice also <a href="http://en.wikipedia.org/wiki/Distributive_lattice">distributive</a>?</li>
  <li>When is the subgroup lattice a <a href="http://en.wikipedia.org/wiki/Total_order">chain</a>?</li>
</ul>

<p>In the next post, we’ll add some color to the subgroup of lattices by coloring the subgroups according to properties they have.</p></div>







<p class="date">
<a href="http://sheaves.github.io/Subgroup-Lattice/">December 15, 2014 12:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>December 14, 2014</h2>

<div class="channelgroup">







<h3><a href="http://drvinceknight.github.io/unpeudemath/" title="Un peu de math">Vince Knight</a></h3>


<div class="entrygroup" id="http://drvinceknight.github.io/unpeudemath/pedagogy/2014/12/14/a-busy-term/">
<h4><a href="http://drvinceknight.github.io/unpeudemath/pedagogy/2014/12/14/a-busy-term/">A busy term</a></h4>
<div class="entry">
<div class="content">
<p>Here’s my final reflective post for <a href="http://vincent-knight.com/research/students/current/2014/09/30/Imogen-Dunne/">Imogen Dunne’s</a> final year project (you can find the first <a href="http://vincent-knight.com/unpeudemath/pedagogy/2014/10/13/reflecting-on-a-first-week-of-learning/">here</a>, the second <a href="http://vincent-knight.com/unpeudemath/pedagogy/2014/10/25/busy-office-hours">here</a> and the third <a href="http://vincent-knight.com/unpeudemath/pedagogy/2014/11/14/scaffolding_tutors_and_how_to_better_prepare_for_different_pedagogies/">here</a>).</p>

<p>The main feeling I have as I reflect on this past term is how tired I am.</p>

<p>This term/semester/thing has been so amazingly busy.
Before I go any further I need to thank my PhD student <a href="http://jasyoung314.github.io/">Jason Young</a>.
Jason has just started his PhD and has been acting as a full teaching assistant for me with this course.
I have no idea how this course ran without having someone to help me last year and this leads me to my first point of reflection: <strong>students have engaged very well with the course</strong>.</p>

<p>I believe (hope is perhaps a less biased word) that the main reason this has been busy is because this has been an active learning experience for my students.
This could be due to the flipped learning environment (I would like to think so) but also perhaps just having a really greatly engaged set of students.</p>

<p>Here is a list of things that I plan on changing for next year:</p>

<ul>
  <li>
    <p>Another set of videos - I’m going to double the amount of videos I have.
I think this is a natural thing to do as I’m more aware of the difficulties students have.
This is all part of the reflective pedagogy that revolves around the concept of being able to react in a timely manner to feedback as to student difficulties (if I’m not doing this than I am no better than a book).
The reflective approach ensures a dynamic reaction to difficulties which can happen on various scales:</p>

    <ul>
      <li>Class meetings: based on difficulties during the week (micro level)</li>
      <li>From year to year: based on major trends during the year (macro level)</li>
    </ul>
  </li>
  <li>
    <p>More scaffolding on technical issues - I always underestimate the starting point of some students.
I need to do a better job helping them with simple things like using a mouse, using internet browsers and also more tricky things like debugging LaTeX.</p>
  </li>
  <li>
    <p>As discussed before: a much better scaffolding of student tutors (the undergrads).</p>
  </li>
</ul>

<p>On the whole though I am very pleased with how this year has gone.
In particular I feel that a number of students have not only learnt to code but also understood the importance of learning to code in conjunction with learning mathematics.
Here is a quote that I’m taking from one of the 3 page papers that students have had to hand in at the end of term (this particular one looking at the <a href="http://theinfosphere.org/Futurama_theorem">futurama theorem</a>):</p>

<blockquote>
  <p>“It has to be said, when I first looked at Keeler’s proof, the whole thing did seem incredibly complicated. But after coding it and using it in ‘real life’, it is pretty straight forward.”</p>
</blockquote>

<p>This is really nice to read as it’s something I say a lot: coding complicated mathematics will often help understand it.</p>

<p>It reminds me a bit about this nice lightning talk that one of the students gave last year:</p>

<div class="video">
    
         <p><a href="http://vimeo.com/88630585">Matt Lunn - Lightning Talk - Django Weekend Cardiff</a> from <a href="http://vimeo.com/aotv">AOTV</a> on <a href="https://vimeo.com">Vimeo</a>.</p>
    
</div></div>







<p class="date">
<a href="http://drvinceknight.github.io/unpeudemath/pedagogy/2014/12/14/a-busy-term/">December 14, 2014 12:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>December 11, 2014</h2>

<div class="channelgroup">







<h3><a href="http://quantumtetrahedron.wordpress.com/" title="quantumtetrahedron » Personal research">David Horgan (quantumtetrahedron)</a></h3>


<div class="entrygroup" id="http://quantumtetrahedron.wordpress.com/?p=2148" lang="en">
<h4><a href="http://quantumtetrahedron.wordpress.com/2014/12/11/numerical-work-with-sagemath-22-the-hypergeometric-function/">sage22fig4</a></h4>
<div class="entry">
<div class="content">
<p>In order to follow up some work on the the last two posts I have been looking at  the capabilities of <a class="zem_slink" title="Sage (mathematics software)" href="http://www.sagemath.org/" target="_blank" rel="homepage" rel="nofollow">Sagemath</a> with regard to calculating <a class="zem_slink" title="Hypergeometric function" href="http://en.wikipedia.org/wiki/Hypergeometric_function" target="_blank" rel="wikipedia">hypergeometric functions</a>:</p>
<ul>
<li><a href="http://quantumtetrahedron.wordpress.com/2014/12/04/exact-and-asymptotic-computations-of-elementary-spin-networks/">Exact and asymptotic computations of elementary spin networks</a></li>
<li><a href="http://quantumtetrahedron.wordpress.com/2014/11/17/the-tetrahedron-and-its-regge-conjugate/">The tetrahedron and its Regge conjugate</a></li>
</ul>
<p>Fortunately sagemath can implement at number of great codes for hypergeometric functions including:</p>
<ul>
<li><a href="http://maxima.sourceforge.net/">maxima</a></li>
<li><a href="https://code.google.com/p/mpmath/">mpmath</a></li>
</ul>
<p>These give excellent results:</p>
<p><a href="https://quantumtetrahedron.files.wordpress.com/2014/12/sage22fig1.gif"><img class="aligncenter size-full wp-image-2150" src="https://quantumtetrahedron.files.wordpress.com/2014/12/sage22fig1.gif?w=474&h=299" alt="sage22fig1" width="474" height="299" /></a></p>
<p><a href="https://quantumtetrahedron.files.wordpress.com/2014/12/sage22fig2.gif"><img class="aligncenter size-full wp-image-2151" src="https://quantumtetrahedron.files.wordpress.com/2014/12/sage22fig2.gif?w=474&h=255" alt="sage22fig2" width="474" height="255" /></a></p>
<p><a href="https://quantumtetrahedron.files.wordpress.com/2014/12/sage22fig3.gif"><img class="aligncenter size-full wp-image-2152" src="https://quantumtetrahedron.files.wordpress.com/2014/12/sage22fig3.gif?w=474&h=224" alt="sage22fig3" width="474" height="224" /></a></p>
<p><a href="https://quantumtetrahedron.files.wordpress.com/2014/12/sage22fig4.gif"><img class="aligncenter size-full wp-image-2153" src="https://quantumtetrahedron.files.wordpress.com/2014/12/sage22fig4.gif?w=474&h=322" alt="sage22fig4" width="474" height="322" /></a></p>
<p>The ability to use mpmath code is very useful since it enables me to calculate a wide range of hypergeometric functions as can be seen on the reference pages. I&#8217;ll be using this over the coming posts starting with :</p>
<p>Exact Computation and Asymptotic Approximations of 6j Symbols:<br />
Illustration of Their Semiclassical Limits which is in preparation.</p>
<p><strong>Related articles</strong></p>
<p>&nbsp;</p>
<ul class="zemanta-article-ul zemanta-article-ul-image">
<li class="zemanta-article-ul-li-image zemanta-article-ul-li"><a href="http://quantumtetrahedron.wordpress.com/2014/12/04/exact-and-asymptotic-computations-of-elementary-spin-networks/" target="_blank"><img src="http://i.zemanta.com/314314737_80_80.jpg" alt="" /></a><a href="http://quantumtetrahedron.wordpress.com/2014/12/04/exact-and-asymptotic-computations-of-elementary-spin-networks/" target="_blank">Exact and asymptotic computations of elementary spin networks</a></li>
</ul><br />  <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/quantumtetrahedron.wordpress.com/2148/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/quantumtetrahedron.wordpress.com/2148/" /></a> <img alt="" border="0" src="http://pixel.wp.com/b.gif?host=quantumtetrahedron.wordpress.com&blog=54584330&post=2148&subd=quantumtetrahedron&ref=&feed=1" width="1" height="1" /></div>







<p class="date">
<a href="http://quantumtetrahedron.wordpress.com/2014/12/11/numerical-work-with-sagemath-22-the-hypergeometric-function/">by David Horgan at December 11, 2014 08:49 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>December 10, 2014</h2>

<div class="channelgroup">







<h3><a href="http://drvinceknight.github.io/unpeudemath/" title="Un peu de math">Vince Knight</a></h3>


<div class="entrygroup" id="http://drvinceknight.github.io/unpeudemath/code/2014/12/10/sneak-preview-of-game-theory-in-sage-3-of-3/">
<h4><a href="http://drvinceknight.github.io/unpeudemath/code/2014/12/10/sneak-preview-of-game-theory-in-sage-3-of-3/">A Sneak Preview of Game Theory in Sage (3/3): Normal Form Games</a></h4>
<div class="entry">
<div class="content">
<p>In two previous posts I have discussed two game theoretical concepts that are in/on their way in to <a href="http://sagemath.org/">Sage</a>:</p>

<ul>
  <li><a href="http://vincent-knight.com/unpeudemath/code/2014/08/01/a-sneak-preview-of-game-theory-in-sage-1-of-3/">Cooperative Games/Shapley value</a>: this is already in Sage.</li>
  <li><a href="http://vincent-knight.com/unpeudemath/code/2014/08/27/sneak-preview-of-game-theory-in-sage-2-of-3/">Matching Games</a>: this has been merged in to the develop branch of Sage (so you can already play with it if you wanted to) so will be in the next release.</li>
</ul>

<p>Since writing those and alluding to more development that myself and an undergraduate here at Cardiff are working on, I’ve had a fair few people asking about when Normal Form Games will be included…</p>

<p><strong>The purpose of this post is to say: extremely soon!</strong> A <code>NormalFormGame</code> class has now also been merged in to the develop branch of Sage (so it will be in the next release).</p>

<h2 id="what-is-a-normal-form-game">What is a normal form game?</h2>

<p>These are sometimes referred to as bi-matrix games or strategic form games.
I wrote a blog post about these in reference to choosing a side of the pavement to walk on: <a href="http://vincent-knight.com/unpeudemath/mathematics/2014/07/27/game-theory-and-pavement-etiquette/">here</a>.</p>

<p><strong>In this post I’ll take a look at what the new Sage class allows you to do.</strong></p>

<p>Consider the game I used to model two individuals walking on either the left or the right of the pavement:</p>

<p>\[
A = \begin{pmatrix}
1&amp;-1\\ <br />
-1&amp;1
\end{pmatrix}
\]
\[
B = \begin{pmatrix}
1&amp;-1\\ <br />
-1&amp;1
\end{pmatrix}
\]</p>

<p>Matrix \(A\) gives the utility to the first person (assuming they control the rows) and the matrix \(B\) gives the utility to the second person (assuming they control the columns).
So if both individuals walk on their left then they both get a utility of 1 (ie they don’t bump in to each other).</p>

<h2 id="defining-a-game">Defining a game</h2>

<p>We can define these two matrices in Sage and will be able to define a <code>NormalFormGame</code> as follows:</p>

<div class="highlight"><pre><code class="language-python"><span class="n">sage</span><span class="p">:</span> <span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span></code></pre></div>

<p>As you can see the <code>NormalFormGame</code> class uses a list of two matrices to construct a game.
If you look at the documentation you’ll see that there are other ways to construct games.
To see that this has indeed worked we can just see the output of the game:</p>

<div class="highlight"><pre><code class="language-python"><span class="n">sage</span><span class="p">:</span> <span class="n">g</span>
<span class="n">Normal</span> <span class="n">Form</span> <span class="n">Game</span> <span class="k">with</span> <span class="n">the</span> <span class="n">following</span> <span class="n">utilities</span><span class="p">:</span> <span class="p">{(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]}</span></code></pre></div>

<p>This displays a dictionary of the strategy:utility pairs.
The form of the output is actually based on <a href="http://www.gambit-project.org/">gambit</a> syntax.</p>

<p>We can use this class to very easily obtain equilibria of games:</p>

<h2 id="finding-nash-equilibria">Finding Nash equilibria</h2>

<div class="highlight"><pre><code class="language-python"><span class="n">sage</span><span class="p">:</span> <span class="n">g</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">()</span>
<span class="p">[[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)],</span> <span class="p">[(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)],</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]]</span></code></pre></div>

<p>The output shows that there are three Nash equilibria for this game:</p>

<ul>
  <li>Both players walking on their right;</li>
  <li>Both players walking on their left;</li>
  <li>Both players alternating from left to right with 50% probability.</li>
</ul>

<p>There are currently 2 algorithms implemented in Sage to calculate equilibria:</p>

<ol>
  <li>A support enumeration algorithm (this is not terribly efficient but is written in pure Sage so will work even if optional packages are not installed and for typical game sizes will work just fine).</li>
  <li>A reverse search algorthim which calls the optional ‘lrs’ library.</li>
</ol>

<p>My student and I are currently actively developing further integration with gambit which will allow for a linear complementarity algorithm and also solution algorithms for games with more than 2 players.</p>

<h2 id="here-is-one-other-example">Here is one other example:</h2>

<div class="highlight"><pre><code class="language-python"><span class="n">sage</span><span class="p">:</span> <span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span>
<span class="o">....</span><span class="p">:</span>             <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="o">....</span><span class="p">:</span>             <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span>
<span class="o">....</span><span class="p">:</span>             <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="o">....</span><span class="p">:</span>             <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]])</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">])</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">g</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s">'lrs'</span><span class="p">)</span>
<span class="p">[[(</span><span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">)]]</span></code></pre></div>

<p>As you can see above, I’ve created a game by just passing a single matrix: this automatically creates a zero sum game.
I’ve also told Sage to make sure it uses the <code>'lrs'</code> algorithm (although <code>'enumeration'</code> would handle this 5 by 5 game just fine).</p>

<p>Finally if you’re not actually sure what that game is take a look at this little video:</p>

<div class="video">
    
    
    
</div>

<p>I’m very excited to see this in Sage (soon!) and am actively working on various other things that I know at least I will find useful in my research and teaching but hopefully others will also.</p></div>







<p class="date">
<a href="http://drvinceknight.github.io/unpeudemath/code/2014/12/10/sneak-preview-of-game-theory-in-sage-3-of-3/">December 10, 2014 12:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>November 22, 2014</h2>

<div class="channelgroup">







<h3><a href="http://drvinceknight.github.io/unpeudemath/" title="Un peu de math">Vince Knight</a></h3>


<div class="entrygroup" id="http://drvinceknight.github.io/unpeudemath/code/2014/11/22/on-divisibility-by-11/">
<h4><a href="http://drvinceknight.github.io/unpeudemath/code/2014/11/22/on-divisibility-by-11/">Thinking about divisibility by 11</a></h4>
<div class="entry">
<div class="content">
<p>This post is based on a class meeting I had recently with my programming class.
It was based on trying to use code to help identify a condition that a number must obey for it to be divisible by 11.
Readers of this blog might be aware that the following is incorrect but stick with me.</p>

<h3 id="exploring-a-statement">Exploring a statement</h3>

<blockquote>
  <p>A number is divisible by 11 if and only if the alternating (in sign) sum of the number’s digits is 0.</p>
</blockquote>

<p>To help with notation let us define \(f:x\to\text{alternating sum of digits of x}\) so for example we have:</p>



<p>and</p>



<p>It is immediate to note that for \(N&lt; 100\) \(f(N)=0\) if and only if 11 divides \(N\) (\(11\;|\;N\) for short).
Before trying to prove our statement we could check it for a few more numbers:</p>

<ul>
  <li>\(f(110)=0\)</li>
  <li>\(f(121)=0\)</li>
  <li>\(f(132)=0\)</li>
  <li>\(f(143)=0\)</li>
  <li>\(f(154)=0\)</li>
  <li>\(f(165)=0\)</li>
  <li>\(f(176)=0\)</li>
  <li>\(f(187)=0\)</li>
  <li>\(f(198)=0\)</li>
</ul>

<p>So things are looking good!
We could now rush off and try to prove that our statement is correct… <strong>or</strong> we could try more numbers.
The easiest way to ‘try enough’ is to write some simple code (the following is written in Python):</p>

<div class="highlight"><pre><code class="language-python"><span class="k">class</span> <span class="nc">Experiment</span><span class="p">():</span>
    <span class="sd">"""</span>
<span class="sd">    A class for an experiment</span>
<span class="sd">    """</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">N</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">    Initialisation method:</span>
<span class="sd">    inputs: N - the number for which we will check the conjecture</span>
<span class="sd">    """</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">N</span> <span class="o">=</span> <span class="n">N</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">divisible_by_11</span> <span class="o">=</span> <span class="n">N</span> <span class="o">%</span> <span class="mi">11</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sum_of_consecutive_digits</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">**</span> <span class="n">d</span> <span class="o">*</span><span class="nb">int</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">N</span><span class="p">)[</span><span class="n">d</span><span class="p">])</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">N</span><span class="p">)))])</span>
    <span class="k">def</span> <span class="nf">test_statement</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Returns True if 'A number is divisible by 11 iff the alternating sum digits is 0' holds for this particular number.</span>
<span class="sd">        """</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">divisible_by_11</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sum_of_consecutive_digits</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sum_of_consecutive_digits</span> <span class="o">!=</span> <span class="mi">0</span></code></pre></div>

<p>This creates a class for an <code>Experiment</code> for a given number, which has a couple of attributes relevant to what we’re trying to do:</p>

<div class="highlight"><pre><code class="language-python"><span class="o">&gt;&gt;&gt;</span> <span class="n">N</span> <span class="o">=</span> <span class="n">Experiment</span><span class="p">(</span><span class="mi">121</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">N</span><span class="o">.</span><span class="n">divisible_by_11</span>
<span class="bp">True</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">N</span><span class="o">.</span><span class="n">sum_of_consecutive_digits</span>
<span class="mi">0</span></code></pre></div>

<p>There is also a method that checks the if and only if condition of our statement:</p>

<div class="highlight"><pre><code class="language-python"><span class="o">...</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">divisible_by_11</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sum_of_consecutive_digits</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sum_of_consecutive_digits</span> <span class="o">!=</span> <span class="mi">0</span>
<span class="o">...</span></code></pre></div>

<p>So if the number is divisible by 11 then the statement is true if the sum is 0.
If the number is however not divisible by 11 then the statement is true if the sum is <strong>not</strong> 0.</p>

<p>We can thus check for any given number if our statement is true:</p>

<div class="highlight"><pre><code class="language-python"><span class="o">&gt;&gt;&gt;</span> <span class="n">N</span> <span class="o">=</span> <span class="n">Experiment</span><span class="p">(</span><span class="mi">121</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">N</span><span class="o">.</span><span class="n">test_satement</span><span class="p">()</span>  <span class="c"># 121 is divisible by 11 and 1-2+1==0</span>
<span class="bp">True</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">N</span> <span class="o">=</span> <span class="n">Experiment</span><span class="p">(</span><span class="mi">122</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">N</span><span class="o">.</span><span class="n">test_statement</span><span class="p">()</span>  <span class="c"># 122 is not divisible by 11 and 1-2+2!=0</span>
<span class="bp">True</span></code></pre></div>

<p>So before attempting to prove anything algebraically let’s just check that it holds for the first 10000 numbers:</p>

<div class="highlight"><pre><code class="language-python"><span class="o">&gt;&gt;&gt;</span> <span class="nb">all</span><span class="p">(</span><span class="n">Experiment</span><span class="p">(</span><span class="n">N</span><span class="p">)</span><span class="o">.</span><span class="n">test_statement</span><span class="p">()</span> <span class="k">for</span> <span class="n">N</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10001</span><span class="p">))</span>
<span class="bp">False</span></code></pre></div>

<p><strong>Disaster!</strong> It looks like our statement is not quite right!</p>

<p>The following might help us identify where (outputting a list of numbers for which the statement is false):</p>

<div class="highlight"><pre><code class="language-python"><span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="n">N</span> <span class="k">for</span> <span class="n">N</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10001</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">Experiment</span><span class="p">(</span><span class="n">N</span><span class="p">)</span><span class="o">.</span><span class="n">test_statement</span><span class="p">()]</span>
<span class="p">[</span><span class="mi">209</span><span class="p">,</span> <span class="mi">308</span><span class="p">,</span> <span class="mi">319</span><span class="p">,</span> <span class="mi">407</span><span class="p">,</span> <span class="mi">418</span><span class="p">,</span> <span class="mi">429</span><span class="p">,</span> <span class="mi">506</span><span class="p">,</span> <span class="mi">517</span><span class="p">,</span> <span class="mi">528</span><span class="p">,</span> <span class="mi">539</span><span class="p">,</span> <span class="mi">605</span><span class="p">,</span> <span class="mi">616</span><span class="p">,</span> <span class="mi">627</span><span class="p">,</span> <span class="mi">638</span><span class="p">,</span> <span class="mi">649</span><span class="p">,</span> <span class="mi">704</span><span class="p">,</span> <span class="mi">715</span><span class="p">,</span> <span class="mi">726</span><span class="p">,</span> <span class="mi">737</span><span class="p">,</span> <span class="mi">748</span><span class="p">,</span> <span class="mi">759</span><span class="p">,</span> <span class="mi">803</span><span class="p">,</span> <span class="mi">814</span><span class="p">,</span> <span class="mi">825</span><span class="p">,</span> <span class="mi">836</span><span class="p">,</span> <span class="mi">847</span><span class="p">,</span> <span class="mi">858</span><span class="p">,</span> <span class="mi">869</span><span class="p">,</span> <span class="mi">902</span><span class="p">,</span> <span class="mi">913</span><span class="p">,</span> <span class="mi">924</span><span class="p">,</span> <span class="mi">935</span><span class="p">,</span> <span class="mi">946</span><span class="p">,</span> <span class="mi">957</span><span class="p">,</span> <span class="mi">968</span><span class="p">,</span> <span class="mi">979</span><span class="p">,</span> <span class="mi">1309</span><span class="p">,</span> <span class="mi">1408</span><span class="p">,</span> <span class="mi">1419</span><span class="p">,</span> <span class="mi">1507</span><span class="p">,</span> <span class="mi">1518</span><span class="p">,</span> <span class="mi">1529</span><span class="p">,</span> <span class="mi">1606</span><span class="p">,</span> <span class="mi">1617</span><span class="p">,</span> <span class="mi">1628</span><span class="p">,</span> <span class="mi">1639</span><span class="p">,</span> <span class="mi">1705</span><span class="p">,</span> <span class="mi">1716</span><span class="p">,</span> <span class="mi">1727</span><span class="p">,</span> <span class="mi">1738</span><span class="p">,</span> <span class="mi">1749</span><span class="p">,</span> <span class="mi">1804</span><span class="p">,</span> <span class="mi">1815</span><span class="p">,</span> <span class="mi">1826</span><span class="p">,</span> <span class="mi">1837</span><span class="p">,</span> <span class="mi">1848</span><span class="p">,</span> <span class="mi">1859</span><span class="p">,</span> <span class="mi">1903</span><span class="p">,</span> <span class="mi">1914</span><span class="p">,</span> <span class="mi">1925</span><span class="p">,</span> <span class="mi">1936</span><span class="p">,</span> <span class="mi">1947</span><span class="p">,</span> <span class="mi">1958</span><span class="p">,</span> <span class="mi">1969</span><span class="p">,</span> <span class="mi">2090</span><span class="p">,</span> <span class="mi">2409</span><span class="p">,</span> <span class="mi">2508</span><span class="p">,</span> <span class="mi">2519</span><span class="p">,</span> <span class="mi">2607</span><span class="p">,</span> <span class="mi">2618</span><span class="p">,</span> <span class="mi">2629</span><span class="p">,</span> <span class="mi">2706</span><span class="p">,</span> <span class="mi">2717</span><span class="p">,</span> <span class="mi">2728</span><span class="p">,</span> <span class="mi">2739</span><span class="p">,</span> <span class="mi">2805</span><span class="p">,</span> <span class="mi">2816</span><span class="p">,</span> <span class="mi">2827</span><span class="p">,</span> <span class="mi">2838</span><span class="p">,</span> <span class="mi">2849</span><span class="p">,</span> <span class="mi">2904</span><span class="p">,</span> <span class="mi">2915</span><span class="p">,</span> <span class="mi">2926</span><span class="p">,</span> <span class="mi">2937</span><span class="p">,</span> <span class="mi">2948</span><span class="p">,</span> <span class="mi">2959</span><span class="p">,</span> <span class="mi">3080</span><span class="p">,</span> <span class="mi">3091</span><span class="p">,</span> <span class="mi">3190</span><span class="p">,</span> <span class="mi">3509</span><span class="p">,</span> <span class="mi">3608</span><span class="p">,</span> <span class="mi">3619</span><span class="p">,</span> <span class="mi">3707</span><span class="p">,</span> <span class="mi">3718</span><span class="p">,</span> <span class="mi">3729</span><span class="p">,</span> <span class="mi">3806</span><span class="p">,</span> <span class="mi">3817</span><span class="p">,</span> <span class="mi">3828</span><span class="p">,</span> <span class="mi">3839</span><span class="p">,</span> <span class="mi">3905</span><span class="p">,</span> <span class="mi">3916</span><span class="p">,</span> <span class="mi">3927</span><span class="p">,</span> <span class="mi">3938</span><span class="p">,</span> <span class="mi">3949</span><span class="p">,</span> <span class="mi">4070</span><span class="p">,</span> <span class="mi">4081</span><span class="p">,</span> <span class="mi">4092</span><span class="p">,</span> <span class="mi">4180</span><span class="p">,</span> <span class="mi">4191</span><span class="p">,</span> <span class="mi">4290</span><span class="p">,</span> <span class="mi">4609</span><span class="p">,</span> <span class="mi">4708</span><span class="p">,</span> <span class="mi">4719</span><span class="p">,</span> <span class="mi">4807</span><span class="p">,</span> <span class="mi">4818</span><span class="p">,</span> <span class="mi">4829</span><span class="p">,</span> <span class="mi">4906</span><span class="p">,</span> <span class="mi">4917</span><span class="p">,</span> <span class="mi">4928</span><span class="p">,</span> <span class="mi">4939</span><span class="p">,</span> <span class="mi">5060</span><span class="p">,</span> <span class="mi">5071</span><span class="p">,</span> <span class="mi">5082</span><span class="p">,</span> <span class="mi">5093</span><span class="p">,</span> <span class="mi">5170</span><span class="p">,</span> <span class="mi">5181</span><span class="p">,</span> <span class="mi">5192</span><span class="p">,</span> <span class="mi">5280</span><span class="p">,</span> <span class="mi">5291</span><span class="p">,</span> <span class="mi">5390</span><span class="p">,</span> <span class="mi">5709</span><span class="p">,</span> <span class="mi">5808</span><span class="p">,</span> <span class="mi">5819</span><span class="p">,</span> <span class="mi">5907</span><span class="p">,</span> <span class="mi">5918</span><span class="p">,</span> <span class="mi">5929</span><span class="p">,</span> <span class="mi">6050</span><span class="p">,</span> <span class="mi">6061</span><span class="p">,</span> <span class="mi">6072</span><span class="p">,</span> <span class="mi">6083</span><span class="p">,</span> <span class="mi">6094</span><span class="p">,</span> <span class="mi">6160</span><span class="p">,</span> <span class="mi">6171</span><span class="p">,</span> <span class="mi">6182</span><span class="p">,</span> <span class="mi">6193</span><span class="p">,</span> <span class="mi">6270</span><span class="p">,</span> <span class="mi">6281</span><span class="p">,</span> <span class="mi">6292</span><span class="p">,</span> <span class="mi">6380</span><span class="p">,</span> <span class="mi">6391</span><span class="p">,</span> <span class="mi">6490</span><span class="p">,</span> <span class="mi">6809</span><span class="p">,</span> <span class="mi">6908</span><span class="p">,</span> <span class="mi">6919</span><span class="p">,</span> <span class="mi">7040</span><span class="p">,</span> <span class="mi">7051</span><span class="p">,</span> <span class="mi">7062</span><span class="p">,</span> <span class="mi">7073</span><span class="p">,</span> <span class="mi">7084</span><span class="p">,</span> <span class="mi">7095</span><span class="p">,</span> <span class="mi">7150</span><span class="p">,</span> <span class="mi">7161</span><span class="p">,</span> <span class="mi">7172</span><span class="p">,</span> <span class="mi">7183</span><span class="p">,</span> <span class="mi">7194</span><span class="p">,</span> <span class="mi">7260</span><span class="p">,</span> <span class="mi">7271</span><span class="p">,</span> <span class="mi">7282</span><span class="p">,</span> <span class="mi">7293</span><span class="p">,</span> <span class="mi">7370</span><span class="p">,</span> <span class="mi">7381</span><span class="p">,</span> <span class="mi">7392</span><span class="p">,</span> <span class="mi">7480</span><span class="p">,</span> <span class="mi">7491</span><span class="p">,</span> <span class="mi">7590</span><span class="p">,</span> <span class="mi">7909</span><span class="p">,</span> <span class="mi">8030</span><span class="p">,</span> <span class="mi">8041</span><span class="p">,</span> <span class="mi">8052</span><span class="p">,</span> <span class="mi">8063</span><span class="p">,</span> <span class="mi">8074</span><span class="p">,</span> <span class="mi">8085</span><span class="p">,</span> <span class="mi">8096</span><span class="p">,</span> <span class="mi">8140</span><span class="p">,</span> <span class="mi">8151</span><span class="p">,</span> <span class="mi">8162</span><span class="p">,</span> <span class="mi">8173</span><span class="p">,</span> <span class="mi">8184</span><span class="p">,</span> <span class="mi">8195</span><span class="p">,</span> <span class="mi">8250</span><span class="p">,</span> <span class="mi">8261</span><span class="p">,</span> <span class="mi">8272</span><span class="p">,</span> <span class="mi">8283</span><span class="p">,</span> <span class="mi">8294</span><span class="p">,</span> <span class="mi">8360</span><span class="p">,</span> <span class="mi">8371</span><span class="p">,</span> <span class="mi">8382</span><span class="p">,</span> <span class="mi">8393</span><span class="p">,</span> <span class="mi">8470</span><span class="p">,</span> <span class="mi">8481</span><span class="p">,</span> <span class="mi">8492</span><span class="p">,</span> <span class="mi">8580</span><span class="p">,</span> <span class="mi">8591</span><span class="p">,</span> <span class="mi">8690</span><span class="p">,</span> <span class="mi">9020</span><span class="p">,</span> <span class="mi">9031</span><span class="p">,</span> <span class="mi">9042</span><span class="p">,</span> <span class="mi">9053</span><span class="p">,</span> <span class="mi">9064</span><span class="p">,</span> <span class="mi">9075</span><span class="p">,</span> <span class="mi">9086</span><span class="p">,</span> <span class="mi">9097</span><span class="p">,</span> <span class="mi">9130</span><span class="p">,</span> <span class="mi">9141</span><span class="p">,</span> <span class="mi">9152</span><span class="p">,</span> <span class="mi">9163</span><span class="p">,</span> <span class="mi">9174</span><span class="p">,</span> <span class="mi">9185</span><span class="p">,</span> <span class="mi">9196</span><span class="p">,</span> <span class="mi">9240</span><span class="p">,</span> <span class="mi">9251</span><span class="p">,</span> <span class="mi">9262</span><span class="p">,</span> <span class="mi">9273</span><span class="p">,</span> <span class="mi">9284</span><span class="p">,</span> <span class="mi">9295</span><span class="p">,</span> <span class="mi">9350</span><span class="p">,</span> <span class="mi">9361</span><span class="p">,</span> <span class="mi">9372</span><span class="p">,</span> <span class="mi">9383</span><span class="p">,</span> <span class="mi">9394</span><span class="p">,</span> <span class="mi">9460</span><span class="p">,</span> <span class="mi">9471</span><span class="p">,</span> <span class="mi">9482</span><span class="p">,</span> <span class="mi">9493</span><span class="p">,</span> <span class="mi">9570</span><span class="p">,</span> <span class="mi">9581</span><span class="p">,</span> <span class="mi">9592</span><span class="p">,</span> <span class="mi">9680</span><span class="p">,</span> <span class="mi">9691</span><span class="p">,</span> <span class="mi">9790</span><span class="p">]</span></code></pre></div>

<p>The first of those numbers is \(209=11\times19\) so it is divisible by 11 but \(f(209)=2-0+9=11\) and if we calculate \(f\) for a few more of the numbers in the above list we again get \(11\).
At this point in time it seems like we need to adjust our statement.</p>

<h3 id="sufficient-evidence-for-a-conjecture">Sufficient evidence for a conjecture</h3>

<blockquote>
  <p>A number is divisible by 11 if and only if the alternating (in sign) sum of the number’s digits is divisible by 11.</p>
</blockquote>

<p>A slight tweak of the <code>Experiment</code> code above gives:</p>

<div class="highlight"><pre><code class="language-python"><span class="k">class</span> <span class="nc">Experiment</span><span class="p">():</span>
    <span class="sd">"""</span>
<span class="sd">    A class for an experiment</span>
<span class="sd">    """</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">N</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">    Initialisation method:</span>
<span class="sd">    inputs: N - the number for which we will check the conjecture</span>
<span class="sd">    """</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">N</span> <span class="o">=</span> <span class="n">N</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">divisible_by_11</span> <span class="o">=</span> <span class="n">N</span> <span class="o">%</span> <span class="mi">11</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sum_of_consecutive_digits</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">**</span> <span class="n">d</span> <span class="o">*</span><span class="nb">int</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">N</span><span class="p">)[</span><span class="n">d</span><span class="p">])</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">N</span><span class="p">)))])</span>
    <span class="k">def</span> <span class="nf">test_conjecture</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Returns True if 'A number is divisible by 11 iff the alternating sum digits is 0' holds for this particular number.</span>
<span class="sd">        """</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">divisible_by_11</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sum_of_consecutive_digits</span> <span class="o">%</span> <span class="mi">11</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sum_of_consecutive_digits</span> <span class="o">%</span> <span class="mi">11</span> <span class="o">!=</span> <span class="mi">0</span></code></pre></div>

<p>Now let us check the first 100,000 numbers:</p>

<div class="highlight"><pre><code class="language-python"><span class="o">&gt;&gt;&gt;</span> <span class="nb">all</span><span class="p">(</span><span class="n">Experiment</span><span class="p">(</span><span class="n">N</span><span class="p">)</span><span class="o">.</span><span class="n">test_conjecture</span><span class="p">()</span> <span class="k">for</span> <span class="n">N</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100001</span><span class="p">))</span>
<span class="bp">True</span></code></pre></div>

<p>When we have a lot of evidence for a mathematical statement we can (generally) start calling it a conjecture.
At this point we probably can attempt to prove that the conjecture is true:</p>

<h3 id="proof">Proof</h3>

<p>Let \(n_i\) be the \(i\)th digit of the \(m\) digit number \(N\), so we have \(N=\sum_{i=1}^{m}n_i10^{i-1}\).
Using arithmetic modulo \(11\) we have:</p>



<p>but:</p>



<p>thus:</p>



<p>The right hand side of that is of course just \(f(N)\) so \(11\;|\;N\) if and only iff \(11\;|\;f(N)\) (as required).</p>

<hr />

<p>This is how a lot of mathematics gets done nowadays.
Statements get made, then refined then checked and then finally (hopefully) proved.
A nice book that describes a conjecture that stayed a conjecture for a long time (until ultimately being proved) is <a href="http://www.amazon.co.uk/Proofs-Confirmations-Alternating-Sign-Conjecture-Spectrum/dp/0521666465">Proofs and Confirmations: The Story of the Alternating-Sign Matrix Conjecture</a> by Bressoud.</p></div>







<p class="date">
<a href="http://drvinceknight.github.io/unpeudemath/code/2014/11/22/on-divisibility-by-11/">November 22, 2014 12:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>November 19, 2014</h2>

<div class="channelgroup">







<h3><a href="http://sheaves.github.io/" title="Sheaves">Liang Ze</a></h3>


<div class="entrygroup" id="http://sheaves.github.io/Argument-Principle/">
<h4><a href="http://sheaves.github.io/Argument-Principle/">The Argument Principle</a></h4>
<div class="entry">
<div class="content">
<p><img src="http://sheaves.github.io/images/Argument.png" alt="" /></p>

<!--more-->

<p>This post illustrates the <a href="http://en.wikipedia.org/wiki/Argument_principle">Argument Principle</a>.</p>

<p>Let $f$ be a polynomial, and $C$ be (an arc of) a circle of radius $R$ centered at the origin.</p>

<p>The code below generates 2 plots. The first plot shows the domain of $f$. We plot the roots of $f$ together with $C$. Let $n_1$ be the number of roots contained within $C$.</p>

<p>The second plot shows the range of $f$. We plot $f(C)$, along with a marker at the origin. Let $n_2$ be the number of times the curve <a href="http://en.wikipedia.org/wiki/Winding_number">winds</a> around the origin. </p>

<p>You can verify that $n_1 = n_2$. As you vary the radius $R$, observe how $C$ and $f(C)$ change, and how this affects $n_1$ and $n_2$.</p>

<div class="auto">
  
</div></div>







<p class="date">
<a href="http://sheaves.github.io/Argument-Principle/">November 19, 2014 12:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>November 16, 2014</h2>

<div class="channelgroup">







<h3><a href="http://martinralbrecht.wordpress.com" title="malb::blog » sage">Martin Albrecht</a></h3>


<div class="entrygroup" id="http://martinralbrecht.wordpress.com/?p=1090" lang="en">
<h4><a href="http://martinralbrecht.wordpress.com/2014/11/16/sage-6-4/">martinralbrecht</a></h4>
<div class="entry">
<div class="content">
<p> <a href="http://sagemath.org">Sage 6.4</a> is out. Here are some (to me) particularly exciting changes. </p>
<p><span id="more-1090"></span></p>
<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><a href="http://trac.sagemath.org/ticket/16479">#16479: Vincent Delecroix: package for pip the Python installer</a></h2>
<div class="outline-text-2" id="text-1">
<p> Sage now ships with <a href="https://pypi.python.org/pypi/pip">pip</a> which means you can use pip to install your favourite Python packages into the Sage environment, making it a lot easier to get access to the Python ecosystem. For example, say you want to use <a href="https://bitbucket.org/malb/batzenca">BatzenCA</a> in Sage. You&#8217;d call </p>
<pre class="example">
$ sage -pip install batzenca
</pre>
<p> and you are done. </p>
<p> <b>Update:</b> Sorry, I mispoke: pip is an optional package at the moment, not a standard package. You&#8217;ll have to <code>sage -i pip</code> it first. </p>
</div>
</div>
<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><a href="http://trac.sagemath.org/15915">#15915: Martin Albrecht: add discrete Gaussian samplers to Sage</a></h2>
<div class="outline-text-2" id="text-2">
<p> I contributed code to sample from discrete Gaussian distributions to Sage. Discrete Gaussian distributions over the Integers sample integers proportionally to exp(-(x-c)²/(2σ²)), where <i>c</i> is the center and <i>σ</i> the Gaussian width parameter (roughly, the standard deviation). Here&#8217;s an example: </p>
<div class="org-src-container">
<pre class="src src-python">sage: <span>from</span> sage.stats.distributions.discrete_gaussian_integer <span>import</span> DiscreteGaussianDistributionIntegerSampler <span>as</span> DiscGauss
sage: <span>D</span> = DiscGauss(3.0)
sage: D() <span># </span><span>output random by definition</span>
-3
</pre>
</div>
<p> Discrete Gaussian distributions are commonly used in lattice-based cryptography. For example, our <a href="https://bitbucket.org/malb/gghlite-flint">GGHLite implementation</a> makes use of the same code. That is, most of the code is written in C99 and also available as the stand-alone <a href="https://bitbucket.org/malb/dgs">dgs</a> library under a 2-clause BSD library. </p>
<p> I also implemented discrete Gaussians over arbitrary lattices. A discrete Gaussians over a lattice <i>Λ</i> is a distribution where point <i>x</i> occurs with probability: </p>
<p> <img src="http://s0.wp.com/latex.php?latex=%5Cmbox%7Bexp%7D%28-%7Cx-c%7C_2%5E2%2F%282%5Csigma%5E2%29%29%2F%28%5Csum_%7Bx+%5Cin+%5CLambda%7D+%5Cmbox%7Bexp%7D%28-%7Cx%7C_2%5E2%2F%282%5Csigma%5E2%29%29%29&bg=eeebf2&fg=3c3d47&s=0" alt="\mbox{exp}(-|x-c|_2^2/(2\sigma^2))/(\sum_{x \in \Lambda} \mbox{exp}(-|x|_2^2/(2\sigma^2)))" title="\mbox{exp}(-|x-c|_2^2/(2\sigma^2))/(\sum_{x \in \Lambda} \mbox{exp}(-|x|_2^2/(2\sigma^2)))" class="latex" /> </p>
<p> However, this code not part of the dgs library but a pure Python module. A C99 implementation of the same algorithms as well as specialised algorithms for ideal lattices is part of the <a href="https://bitbucket.org/malb/gghlite-flint">GGHLite</a> implementation as the <code>dgsl</code> module, though. </p>
</div>
</div>
<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><a href="http://trac.sagemath.org/16803">#16803: Marc Masdeu: Reimplement matrix_integer_dense using FLINT</a></h2>
<div class="outline-text-2" id="text-3">
<p> Marc switched over matrices over <img src="http://s0.wp.com/latex.php?latex=%5Cmathbb%7BZ%7D&bg=eeebf2&fg=3c3d47&s=0" alt="\mathbb{Z}" title="\mathbb{Z}" class="latex" /> to using FLINT as the native data type. Previously, we had our own data type (arrays of arrays of <code>mpz_t</code>), custom code and lots of conversions to other data types (<a href="http://www.linalg.org/">LinBox</a>, <a href="https://cs.uwaterloo.ca/~astorjoh/iml.html">IML</a>, …) to realise some functionality such as characteristic polynomials. FLINT is a sane default data type as it is quite fast for many operations. Conversions to LinBox et al. are still in place so functionality should not be lost. However, some decisions about defaults might be outdated now so report any issues on <a href="http://trac.sagemath.org">trac</a>. </p>
</div>
</div>
<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4"><a href="http://trac.sagemath.org/16996">#16996: Volker Braun: IPython notebook with Sage Extensions</a></h2>
<div class="outline-text-2" id="text-4">
<p> Thanks to Volker&#8217;s efforts you can now use the iPython notebook for Sage. To me the iPython notebook feels a lot more modern than the Sage notebook, partly because it is actively being developed whereas not much work is currently done on the native Sage notebook (it has seen some work done on it in the current release, though). I also like that iPython notebooks are files in your current directly which means you can keep them project local (others disagree about this design decision). To start the iPython notebook run: </p>
<pre class="example">
$ sage -notebook=ipython
</pre>
</div>
</div><br />  <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/martinralbrecht.wordpress.com/1090/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/martinralbrecht.wordpress.com/1090/" /></a> <img alt="" border="0" src="http://pixel.wp.com/b.gif?host=martinralbrecht.wordpress.com&blog=14622449&post=1090&subd=martinralbrecht&ref=&feed=1" width="1" height="1" /></div>







<p class="date">
<a href="http://martinralbrecht.wordpress.com/2014/11/16/sage-6-4/">by martinralbrecht at November 16, 2014 08:46 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>November 15, 2014</h2>

<div class="channelgroup">







<h3><a href="http://sheaves.github.io/" title="Sheaves">Liang Ze</a></h3>


<div class="entrygroup" id="http://sheaves.github.io/Partitions-and-Posets/">
<h4><a href="http://sheaves.github.io/Partitions-and-Posets/">Partitions and Posets</a></h4>
<div class="entry">
<div class="content">
<p>In this post, we generate the Hasse diagram of a set partition.</p>

<p><img src="http://sheaves.github.io/images/partitions.png" alt="Partitions of a 4 element set" title="Partitions of a 4 element set" /></p>

<!--more-->

<p>The following piece of code generates the image above.</p>

<div class="sage">
  
</div>

<p>Read on for an explanation of the code.</p>

<h1 id="partitions">Partitions</h1>

<p>A <a href="http://en.wikipedia.org/wiki/Partition_of_a_set"><strong>partition of a set</strong></a> $X$ is a collection $p$ of non-empty subsets of $X$ such that $X$ is the disjoint union of these sets.</p>

<p>In SAGE, you can get the set of all partitions of the $N$ element set {$1,2,\dots,N$} using <a href="http://www.sagemath.org/doc/reference/combinat/sage/combinat/set_partition.html"><strong><code>SetPartitions</code></strong></a>:</p>

<div class="sage">
  
</div>

<h3 id="refinements">Refinements</h3>
<p>Each item in the preceding list is a partition of $X$. The elements of each partition are called <strong>blocks</strong>. At the top of the list, we see the <em>trivial partition</em> consisting of just one block, $X$. At the other end, we see the <em>singleton partition</em> consisting of $|X|$ blocks, where each block contains a single element of $X$. All other partitions of $X$ fall somewhere in-between these two partitions.</p>

<p>We can make this notion of “in-betweenness” precise by defining a relation on the partitions of $X$. We say that $q$ is a <a href="http://en.wikipedia.org/wiki/Partition_of_a_set#Refinement_of_partitions">refinement</a> of $p$ if each block of $q$ is contained in some block of $p$. </p>

<p>In Sage, you can see the refinements of a partition using the method <code>refinements()</code>:</p>

<div class="sage">
  
</div>

<h1 id="posets">Posets</h1>
<p>For a fixed $X$, the set $\mathcal{P}$ of all partitions of $X$ has the structure of a <a href="http://en.wikipedia.org/wiki/Partially_ordered_set"><strong>poset</strong></a> given by $q \leq p$ if $q$ is a refinement of $p$. </p>

<p>In Sage, we can construct a <a href="http://www.sagemath.org/doc/reference/combinat/sage/combinat/posets/posets.html"><strong><code>Poset</code></strong></a> by specifying an underlying set $P$ along with a function $f:P\times P \to$  {$\text{True},\text{False}$} where</p>



<p>The resulting poset can be visualized via its <a href="http://en.wikipedia.org/wiki/Hasse_diagram"><strong>Hasse diagram</strong></a>, which is a directed graph with paths from $q \to p$ if $q \leq p$. We can generate a Hasse diagram of a poset using the <code>show()</code> method.</p>

<div class="sage">
  
</div>

<p>The final piece of code (at the top of the page) combines everything above to produce the Hasse diagram of a set. The function <code>Partition_Poset</code> first generates the set of partitions of an $N$ element set, then converts it to a poset. The function <code>p_label</code> relabels the partitions so that they look prettier. I’ve also tweaked some options in the <code>show()</code> method to make things look nicer.</p></div>







<p class="date">
<a href="http://sheaves.github.io/Partitions-and-Posets/">November 15, 2014 12:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>November 14, 2014</h2>

<div class="channelgroup">







<h3><a href="http://sagemath.blogspot.com/" title="Sage: Open Source Mathematics Software">William Stein</a></h3>


<div class="entrygroup" id="tag:blogger.com,1999:blog-6365588202025292315.post-8239368345310276770">
<h4><a href="http://sagemath.blogspot.com/2014/11/sagemathcloud-notifications-are-now.html">SageMathCloud Notifications are Now Better</a></h4>
<div class="entry">
<div class="content">
<span>I just made live a new notifications systems for&nbsp;</span><span>&nbsp;</span><a href="https://cloud.sagemath.com/" target="_blank">SageMathCloud</a><span>, which I spent all week writing. &nbsp;</span><br /><span><br /></span><span><br /></span><div class="separator"><a href="http://3.bp.blogspot.com/-WUoD0M9H66Q/VGaAvhl9LMI/AAAAAAABRRg/M4oyqykFK1w/s1600/Screen%2BShot%2B2014-11-14%2Bat%2B2.15.09%2BPM.png"><img border="0" src="http://3.bp.blogspot.com/-WUoD0M9H66Q/VGaAvhl9LMI/AAAAAAABRRg/M4oyqykFK1w/s1600/Screen%2BShot%2B2014-11-14%2Bat%2B2.15.09%2BPM.png" height="248" width="400" /></a></div><span><br /></span><span><br /></span><span>These notifications are what you see when you click the bell in the upper right. &nbsp; This new system replaces the one I made live two weeks ago. &nbsp; &nbsp; Whenever somebody actively *edits* (using the web interface) any file in any project you collaborate on, a notification will get created or updated. &nbsp; &nbsp;If a person *comments* on any file in any project you collaborate on (using the chat interface to the right), then not only does the notification get updated, there is also a little red counter on top of the bell and also in the title of the&nbsp;</span><span>&nbsp;</span><a href="https://cloud.sagemath.com/" target="_blank">SageMathCloud</a><span>&nbsp;tab. &nbsp; In particular, people will now be&nbsp;much more likely to see the chats you make on files.</span><br /><div><div><br /></div><div class="separator"><a href="http://4.bp.blogspot.com/-MuNCyjAT7ec/VGaBGsXLWgI/AAAAAAABRRo/YTENwRbG7Fw/s1600/Screen%2BShot%2B2014-11-14%2Bat%2B2.23.58%2BPM.png"><img border="0" src="http://4.bp.blogspot.com/-MuNCyjAT7ec/VGaBGsXLWgI/AAAAAAABRRo/YTENwRbG7Fw/s1600/Screen%2BShot%2B2014-11-14%2Bat%2B2.23.58%2BPM.png" height="231" width="400" /></a></div><div><br /></div><div><br /></div><div><br /></div><div><b>NOTE: </b>I have not yet enabled any sort of daily email notification summary, but that is planned.&nbsp;</div><div><br /></div><div>Some technical details: &nbsp;Why did this take all week? &nbsp;It's because the technology that makes it work behind the scenes is something that was fairly difficult for me to figure out how to implement. &nbsp;I implemented a way to create an object that can be used simultaneously by many clients and supports realtime synchronization.... but is stored by the distributed <a href="http://www.datastax.com/" target="_blank">Cassandra </a>database instead of a file in a project. &nbsp; Any changes to that object get synchronized around very quickly. &nbsp; It's similar to how synchronized text editing (with several people at once) works, but I rethought <a href="https://neil.fraser.name/writing/sync/" target="_blank">differential synchronization</a> carefully, and also figured out how to synchronize using an eventually consistent database. &nbsp; &nbsp;This will be useful for implementing a lot other things in <a href="https://cloud.sagemath.com/" target="_blank">SageMathCloud</a> that operate at a different level than "one single project". &nbsp;For example, I plan to add functions so you can access these same "synchronized databases" from Python processes -- then you'll be able to have sage worksheets (say) running on several different projects, but all saving their data to some common synchronized place (backed by the database). &nbsp; Another application will be a listing of the last 100 (say) files you've opened, with easy ways to store extra info about them. &nbsp; &nbsp;It will also be easy to make account and project settings more realtime, so when you change something, it automatically takes effect and is also synchronized across other browser tabs you may have open. &nbsp; If you're into modern Single Page App web development, this might remind you of Angular or React or Hoodie or Firebase -- what I did this week is probably kind of like some of the sync functionality of those frameworks, but I use Cassandra (instead of MongoDB, say) and differential synchronization. &nbsp;</div><div><br /></div><div>I <a href="https://gist.github.com/williamstein/badf771e50658010d56d" target="_blank">BSD-licensed the differential synchronization code </a>&nbsp;that&nbsp;I wrote as part of the above.&nbsp;</div><div><br /></div></div><div><br /></div></div>







<p class="date">
<a href="http://sagemath.blogspot.com/2014/11/sagemathcloud-notifications-are-now.html">by William Stein (noreply@blogger.com) at November 14, 2014 02:31 PM</a>
</p>
</div>
</div>



</div>
<div class="channelgroup">







<h3><a href="http://drvinceknight.github.io/unpeudemath/" title="Un peu de math">Vince Knight</a></h3>


<div class="entrygroup" id="http://drvinceknight.github.io/unpeudemath/pedagogy/2014/11/14/scaffolding_tutors_and_how_to_better_prepare_for_different_pedagogies/">
<h4><a href="http://drvinceknight.github.io/unpeudemath/pedagogy/2014/11/14/scaffolding_tutors_and_how_to_better_prepare_for_different_pedagogies/">Scaffolding tutors and how to better prepare for different pedagogies</a></h4>
<div class="entry">
<div class="content">
<p>Here’s my third reflective post for <a href="http://vincent-knight.com/research/students/current/2014/09/30/Imogen-Dunne/">Imogen Dunne’s</a> final year project (you can find the first <a href="http://vincent-knight.com/unpeudemath/pedagogy/2014/10/13/reflecting-on-a-first-week-of-learning/">here</a> and the second <a href="http://vincent-knight.com/unpeudemath/pedagogy/2014/10/25/busy-office-hours">here</a>.</p>

<p>The course is now on the final straight as students have finished the class test which is always a bit of a milestone as they now begin to really individualise their learning experience (working on individually chosen projects etc…). As we get to this point I’ve got 3 specific things I’ve been thinking about:</p>

<ol>
  <li>
    <p><strong>Class test performance</strong></p>

    <p>With over half of the scripts marked it seems like students have done quite well on what is a difficult piece of assessment.
 It seems that the performance is overall better than last year but it’s too early to try and guess as to why that is.</p>
  </li>
  <li>
    <p><strong>Scaffolding undergraduate tutors</strong></p>

    <p>I use second year students to tutor in the lab sessions.
 They are all students who did the course last year.
 I don’t think I’ve done the best job explaining the roles of the tutors and this is something I need to get right next year.
 I still am very excited about using undergraduate tutors as I think it’s a brilliant experience for them as it continues their learning.
 The other (super important reason) is that I think this peer level of instruction is undoubtedly of benefit to the students on the course (if this wasn’t a quick rough drop of thoughts I’d be able to find a large quantity of resources relevant to this).</p>

    <p>The flipped approach used requires the tutoring to be very light touch, and more about giving feedback than giving ‘help’.
 I didn’t do the best job of explaining this as some undergraduate tutors felt it was their job to ‘get students code to work’.
 I’ll probably run a bit more of an ‘expansive’ training session with closer shadowing at the start.</p>

    <p>All the tutors have done a brilliant job and I’m very pleased, I just have to think carefully about how to best ‘scaffold’ and support them.</p>
  </li>
  <li>
    <p><strong>Communicating the different pedagogy</strong></p>

    <p>Some students were questioning the timing of my office hours: they are after the class meeting (which is in turn after the lab sessions).
 Whilst most students are on board and understand I think that the fact that a couple of students didn’t understand this shows that I didn’t do the best job of communicating the ideas.</p>

    <p>Involving the students in a discussion about the pedagogy they are experiencing is something I think is very important (especially when using something they might not have experienced before).
 As such I have tried and continue to try to talk about this throughout my interactions with students (from 1 to 1 meetings all the way to class meetings) but perhaps I could do more.
 Perhaps even just showing a picture like this would be helpful:</p>

    <p><img src="http://vincent-knight.com/unpeudemath/assets/images/class_support_structure.png" alt="" /></p>

    <p>That shows the reason why I have my class test at the end of a week, the idea being that most students will be happy with content through labs, some will be happy after the class meeting and a small amount will require specific time with me to help them through.
 This goes back to the premise of a flipped environment which aims to make best use of contact time: my class meetings are meant for us to further understanding and go towards the tip of Bloom’s taxonomy but also address specific difficulties.</p>
  </li>
</ol>

<p>On a whole I’m very happy with how this class is going, I feel that most students are engaging fully with the course and seem to be enjoying it.
I also feel that I’ve gotten certain things a bit better than last year this year which could be an explanation of the slightly better mark in the class test (I still have 70 scripts to mark this weekend so it’s probably too early to tell).</p>

<p>One particularly nice piece of feedback is how students like the new class website (jekyll for the win!) and in particular have enjoyed the use of a comment system on all pages: it’s always nice to have that permanent record of discussions I’m having with the students which in turn could help other students.
Ideally the discussion would be peer to peer but that hasn’t happened much this year (mainly me answering queries) but it has happened once which I’m happy about (small steps, big wins) :)</p></div>







<p class="date">
<a href="http://drvinceknight.github.io/unpeudemath/pedagogy/2014/11/14/scaffolding_tutors_and_how_to_better_prepare_for_different_pedagogies/">November 14, 2014 12:00 AM</a>
</p>
</div>
</div>



</div>
<div class="channelgroup">







<h3><a href="http://sheaves.github.io/" title="Sheaves">Liang Ze</a></h3>


<div class="entrygroup" id="http://sheaves.github.io/Hello-World/">
<h4><a href="http://sheaves.github.io/Hello-World/">Hullo</a></h4>
<div class="entry">
<div class="content">
<p>This blog is powered by the <a href="http://sagecell.sagemath.org/">Sage Cell Server</a>. You can type Sage/Python code into the cell below, and press <code>Shift+Enter</code> to evaluate it (or click “Evaluate”).</p>

<div class="all">
  
</div></div>







<p class="date">
<a href="http://sheaves.github.io/Hello-World/">November 14, 2014 12:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>October 25, 2014</h2>

<div class="channelgroup">







<h3><a href="http://drvinceknight.github.io/unpeudemath/" title="Un peu de math">Vince Knight</a></h3>


<div class="entrygroup" id="http://drvinceknight.github.io/unpeudemath/pedagogy/2014/10/25/busy-office-hours/">
<h4><a href="http://drvinceknight.github.io/unpeudemath/pedagogy/2014/10/25/busy-office-hours/">Busy office hours</a></h4>
<div class="entry">
<div class="content">
<p>Here’s my second reflective post for <a href="http://vincent-knight.com/research/students/current/2014/09/30/Imogen-Dunne/">Imogen Dunne’s</a> final year project (you can find the first <a href="http://vincent-knight.com/unpeudemath/pedagogy/2014/10/13/reflecting-on-a-first-week-of-learning/">here</a>).</p>

<p>We are now at the end of Week 4 of the course and I’m glad to say that I think overall things are going well.</p>

<ul>
  <li>
    <p>My office hours have gotten <strong>very</strong> busy.
This is awesome.
Students are coming to see me, genuinely having struggled with concepts and this is often a result of myself or another tutor identifying specific issues in a lab session and saying something like:</p>

    <blockquote>
      <p>I’ll give you the tick for that but come and see me during office hours to talk about it as I think you’re a bit confused there.</p>
    </blockquote>
  </li>
  <li>
    <p>I think students are understanding <em>now</em> that the role of the ‘ticks’ is to help identify difficulties.
I need to do a better job next year at explaining this from the offset.
It might help to put it at the top of every lab sheet…
I’ll think about this…</p>
  </li>
  <li>
    <p>Imogen’s focus group went really well with 15 students participating.
I still need to carefully reflect on the particular issues that were raised.
I feel again that some need to be addressed through a better communication on my part (for example students wanted to have a list of alternative resources, there is such a list on the class site and I thought I’d mentioned it sufficiently but I will need to do that better).</p>
  </li>
  <li>
    <p>There are a large number of tutors now and with that comes the tricky task of ensuring they understand their role.
Jason was mentioned in Imogen’s focus group as doing a great job as “he didn’t just give the answer but pushed students to identify their difficulties”.
I need to think very carefully about how to get this across to all the tutors (I think this has been addressed for the current year).</p>
  </li>
  <li>
    <p>I’ve been thinking about the resources and am thinking that I might create a second set of videos.
This would be a large quantity of work (3/4 weekends probably) but I think I could really help student further.
In a way it seems logical to do after having run the course twice. This would further ‘flip the class’…</p>
  </li>
  <li>
    <p>On another good note not entirely irrelevant to the class: code club is going well!
The last session was a very busy one and students are actively participating which is great.
Some first years are starting to work on the Euler problems and other formed a bit of a revision group for the upcoming class test they have…
You can see the site (that has been really nicely stylised by the students): <a href="http://cardiffmathematicscodeclub.github.io/">http://cardiffmathematicscodeclub.github.io/</a>.</p>
  </li>
</ul></div>







<p class="date">
<a href="http://drvinceknight.github.io/unpeudemath/pedagogy/2014/10/25/busy-office-hours/">October 25, 2014 12:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>October 17, 2014</h2>

<div class="channelgroup">







<h3><a href="http://sagemath.blogspot.com/" title="Sage: Open Source Mathematics Software">William Stein</a></h3>


<div class="entrygroup" id="tag:blogger.com,1999:blog-6365588202025292315.post-3221518328989833144">
<h4><a href="http://sagemath.blogspot.com/2014/10/a-non-technical-overview-of.html">A Non-technical Overview of the SageMathCloud Project</a></h4>
<div class="entry">
<div class="content">
<a href="http://1.bp.blogspot.com/-zd2T2HBgpag/VEFoFOU5GaI/AAAAAAABQ4U/ODq-0-ua7y0/s1600/Screen%2BShot%2B2014-10-17%2Bat%2B12.03.25%2BPM.png"><img border="0" src="http://1.bp.blogspot.com/-zd2T2HBgpag/VEFoFOU5GaI/AAAAAAABQ4U/ODq-0-ua7y0/s1600/Screen%2BShot%2B2014-10-17%2Bat%2B12.03.25%2BPM.png" height="194" width="320" /></a>What problems is the <a href="https://cloud.sagemath.com/">SageMathCloud project</a> trying to solve?  What pain points does it address?  Who are the competitors and what is the state of the technology right now?     <br /><br /><br /><h2 id="what-problems-youre-trying-to-solve-and-why-are-these-a-problem">What problems you’re trying to solve and why are these a problem?</h2><ul><li><strong>Computational Education</strong>: How can I <em>teach a course</em> that involves mathematical computation and programming?</li><li><strong>Computational Research:</strong> How can I carry out <em>collaborative computational research</em> projects?</li><li><strong>Cloud computing:</strong> How can I get easy user-friendly collaborative access to a <em>remote Linux server</em>?</li></ul><h2 id="what-are-the-pain-points-of-the-status-quo-and-who-feels-the-pain">What are the pain points of the status quo and who feels the pain?</h2><ul><li><strong>Student/Teacher pain:</strong><ul><li>Getting <em>students to install software</em> needed for a course on their computers is a major pain; sometimes it is just impossible, due to no major math software (not even Sage) supporting all recent versions of Windows/Linux/OS X/iOS/Android.</li><li>Getting university <em>computer labs to install the software</em> you need for a course is frustrating and expensive (time and money).</li><li>Even if computer labs worked, they are often being used by another course, stuffy, and students can't possibly do all their homework there, so computation gets short shrift. Lab keyboards, hardware, etc., all hard to get used to. Crappy monitors.</li><li>Painful confusing problems <em>copying files around</em> between teachers and students.</li><li>Helping a student or collaborator with their specific problem is very hard <em>without physical access</em> to their computer.</li></ul></li><li><strong>Researcher pain:</strong><ul><li>Making <em>backups every few minutes</em> of the complete state of everything when doing research often hard and distracting, but important for reproducibility.</li><li><em>Copying around documents</em>, emailing or pushing/pulling them to revision control is frustrating and confusing.</li><li><em>Installing obscuring software</em> is frustarting and distracting from the research they really want to do.</li></ul></li><li><strong>Everybody:</strong><ul><li>It is frustrating not having <em>LIVE working access</em> to your files wherever you are. (Dropbox/Github doesn't solve this, since files are static.)</li><li>It is difficult to <em>leave computations running remotely</em>.</li></ul></li></ul><h2 id="why-is-your-technology-poised-to-succeed">Why is your technology poised to succeed?</h2><ul><li>When it works, <strong>SageMathCloud solves every pain point listed above.</strong></li><li>The timing is right, due to <em>massive improvements in web browsers</em> during the last 3 years.</li><li>I am on full <em>sabbatical</em> this year, so at least success isn't totally impossible due to not working on the project.</li><li>I have been solving the above problems in less scalable ways for myself, colleagues and students <em>since the 1990s</em>.</li><li><em>SageMathCloud has many users</em> that provide valuable feedback.</li><li>We have already <em>solved difficult problems</em> since I started this project in Summer 2012 (and launched first version in April 2013).</li></ul><h2 id="who-are-your-competitors">Who are your competitors?</h2><em>There are no competitors</em> with a similar range of functionality. However, there are many webapps that have some overlap in capabilities:<br /><ul><li><strong>Mathematical overlap:</strong> Online Mathematica: "Bring Mathematica to life in the cloud"</li><li><strong>Python overlap:</strong> Wakari: "Web-based Python Data Analysis"; also PythonAnywhere</li><li><strong>Latex overlap:</strong> ShareLaTeX, WriteLaTeX</li><li><strong>Web-based IDE's/terminals:</strong> target writing webapps (not research or math education): c9.io, nitrous.io, codio.com, terminal.com</li><li><strong>Homework:</strong> WebAssign and WebWork</li></ul>Right now, <strong>SageMathCloud gives away for free far more</strong> than any other similar site, due to very substantial temporary financial support from Google, the NSF and others.<br /><h2 id="whats-the-total-addressable-market">What’s the total addressable market?</h2>Though our primary focus is the <em>college mathematics classroom</em>, there is a larger market:<br /><ul><li><strong>Students:</strong> all undergrad/high school students in the world taking a course involving programming or mathematics</li><li><strong>Teachers:</strong> all teachers of such courses</li><li><strong>Researchers:</strong> anybody working in areas that involve programming or data analysis</li></ul>Moreover, the web-based platform for computing that we're building lends itself to many other collaborative applications.<br /><h2 id="what-stage-is-your-technology-at">What stage is your technology at?</h2><ul><li>The site is up and running and has <strong>28,413 monthly active users</strong></li><li>There are still many bugs</li><li>I have a <em>precise todo list</em> that would take me at least <em>2 months</em> fulltime to finish.</li></ul><h2 id="is-your-solution-technically-feasible-at-this-point">Is your solution technically feasible at this point?</h2><ul><li>Yes. It is only a matter of time until the software is very polished.</li><li>Morever, we have compute resources to support significantly more users.</li><li>But without money (from paying customers or investment), if growth continues at the current rate then we will have to clamp down on free quotas for users.</li></ul><h2 id="what-technical-milestones-remain">What technical milestones remain?</h2><ul><li>Infrastructure for creating automatically-graded homework problems.</li><li>Fill in lots of details and polish.</li></ul><h2 id="do-you-have-external-credibility-with-technicalbusiness-experts-and-customers">Do you have external credibility with technical/business experts and customers?</h2><ul><li><strong>Business experts:</strong> I don't even know any business experts.</li><li><strong>Technical experts:</strong> I founded the Sage math software, which is 10 years old and relatively well known by mathematicians.</li><li><strong>Customers:</strong> We have no customers; we haven't offered anything for sale.</li></ul><h2 id="market-research">Market research?</h2><ul><li>I know about math software and its users as a result of founding the Sage open source math software project, NSF-funded projects I've been involved in, etc.</li></ul><h2 id="is-the-intellectual-property-around-your-technology-protected">Is the intellectual property around your technology protected?</h2><ul><li>The IP is software.</li><li>The website software is mostly new Javascript code we wrote that is copyright Univ. of Washington and mostly not open source; it depends on various open source libraries and components.</li><li>The Sage math software is entirely open source.</li></ul><h2 id="who-are-the-team-members-to-move-this-technology-forward">Who are the team members to move this technology forward?</h2>I am the only person working on this project fulltime right now.<br /><ul><li><strong>Everything:</strong> William Stein -- UW professor</li><li><strong>Browser client code:</strong> Jon Lee, Andy Huchala, Nicholas Ruhland -- UW undergrads</li><li><strong>Web design, analytics:</strong> Harald Schilly -- Austrian grad student</li><li><strong>Hardware:</strong> Keith Clawson</li></ul><h2 id="why-are-you-the-ideal-team">Why are you the ideal team?</h2><ul><li>We are not the ideal team.</li><li>If I had money maybe I could build the ideal team, leveraging my experience and connections from the Sage project...</li></ul></div>







<p class="date">
<a href="http://sagemath.blogspot.com/2014/10/a-non-technical-overview-of.html">by William Stein (noreply@blogger.com) at October 17, 2014 01:04 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>October 16, 2014</h2>

<div class="channelgroup">







<h3><a href="http://sagemath.blogspot.com/" title="Sage: Open Source Mathematics Software">William Stein</a></h3>


<div class="entrygroup" id="tag:blogger.com,1999:blog-6365588202025292315.post-5655260630534776590">
<h4><a href="http://sagemath.blogspot.com/2014/10/public-sharing-in-sagemathcloud-finally.html">Public Sharing in SageMathCloud, Finally</a></h4>
<div class="entry">
<div class="content">
<a href="https://cloud.sagemath.com/">SageMathCloud (SMC)</a> is a free (<a href="http://www.nsf.gov/">NSF</a>, <a href="http://google.com/">Google</a> and <a href="http://www.washington.edu/">UW</a> supported) website that lets you collaboratively work with Sage worksheets, IPython notebooks, LaTeX documents and much, much more. All work is snapshotted every few minutes, and copied out to several data centers, so if something goes wrong with a project running on one machine (right before your lecture begins or homework assignment is due), it will pop up on another machine. We designed the backend architecture from the ground up to be very horizontally scalable and have no single points of failure.<br /><br />This post is about an important new feature: <em><b>You can now mark a folder or file so that all other users can view it, and very easily copy it to their own project.</b></em><br /><br /><div class="separator"><a href="http://3.bp.blogspot.com/-oV_0xhD4af0/VEAnl6SRVQI/AAAAAAABQ2U/NkKVdh0NbNE/s1600/Screen%2BShot%2B2014-10-16%2Bat%2B1.15.58%2BPM.png"><img border="0" src="http://3.bp.blogspot.com/-oV_0xhD4af0/VEAnl6SRVQI/AAAAAAABQ2U/NkKVdh0NbNE/s1600/Screen%2BShot%2B2014-10-16%2Bat%2B1.15.58%2BPM.png" height="308" width="400" /></a></div><br /><br /><br />This solves problems:<br /><ul><li><strong>Problem:</strong> You create a "template" project, e.g., with pre-installed software, worksheets, IPython notebooks, etc., and want other users to easily be able to clone it as a new project. <strong>Solution:</strong> Mark the home directory of the project public, and share the link widely.<br /></li></ul><div class="separator"><a href="http://2.bp.blogspot.com/-FDT_Z1UD9H0/VEAn9tH3OhI/AAAAAAABQ2c/RQGklZMBiJA/s1600/Screen%2BShot%2B2014-10-16%2Bat%2B1.17.35%2BPM.png"><img border="0" src="http://2.bp.blogspot.com/-FDT_Z1UD9H0/VEAn9tH3OhI/AAAAAAABQ2c/RQGklZMBiJA/s1600/Screen%2BShot%2B2014-10-16%2Bat%2B1.17.35%2BPM.png" height="201" width="320" /></a></div><br /><ul><li><strong>Problem:</strong> You create a syllabus for a course, an assignment, a worksheet full of 3d images, etc., that you want to share with a group of students. <strong>Solution:</strong> Make the syllabus or worksheet public, and share the link with your students via an email and on the course website. (Note: You can also use a course document to share files with all students privately.) <a href="https://cloud.sagemath.com/projects/4a5f0542-5873-4eed-a85c-a18c706e8bcd/files/some%203d%20plots.sagews" target="_blank">For example...</a><br /></li></ul><div class="separator"><a href="http://1.bp.blogspot.com/-dMZS2DgsnzY/VEAouDdZu6I/AAAAAAABQ2k/6iPT0OWIomk/s1600/Screen%2BShot%2B2014-10-16%2Bat%2B1.20.38%2BPM.png"><img border="0" src="http://1.bp.blogspot.com/-dMZS2DgsnzY/VEAouDdZu6I/AAAAAAABQ2k/6iPT0OWIomk/s1600/Screen%2BShot%2B2014-10-16%2Bat%2B1.20.38%2BPM.png" height="320" width="286" /></a></div><div class="separator"><br /></div><div class="separator"><a href="http://3.bp.blogspot.com/-hQIq6QKlzLo/VEApB-yQV8I/AAAAAAABQ2s/o-jx4vjIlj0/s1600/Screen%2BShot%2B2014-10-16%2Bat%2B1.22.15%2BPM.png"><img border="0" src="http://3.bp.blogspot.com/-hQIq6QKlzLo/VEApB-yQV8I/AAAAAAABQ2s/o-jx4vjIlj0/s1600/Screen%2BShot%2B2014-10-16%2Bat%2B1.22.15%2BPM.png" height="74" width="320" /></a></div><div class="separator"><br /></div><ul><li><strong>Problem:</strong> You run into a problem using <a href="https://cloud.sagemath.com/">SMC</a> and want help. <strong>Solution:</strong> Make the worksheet or code that isn't working public, and post <a href="https://cloud.sagemath.com/projects/4a5f0542-5873-4eed-a85c-a18c706e8bcd/files/confused.sagews" target="_blank">a link</a> in a forum asking for help.</li></ul><div class="separator"><a href="http://4.bp.blogspot.com/-CdngoQAPCi8/VEApPsnc_8I/AAAAAAABQ20/r6wHP-IMqQ8/s1600/Screen%2BShot%2B2014-10-16%2Bat%2B1.23.13%2BPM.png"><img border="0" src="http://4.bp.blogspot.com/-CdngoQAPCi8/VEApPsnc_8I/AAAAAAABQ20/r6wHP-IMqQ8/s1600/Screen%2BShot%2B2014-10-16%2Bat%2B1.23.13%2BPM.png" height="216" width="320" /></a></div><ul><li><strong>Problem:</strong> You write a blog post explaining how to solve a problem and write related code in an <a href="https://cloud.sagemath.com/">SMC</a> worksheet, which you want your readers to see. <strong>Solution:</strong> Make that code public and post a link in your blog post.</li></ul>Here's <a href="http://youtu.be/B4GiyjIXL4Q">a screencast</a>.<br /><br />Each <a href="https://cloud.sagemath.com/">SMC</a> project has its own local "project server", which takes some time to start up, and serves files, coordinates Sage, terminal, and IPython sessions, etc. Public sharing completely avoids having anything to do with the project server -- <strong>it works fine even if the project server is not running</strong> -- it's always fast and there is no startup time if the project server isn't running. Moreover, public sharing reads the live files from your project, so you can update the files in a public shared directory, add new files, etc., and users will see these changes (when they refresh, since it's not automatic).<br />As an example, here is the <a href="https://cloud.sagemath.com/projects/4a5f0542-5873-4eed-a85c-a18c706e8bcd/files/cloud-examples/">cloud-examples github repo as a share</a>. If you click on it (and have a SageMathCloud account), you'll see this:<br /><pre><br /></pre><div class="separator"><a href="http://1.bp.blogspot.com/-nFbB6EldXxw/VEAph5pthGI/AAAAAAABQ28/cEBiDtyHSf8/s1600/Screen%2BShot%2B2014-10-16%2Bat%2B1.24.21%2BPM.png"><img border="0" src="http://1.bp.blogspot.com/-nFbB6EldXxw/VEAph5pthGI/AAAAAAABQ28/cEBiDtyHSf8/s1600/Screen%2BShot%2B2014-10-16%2Bat%2B1.24.21%2BPM.png" height="280" width="400" /></a></div><pre><br /></pre><h2 id="what-next">What Next?</h2>There is an enormous amount of natural additional functionality to build on top of public sharing.<br /><br />For example, not all document types can be previewed in read-only mode right now; in particular, IPython notebooks, task lists, LaTeX documents, images, and PDF files must be copied from the public share to another project before people can view them. It is better to release a first usable version of public sharing before systematically going through and implementing the additional features needed to support all of the above. You <em>can</em> make complicated Sage worksheets with embedded images and 3d graphics, and those can be previewed before copying them to a project.<br />Right now, the only way to visit a public share is to paste the URL into a browser tab and load it. Soon the projects page will be re-organized so you can search for publicly shared paths, see all public shares that you have previously visited, who shared them, how many +1's they've received, comments, etc.<br /><br />Also, I plan to eventually make it so public shares will be visible to people who have not logged in, and when viewing a publicly shared file or directory, there will be an option to start it running in a limited <em>project</em>, which will vanish from existence after a period of inactivity (say).<br /><br />There are also dozens of details that are not yet implemented. For example, it would be nice to be able to directly download files (and directories!) to your computer from a public share. And it's also natural to share a folder or file with a specific list of people, rather than sharing it publicly. If somebody is viewing a public file and you change it, they should likely see the update automatically. Right now when viewing a share, you don't even know who shared it, and if you open a worksheet it can automatically execute Javascript, which is potentially unsafe. &nbsp;Once public content is easily found, if somebody posts "evil" content publicly, there needs to be an easy way for users to report it.<br /><h2 id="sharing-will-permeate-everything">Sharing will permeate everything</h2>Sharing has been thought about a great deal during the last few years in the context of sites such as Github, Facebook, Google+ and Twitter. With <a href="https://cloud.sagemath.com/">SMC</a>, we've developed a foundation for interactive collaborative computing in a browser, and will introduce sharing on top of that in a way that is motivated by your problems. For example, as with Github or Google+, when somebody makes a copy of your publicly shared folder, this copy should be listed (under "copies") and it could start out public by default. There is much to do.<br /><br />One reason it took so long to release the first version of public sharing is that I kept imagining that sharing would happen at the level of complete projects, just like sharing in Github. However, when thinking through your problems, it makes way more sense in <a href="https://cloud.sagemath.com/">SMC</a> to share individual directories and files. Technically, sharing at this level works works well for <em>read-only</em> access, not for read-write access, since projects are mapped to Linux accounts. Another reason I have been very hesitant to support sharing is that I've had enormous trouble over the years with spammers posting content that gets me in trouble (with my University -- it is illegal for UW to host advertisements). However, by not letting search engines index content, the motivation for spammers to post nasty content is greatly reduced.<br /><br />Imagine publicly sharing recipes for automatically gradable homework problems, which use the full power of everything installed in <a href="https://cloud.sagemath.com/">SMC</a>, get forked, improved, used, etc.</div>







<p class="date">
<a href="http://sagemath.blogspot.com/2014/10/public-sharing-in-sagemathcloud-finally.html">by William Stein (noreply@blogger.com) at October 16, 2014 02:29 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>October 13, 2014</h2>

<div class="channelgroup">







<h3><a href="http://drvinceknight.github.io/unpeudemath/" title="Un peu de math">Vince Knight</a></h3>


<div class="entrygroup" id="http://drvinceknight.github.io/unpeudemath/pedagogy/2014/10/13/reflecting-on-a-first-week-of-learning/">
<h4><a href="http://drvinceknight.github.io/unpeudemath/pedagogy/2014/10/13/reflecting-on-a-first-week-of-learning/">Reflecting on a first week of learning</a></h4>
<div class="entry">
<div class="content">
<p>This academic year <a href="http://vincent-knight.com/research/students/current/2014/09/30/Imogen-Dunne/">Imogen Dunne</a> (a final year student here at Cardiff University) is doing her final year project looking at evaluating student attitudes in my “Computing for Mathematics” course.</p>

<p>The idea is to use questionnaires, focus groups and interviews to evaluate (longitudinally) mathematics students’ attitudes towards:</p>

<ul>
  <li>Learning to code;</li>
  <li>Learning some early mathematics;</li>
  <li>Learning in a flipped class environment.</li>
</ul>

<p>This has started off well, and last week Imogen kicked off a meeting with me by giving me homework.
Something along the lines of:</p>

<blockquote>
  <p>I’d like to see the attitudes of everyone involved from every point of view. Could you perhaps write a diary/log at certain points during the year, describing how you feel things are going?</p>
</blockquote>

<p>I was delighted with this idea and thought that I might as well blog these reflections, so here it goes:</p>

<p><strong>A good first week.</strong></p>

<p>The first thing I will say is I think this first week went really well.
Students turned up to their lab sessions having almost universally carried out all the required work which was awesome.
There was one major change with last year shifting some of the content from each week to the next.
This had the effect of making the first week a bit lighter which I think has been a good thing.</p>

<p><strong>Some labs could have been a bit ‘noisier’.</strong></p>

<p>I want labs sessions to be noisy spaces with students talking to each other and figuring things out.
This happened in most of the lab sessions I got to see but there was one or two where it felt more like a high school class from when I was still in high school: <em>students looking at me as if I was a teacher evaluating whatever they were saying</em>.
I’m using 2nd year students as tutors this year (which I’m super excited about: more about that later) and perhaps I need to do a better job explaining exactly what it is that I want the labs to be.
I think this has now been addressed.</p>

<p><strong>The best flipped class meeting I’ve ever had.</strong></p>

<p>I strive for a student centred learning environment.
This isn’t always easy to obtain but the first class meeting went extremely well.
I came in to the meeting expecting us to talk about the <code>index</code> method on strings (which finds the location of the first occurrence of a substring in a string) as this was the main piece of feedback I had from the labs as to the difficulties of the students.
We started talking about it that but then the students really took over and wanted to know how to calculate the location of <em>all the subtrings</em>.
This was a really awesome session as we went in to a particular thing in much more detail than we would have otherwise.
Most importantly students would never have been able to have that conversation with me if they knew nothing about strings and the index function…</p>

<p><strong>Not leaving anyone behind.</strong></p>

<p>When teaching in a classic lecture based setting it’s extremely difficult to gain an understanding of how your students are doing.
This flipped environment is <strong>all about</strong> finding out how students are doing, I am constantly getting feedback as to what students are having difficulty with.
I have to make sure that students understand that that is what the labs are for, I’m constantly saying this but will continue to do so.</p>

<p>Further more there are some students who are having difficulties with the content, this is completely expected but the great thing about teaching using this approach is that I’ve already been able to identify them and will be meeting with them during my office hours to help (I’m always happy to help students who want to work).</p>

<p><strong>Big thanks to the tutors.</strong></p>

<p>Finally, this week of class would not have gone so smoothly if it weren’t for the great tutors who have helped in the labs.
These include some of my colleagues who have gratefully given up their time, <a href="https://plus.google.com/+JasonYoung/posts">Jason Young</a> who has done an awesome job organising the undergraduate tutors and most importantly the undergraduate tutors themselves.
They all did a great job and I hope will also continue to learn and enjoy writing code.</p>

<hr />

<p>This has been written down in a slight rush before my next set of labs but hopefully will be useful to Imogen (and indeed perhaps my students).</p></div>







<p class="date">
<a href="http://drvinceknight.github.io/unpeudemath/pedagogy/2014/10/13/reflecting-on-a-first-week-of-learning/">October 13, 2014 12:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>October 12, 2014</h2>

<div class="channelgroup">







<h3><a href="http://drvinceknight.github.io/unpeudemath/" title="Un peu de math">Vince Knight</a></h3>


<div class="entrygroup" id="http://drvinceknight.github.io/unpeudemath/code/2014/10/12/A-playlist-of-introduction-to-latex-videos-using-sagemathcloud/">
<h4><a href="http://drvinceknight.github.io/unpeudemath/code/2014/10/12/A-playlist-of-introduction-to-latex-videos-using-sagemathcloud/">A playlist of 21 videos introducing LaTeX using SageMathCloud</a></h4>
<div class="entry">
<div class="content">
<p>About a year ago I put together 21 videos showing very basic LaTeX syntax.
I used <a href="https://www.writelatex.com/">writelatex</a> as the platform for those videos.</p>

<p>You can see that playlist of videos <a href="http://www.youtube.com/playlist?list=PLnC5h3PY-znygZ2rYNaX7_8j2Duwh58cK">here</a>.</p>

<p>This year I’m planning on using <a href="http://vincent-knight.com/unpeudemath/cloud.sagemath.com">SageMathCloud</a> when I teach Sage to my first years so I thought it was probably worth showing the students LaTeX in the same environment.
<strong>So I’ve just finished redo’ing the same playlist of 21 videos but this time using SageMathCloud</strong>.</p>

<p>You can find that playlist <a href="http://www.youtube.com/playlist?list=PLnC5h3PY-znxc090kGv7W4FpbotlWsrm0">here</a>:</p>

<p><a href="http://www.youtube.com/playlist?list=PLnC5h3PY-znxc090kGv7W4FpbotlWsrm0">http://www.youtube.com/playlist?list=PLnC5h3PY-znxc090kGv7W4FpbotlWsrm0</a></p>

<p>I’ve put all the tex files I created in the video in a github repository so they can be easily cloned in a SageMathCloud project using the https url:</p>

<div class="highlight"><pre><code class="language-bash">https://github.com/drvinceknight/IntroductionToLaTeXwithSageMathCloud.git</code></pre></div>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/creating_latex_project.png" alt="" /></p></div>







<p class="date">
<a href="http://drvinceknight.github.io/unpeudemath/code/2014/10/12/A-playlist-of-introduction-to-latex-videos-using-sagemathcloud/">October 12, 2014 12:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>October 04, 2014</h2>

<div class="channelgroup">







<h3><a href="http://drvinceknight.github.io/unpeudemath/" title="Un peu de math">Vince Knight</a></h3>


<div class="entrygroup" id="http://drvinceknight.github.io/unpeudemath/other/2014/10/04/podcasts-i-listen-to/">
<h4><a href="http://drvinceknight.github.io/unpeudemath/other/2014/10/04/podcasts-i-listen-to/">A list of podcasts I listen to</a></h4>
<div class="entry">
<div class="content">
<p>I’ve recently gotten in to podcasts again (again) and really enjoy listening to most of these in the background of whatever it is I’m doing.</p>

<p>The podcasts I listen to probably fall in to the following categories:</p>

<ul>
  <li>Technology</li>
  <li>Science</li>
  <li>Sport</li>
</ul>

<p>I’m sure I’m missing a bunch so I thought I’d write a blog post in the hope that kind readers would let me know what I should be listening to.</p>

<p><strong>Technology</strong></p>

<ul>
  <li><a href="http://twit.tv/tnt">Tech News Today</a>: One of many twit shows I like. I usually listen to this first thing in the morning.</li>
  <li><a href="http://twit.tv/twit">This week in tech</a>: I really like Leo Laporte and enjoy listening to this show as background noise to whatever it is that I’m doing.</li>
  <li><a href="http://goo.gl/hte7a">Linux action show</a>: I sometime find these guys ‘defend’ linux on the desktop a bit too fervently but I never fail to learn something new.</li>
  <li><a href="http://twit.tv/mbw">MacBreak Weekly</a>: This has the same kind of vibe as ‘this week in tech’.</li>
  <li><a href="http://twit.tv/aaa">All about android</a>: Again, this one feels like hanging out with friends (the probably with real friends being that I can’t work at the same time but I’m working on that).</li>
  <li><a href="http://twit.tv/sn">Security Now</a>: Another twit podcast, this one is about security and although I miss a lot about what is talked about I still enjoy it.</li>
  <li><a href="http://www.patreon.com/rdvtech">Le Rendez-Vous Tech</a>: A French podcast very similar to this week in tech. Probably the only bit of exercise my French still gets.</li>
  <li><a href="http://www.healthyhacker.com/">Healthy Hacker</a>: This is probably one of my favourite podcasts. Chris talks about code but also general fitness stuff.</li>
  <li><a href="http://vimcasts.org/">vimcasts.org</a>: Not really a podcast (low frequency) but it’s on my podcast catcher so I thought I’d list it here.</li>
</ul>

<p><strong>Science</strong></p>

<ul>
  <li><a href="http://freakonomics.com/radio/">Freakonomics Radio</a>: A great podcast, extremely well produced and often covering really interesting subjects (this one I usually try not to listen to in the background like most of the above).</li>
  <li><a href="http://www.bbc.co.uk/programmes/b00snr0w">The infinite monkey cage</a>: Another really good job. Often very funny as well as informative.</li>
  <li><a href="http://www.twis.org/">This week in Science</a>: this is always a nice listen to as they catch up on scientific stories that happened throughout the week.</li>
  <li><a href="http://www.rhysphillips.co.uk/pythagoras-trousers/">Pythagoras Trousers</a>: Cardiff University graduate Rhys Phillips does an excellent job with this podcast.</li>
  <li><a href="http://mathed.podomatic.com/">Math Ed Podcast</a>: A really nice show that in every episode I’ve listened to was a really interesting interview of a mathematical education expert.</li>
  <li><a href="http://www.stuffyoushouldknow.com/">Stuff you should know</a>: Not too sure if I should put this in this category but it’s a cool show where they explain a bunch of topics.</li>
</ul>

<p><strong>Sport</strong></p>

<ul>
  <li><a href="http://search.espn.go.com/espn-first-take/">First Take</a>: I don’t get to follow much US sports but I do enjoy listening to Slip and Stephen A. yell at each other.</li>
  <li><a href="http://sports.espn.go.com/espnradio/podcast/archive?id=2406595">Pardon the Interruption</a>: Same as above really (although with less yelling).</li>
  <li><a href="http://www.bbc.co.uk/programmes/b0070hvs">Fighting Talk</a>: This is a fun BBC show where sports pundits get points for being funny talking about stuff that happened in the past week.</li>
  <li><a href="http://www.nfl.com/podcasts?series=aroundtheleague-podcast">Around the NFL</a>: I like the NFL and when I have time to listen to this one I get to find out what’s happening.</li>
  <li><a href="http://www.eggchasers.com/">Egg chasers podcast</a>: A really great weekly roundup of rugby.</li>
  <li><a href="http://www.bbc.co.uk/podcasts/series/7dws">Scrum V Radio</a>: A specific podcast about Welsh rugby.</li>
</ul>

<p>One I’m forgetting in all of that is <a href="https://www.kickstarter.com/projects/386612592/relatively-prime-series-2">Relatively Prime</a> which is a mathematics podcast that has just started a kickstarter campaign for a second season. I’ve never listened to it but though it could be worth mentioning.</p>

<p><strong>Any good ones I’m missing?</strong></p></div>







<p class="date">
<a href="http://drvinceknight.github.io/unpeudemath/other/2014/10/04/podcasts-i-listen-to/">October 04, 2014 12:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>October 01, 2014</h2>

<div class="channelgroup">







<h3><a href="http://sagemath.blogspot.com/" title="Sage: Open Source Mathematics Software">William Stein</a></h3>


<div class="entrygroup" id="tag:blogger.com,1999:blog-6365588202025292315.post-4658363764746166473">
<h4><a href="http://sagemath.blogspot.com/2014/10/sagemathcloud-course-management.html">SageMathCloud Course Management</a></h4>
<div class="entry">
<div class="content">
<div class="modal-body"><a href="https://cloud.sagemath.com/" target="_blank">SageMathCloud</a> now has some very rudimentary course management functionality. &nbsp;Though still very basic, it makes it much, much easier to make files available to students, collect homework, etc., entirely using <a href="https://cloud.sagemath.com/" target="_blank">SageMathCloud</a> (without having to use email or any other submissions systems or github to share files). &nbsp; To get started, create a new course by clicking on +New, then typing the name of your course and click "Course":<br /><br /><div class="separator"><a href="http://2.bp.blogspot.com/-zJYWHLYWRP8/VCxOUQCrbrI/AAAAAAABQQ4/KT4IWWwUQKg/s1600/Screen%2BShot%2B2014-10-01%2Bat%2B11.55.15%2BAM.png"><img border="0" src="http://2.bp.blogspot.com/-zJYWHLYWRP8/VCxOUQCrbrI/AAAAAAABQQ4/KT4IWWwUQKg/s1600/Screen%2BShot%2B2014-10-01%2Bat%2B11.55.15%2BAM.png" height="198" width="320" /></a></div><br /><br />Course documents allow you to manage a <i>list of students</i>, <i>create projects</i> for each                     of them, <i>share homework</i> and folders with them, <i>collect                     homework</i>, and <i>grade and return</i> it to students.                       <br /><h4>Add Students</h4>To add a student to your course, click on the <a class="btn btn-primary btn-default" href="https://www.blogger.com/null"><i class="fa fa-users"> </i>  Students</a> tab,                         then type a student's name or email address in the "Add student" box to the right and press                         enter or click the button.   Searching for an email address is best, since you can be certain that the person you're adding is                         really a student in your course (instead of an unknown SageMathCloud user with the same name); moreover, if your student                         doesn't already have an account, they will receive an invitation via email.                         <span class="lighten">(NOTE: There is currently no way to add dozens of students at once.)</span>                    <br /><span class="lighten"><br /></span><div class="separator"><a href="http://1.bp.blogspot.com/-5jlvxCeEwAk/VCxO5T9_U1I/AAAAAAABQRA/YjyF5gcEogs/s1600/Screen%2BShot%2B2014-10-01%2Bat%2B11.57.53%2BAM.png"><img border="0" src="http://1.bp.blogspot.com/-5jlvxCeEwAk/VCxO5T9_U1I/AAAAAAABQRA/YjyF5gcEogs/s1600/Screen%2BShot%2B2014-10-01%2Bat%2B11.57.53%2BAM.png" height="171" width="320" /></a></div><span class="lighten"><br /></span><span class="lighten"><br /></span>Once you add a student, click on <a class="btn btn-warning" href="https://www.blogger.com/null"><i class="fa fa-plus-circle"> </i>  Create Project</a> next to your                         student's name to create their project.  You own the project, and they will be added as a collaborator, and invited by email if they                         do not yet have an account.<br /><br /><div class="separator"><a href="http://3.bp.blogspot.com/-pi4VnSnlrCA/VCxPS2-Tc4I/AAAAAAABQRQ/03FygAXUnRM/s1600/Screen%2BShot%2B2014-10-01%2Bat%2B11.59.50%2BAM.png"><img border="0" src="http://3.bp.blogspot.com/-pi4VnSnlrCA/VCxPS2-Tc4I/AAAAAAABQRQ/03FygAXUnRM/s1600/Screen%2BShot%2B2014-10-01%2Bat%2B11.59.50%2BAM.png" height="123" width="320" /></a></div><br /><br /><br /><br /><div class="separator"><a href="http://3.bp.blogspot.com/-C5hvg7AuAow/VCxPSzz8TuI/AAAAAAABQRU/LyBP3j2xA7s/s1600/Screen%2BShot%2B2014-10-01%2Bat%2B12.00.10%2BPM.png"><img border="0" src="http://3.bp.blogspot.com/-C5hvg7AuAow/VCxPSzz8TuI/AAAAAAABQRU/LyBP3j2xA7s/s1600/Screen%2BShot%2B2014-10-01%2Bat%2B12.00.10%2BPM.png" height="129" width="320" /></a></div><br />&nbsp;Don't worry, student projects are hidden by default from your main project listing.<br /><br /><div class="separator"><a href="http://4.bp.blogspot.com/-ZzDNFNJIvAQ/VCxPk6o1hnI/AAAAAAABQRg/fF3r40SK6_c/s1600/Screen%2BShot%2B2014-10-01%2Bat%2B12.01.23%2BPM.png"><img border="0" src="http://4.bp.blogspot.com/-ZzDNFNJIvAQ/VCxPk6o1hnI/AAAAAAABQRg/fF3r40SK6_c/s1600/Screen%2BShot%2B2014-10-01%2Bat%2B12.01.23%2BPM.png" height="115" width="320" /></a></div><br />(To delete a student, click <i class="fa fa-times"> </i> to the right of the student.                         You can toggle whether deleted students are shown in settings.)<br /><br /><h4>Add Assignments</h4>To create an assignment, first click                         <a href="https://www.blogger.com/null">                            <i class="project-control-icon fa fa-plus-circle"></i>                            <span class="project-pages-button-label hidden-xs">New</span>                        </a>                        in the upper left of your project to create a new folder, and create or add files to it, as usual.                         Click on the <a class="btn btn-default btn-primary" href="https://www.blogger.com/null"><i class="fa fa-share-square-o"> </i> Assignments</a>                        tab of the course, then search for the folder by typing some part of its name in the box on the far right.                         Click to select the folder and it will be added to your                         list of assignments.                         To make <b>copies</b> of this folder available to all of your students whose projects you have created,                         click the <a class="btn btn-warning" href="https://www.blogger.com/null"><i class="fa fa-share-square-o"> </i>  Assign</a> button.                         <span class="lighten">NOTE: You can share arbitrary folders with any contents with your                             students -- folders don't have                             to contain "assignments", and may contain anything, Sage worksheets, IPython notebooks,                             LaTeX documents, etc.</span>                    <br /><span class="lighten"><br /></span><div class="separator"><a href="http://1.bp.blogspot.com/-zv3oNd_QHhI/VCxQD8AEiSI/AAAAAAABQRo/aIPlWFZ83cw/s1600/Screen%2BShot%2B2014-10-01%2Bat%2B12.03.06%2BPM.png"><img border="0" src="http://1.bp.blogspot.com/-zv3oNd_QHhI/VCxQD8AEiSI/AAAAAAABQRo/aIPlWFZ83cw/s1600/Screen%2BShot%2B2014-10-01%2Bat%2B12.03.06%2BPM.png" height="98" width="320" /></a></div><div class="separator"><br /></div><div class="separator"><br /></div><div class="separator"><a href="http://1.bp.blogspot.com/-LT4ZJFwHv3k/VCxQEwwjM7I/AAAAAAABQRw/N9d6TlSgoak/s1600/Screen%2BShot%2B2014-10-01%2Bat%2B12.03.20%2BPM.png"><img border="0" src="http://1.bp.blogspot.com/-LT4ZJFwHv3k/VCxQEwwjM7I/AAAAAAABQRw/N9d6TlSgoak/s1600/Screen%2BShot%2B2014-10-01%2Bat%2B12.03.20%2BPM.png" height="140" width="320" /></a></div><br /><span class="lighten"><br /></span><span class="lighten"><br /></span><h4>Collecting and Grading Assignments</h4>To collect an assignment from your students,                         click <a class="btn btn-warning" href="https://www.blogger.com/null"><i class="fa fa-share-square-o fa-rotate-180"> </i>  Collect</a> to the right of an assignment                         to collect it from all students.                         <span class="lighten">                        (NOTE: There is currently no way to schedule collection to happen at a specific time -- it happens                         when you click the button.  Click it again to update the collected files.)</span>                    <br />Once the assignments are collected, click                         <button class="btn btn-default dropdown-toggle" type="button">                            <i class="fa fa-eye"> </i> Grade <span class="caret"></span>                        </button>                        and select a student to jump to the folder that contains the collected version of a                         student's assignment. Edit the                         files there, indicating grades on each problem, etc.                         <span class="lighten">                            NOTE: There is no special support yet for recording grades, knowing which homework you have graded already, etc.                         </span>                    <br />When you are done grading, click <a class="btn btn-warning" href="https://www.blogger.com/null"><i class="fa fa-share-square-o"> </i>  Return Graded</a>                        to return the graded homework to the students.  If the homework folder is called <tt>homework1</tt>, then the graded version                         will appear in the student's project as <tt>homework1-graded</tt>.                     <br /><br /><br /><div class="separator"><a href="http://1.bp.blogspot.com/-QlF6BMvK4wM/VCxQXrL-QxI/AAAAAAABQR4/0PsVB19gPE0/s1600/Screen%2BShot%2B2014-10-01%2Bat%2B12.04.35%2BPM.png"><img border="0" src="http://1.bp.blogspot.com/-QlF6BMvK4wM/VCxQXrL-QxI/AAAAAAABQR4/0PsVB19gPE0/s1600/Screen%2BShot%2B2014-10-01%2Bat%2B12.04.35%2BPM.png" height="108" width="320" /></a></div><br /><h4>Course Settings</h4>Set the title and description of the course in the                         <a class="btn btn-default btn-primary" href="https://www.blogger.com/null"><i class="fa fa-wrench"> </i> Settings</a> tab.  When you                         change these, the new title and description                         propagates automatically to all student projects for this course.                     <br /><br /><div class="separator"><a href="http://3.bp.blogspot.com/-h0Zt3E4dEGs/VCxO9o_lDsI/AAAAAAABQRI/FTyzihxwku0/s1600/Screen%2BShot%2B2014-10-01%2Bat%2B11.58.21%2BAM.png"><img border="0" src="http://3.bp.blogspot.com/-h0Zt3E4dEGs/VCxO9o_lDsI/AAAAAAABQRI/FTyzihxwku0/s1600/Screen%2BShot%2B2014-10-01%2Bat%2B11.58.21%2BAM.png" height="151" width="320" /></a></div><br /><h4>Other</h4><ul><li>A&nbsp;<a href="http://youtu.be/C8ZALCcCCkM" target="_blank">Video Tutorial</a>                        </li></ul><h4>Technical Remarks</h4>The underlying file format of a .course file is a plain text file with one line in JSON format for each student,                     shared assignment, and for settings.                  </div></div>







<p class="date">
<a href="http://sagemath.blogspot.com/2014/10/sagemathcloud-course-management.html">by William Stein (noreply@blogger.com) at October 01, 2014 01:05 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>September 27, 2014</h2>

<div class="channelgroup">







<h3><a href="http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/" title="Sébastien Labbé">Sébastien Labbé</a></h3>


<div class="entrygroup" id="http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/2014/09/abelian-complexity-of-the-oldenburger-sequence" lang="en">
<h4><a href="http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/2014/09/abelian-complexity-of-the-oldenburger-sequence">Abelian complexity of the Oldenburger sequence</a></h4>
<div class="entry">
<div class="content">
<div class="document">
<p>The Oldenburger infinite sequence <a class="citation-reference" href="http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/2014/09/abelian-complexity-of-the-oldenburger-sequence#o39" id="id1">[O39]</a>
\[
K = 1221121221221121122121121221121121221221\ldots
\]
also known under the name of <a class="reference external" href="http://en.wikipedia.org/wiki/Kolakoski_sequence">Kolakoski</a>, is equal to its <em>exponent
trajectory</em>.  The exponent trajectory \(\Delta\) can be obtained by counting
the lengths of blocks of consecutive and equal letters:
\[
K =
1^12^21^22^11^12^21^12^21^22^11^22^21^12^11^22^11^12^21^22^11^22^11^12^21^12^21^22^11^12^21^12^11^22^11^22^21^12^21^2\ldots
\]
The sequence of exponents above gives the exponent trajectory of the
Oldenburger sequence:
\[
\Delta = 12211212212211211221211212\ldots
\]
which is equal to the original sequence \(K\).
You can define this sequence in Sage:</p>


<div class="pygments_manni"><pre>sage: K = words.KolakoskiWord()
sage: K
word: 1221121221221121122121121221121121221221...
sage: K.delta()          # delta returns the exponent trajectory
word: 1221121221221121122121121221121121221221...
</pre></div>



<p>There are a lot of open problem related to basic properties of that sequence.
For example, we do not know if that sequence is recurrent, that is, all finite
subword or factor (finite block of consecutive letters) always reappear. Also,
it is still open to prove whether the density of <tt class="docutils literal">1</tt> in that sequence is
equal to \(1/2\).</p>
<p>In this blog post, I do some computations on its abelian complexity
\(p_{ab}(n)\) defined as the number of distinct abelian vectors of subwords of
length \(n\) in the sequence. The abelian vector \(\vec{w}\) of a word
\(w\) counts the number of occurences of each letter:
\[
w = 12211212212
\quad
\mapsto
\quad
1^5 2^7 \text{, abelianized}
\quad
\mapsto
\quad
\vec{w} = (5, 7) \text{, the abelian vector of }
w
\]</p>
<p>Here are the abelian vectors of subwords of length 10 and 20 in the prefix of
length 100 of the Oldenburger sequence.  The functions <tt class="docutils literal">abelian_vectors</tt> and
<tt class="docutils literal">abelian_complexity</tt>  are not in Sage as of now. Code is available at <a class="reference external" href="http://trac.sagemath.org/ticket/17058">trac
#17058</a> to be merged in Sage soon:</p>


<div class="pygments_manni"><pre>sage: prefix = words.KolakoskiWord()[:100]
sage: prefix.abelian_vectors(10)
{(4, 6), (5, 5), (6, 4)}
sage: prefix.abelian_vectors(20)
{(8, 12), (9, 11), (10, 10), (11, 9), (12, 8)}
</pre></div>



<p>Therefore, the prefix of length 100 has 3 vectors of subwords of length 10 and 5
vectors of subwords of length 20:</p>


<div class="pygments_manni"><pre>sage: p100.abelian_complexity(10)
3
sage: p100.abelian_complexity(20)
5
</pre></div>



<p>I import the <tt class="docutils literal">OldenburgerSequence</tt> from my optional spkg because it is faster
than the implementation in Sage:</p>


<div class="pygments_manni"><pre>sage: from slabbe import KolakoskiWord as OldenburgerSequence
sage: Olden = OldenburgerSequence()
</pre></div>



<p>I count the number of abelian vectors of subwords of length 100 in the prefix of
length \(2^{20}\) of the Oldenburger sequence:</p>


<div class="pygments_manni"><pre>sage: prefix = Olden[:2^20]
sage: %time prefix.abelian_vectors(100)
CPU times: user 3.48 s, sys: 66.9 ms, total: 3.54 s
Wall time: 3.56 s
{(47, 53), (48, 52), (49, 51), (50, 50), (51, 49), (52, 48), (53, 47)}
</pre></div>



<p>Number of abelian vectors of subwords of length less than 100 in the prefix of
length \(2^{20}\) of the Oldenburger sequence:</p>


<div class="pygments_manni"><pre>sage: %time L100 = map(prefix.abelian_complexity, range(100))
CPU times: user 3min 20s, sys: 1.08 s, total: 3min 21s
Wall time: 3min 23s
sage: from collections import Counter
sage: Counter(L100)
Counter({5: 26, 6: 26, 4: 17, 7: 15, 3: 8, 8: 4, 2: 3, 1: 1})
</pre></div>



<p>Let's draw that:</p>


<div class="pygments_manni"><pre>sage: labels = ('Length of factors', 'Number of abelian vectors')
sage: title = 'Abelian Complexity of the prefix of length $2^{20}$ of Oldenburger sequence'
sage: list_plot(L100, color='green', plotjoined=True, axes_labels=labels, title=title)
</pre></div>



<a class="reference external image-reference" href="http://www.liafa.univ-paris-diderot.fr/~labbe/Files/2014/oldenburger_abelian_100.png"><img alt="/~labbe/Files/2014/oldenburger_abelian_100.png" src="http://www.liafa.univ-paris-diderot.fr/~labbe/Files/2014/oldenburger_abelian_100.png" /></a>
<p>It seems to grow something like \(\log(n)\). Let's now consider subwords of
length \(2^n\) for \(0\leq n\leq 12\) in the same prefix of length
\(2^{20}\):</p>


<div class="pygments_manni"><pre>sage: %time L20 = [(2^n, prefix.abelian_complexity(2^n)) for n in range(20)]
CPU times: user 41 s, sys: 239 ms, total: 41.2 s
Wall time: 41.5 s
sage: L20
[(1, 2), (2, 3), (4, 3), (8, 3), (16, 3), (32, 5), (64, 5), (128, 9),
(256, 9), (512, 13), (1024, 17), (2048, 22), (4096, 27), (8192, 40),
(16384, 46), (32768, 67), (65536, 81), (131072, 85), (262144, 90), (524288, 104)]
</pre></div>



<p>I now look at subwords of length \(2^n\) for \(0\leq n\leq 23\) in the
longer prefix of length \(2^{24}\):</p>


<div class="pygments_manni"><pre>sage: prefix = Olden[:2^24]
sage: %time L24 = [(2^n, prefix.abelian_complexity(2^n)) for n in range(24)]
CPU times: user 20min 47s, sys: 13.5 s, total: 21min
Wall time: 20min 13s
sage: L24
[(1, 2), (2, 3), (4, 3), (8, 3), (16, 3), (32, 5), (64, 5), (128, 9), (256,
9), (512, 13), (1024, 17), (2048, 23), (4096, 33), (8192, 46), (16384, 58),
(32768, 74), (65536, 98), (131072, 134), (262144, 165), (524288, 229),
(1048576, 302), (2097152, 371), (4194304, 304), (8388608, 329)]
</pre></div>



<p>The next graph gather all of the above computations:</p>


<div class="pygments_manni"><pre>sage: G = Graphics()
sage: legend = 'in the prefix of length 2^{}'
sage: G += list_plot(L24, plotjoined=True, thickness=4, color='blue', legend_label=legend.format(24))
sage: G += list_plot(L20, plotjoined=True, thickness=4, color='red', legend_label=legend.format(20))
sage: G += list_plot(L100, plotjoined=True, thickness=4, color='green', legend_label=legend.format(20))
sage: labels = ('Length of factors', 'Number of abelian vectors')
sage: title = 'Abelian complexity of Oldenburger sequence'
sage: G.show(scale=('semilogx', 2), axes_labels=labels, title=title)
</pre></div>



<a class="reference external image-reference" href="http://www.liafa.univ-paris-diderot.fr/~labbe/Files/2014/oldenburger_abelian_2e24.png"><img alt="/~labbe/Files/2014/oldenburger_abelian_2e24.png" src="http://www.liafa.univ-paris-diderot.fr/~labbe/Files/2014/oldenburger_abelian_2e24.png" /></a>
<p>A linear growth in the above graphics with logarithmic \(x\) abcisse would
mean a growth in \(\log(n)\).  After those experimentations, my hypothesis
is that the abelian complexity of the Oldenburger sequence grows like
\(\log(n)^2\).</p>
<div class="section" id="references">
<h1>References</h1>
<table class="docutils citation" frame="void" id="o39" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/2014/09/abelian-complexity-of-the-oldenburger-sequence#id1">[O39]</a></td><td>Oldenburger, Rufus (1939). &quot;Exponent trajectories in symbolic dynamics&quot;.
Transactions of the American Mathematical Society 46: 453–466.
<a class="reference external" href="http://dx.doi.org/10.2307%2F1989933">doi:10.2307/1989933</a></td></tr>
</tbody>
</table>
</div>
</div></div>







<p class="date">
<a href="http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/2014/09/abelian-complexity-of-the-oldenburger-sequence">by Sébastien Labbé at September 27, 2014 10:00 PM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>September 24, 2014</h2>

<div class="channelgroup">







<h3><a href="http://drvinceknight.github.io/unpeudemath/" title="Un peu de math">Vince Knight</a></h3>


<div class="entrygroup" id="http://drvinceknight.github.io/unpeudemath/code/2014/09/24/greyscale-graphs-in-sage/">
<h4><a href="http://drvinceknight.github.io/unpeudemath/code/2014/09/24/greyscale-graphs-in-sage/">Grey scale network graph colorings in Sage</a></h4>
<div class="entry">
<div class="content">
<p>This is a quick post following a request for some Sage help that a colleague asked for.
It’s based on a quick fix and I’m wondering if someone might come up with a better way of doing this that I’ve missed or if it’s worth actually raising a ticket to incorporate something like it in Sage.</p>

<p>So my colleague is writing a book on Graph theory and recently started taking a look at Sage’s capacity to handle Graph theory stuff and colorings in particular.
The issue was that said colleague ideally wanted grey scale pictures of the colorings (I’m guessing this is due to the publisher or something - I didn’t ask).</p>

<p>The following creates a bespoke graph and plots a coloring (ensures that adjacent vertices have different colors):</p>

<div class="highlight"><pre><code class="language-python"><span class="n">sage</span><span class="p">:</span> <span class="n">P</span> <span class="o">=</span> <span class="n">graphs</span><span class="o">.</span><span class="n">PetersenGraph</span><span class="p">()</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">c</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">coloring</span><span class="p">()</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">c</span>
<span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">]]</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">P</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">partition</span><span class="o">=</span><span class="n">c</span><span class="p">)</span></code></pre></div>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/multi_color_petersen_graph_coloring.png" alt="" /></p>

<p>Now to get that in to grey scale we could of course open up <a href="http://www.inkscape.org/en/">inkscape</a> or something similar and convert it but it would be nice to be able to directly use something like the <code>matplotlib</code> grey scale <a href="http://vincent-knight.com/unpeudemath/feed.xml">color map</a>.
This is in fact what I started to look for but with no success so I then started to look for how one converts an RGB tuple (3 floats corresponding to the makeup of a color) to something on a grey scale.</p>

<p>Turns out (see <a href="http://stackoverflow.com/questions/12201577/convert-rgb-image-to-grayscale-in-python">this stackoverflow question</a> which leads to <a href="http://en.wikipedia.org/wiki/Grayscale#Converting_color_to_grayscale">this wiki page</a>), that for \(\text{rgb}=(r,g,b)\), the corresponding grey scale color is given by \(\text{grey}=(Y,Y,Y)\) where \(Y\) is given by:</p>



<p>where \(y\) is given by:</p>



<p>I genuinely have no understanding what so ever as to what that does but the idea is to make use of the Sage <code>rainbow</code> function which returns a given number of colors (very useful for creating plots when you don’t necessarily want to come up with all the color names).</p>

<div class="highlight"><pre><code class="language-python"><span class="n">sage</span><span class="p">:</span> <span class="n">rainbow</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="s">'rgbtuple'</span><span class="p">)</span>
<span class="p">[(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span>
 <span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.6000000000000001</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span>
 <span class="p">(</span><span class="mf">0.7999999999999998</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span>
 <span class="p">(</span><span class="mf">0.20000000000000018</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span>
 <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.40000000000000036</span><span class="p">),</span>
 <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span>
 <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.40000000000000036</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span>
 <span class="p">(</span><span class="mf">0.1999999999999993</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span>
 <span class="p">(</span><span class="mf">0.8000000000000007</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span>
 <span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.5999999999999996</span><span class="p">)]</span></code></pre></div>

<p>So here’s a function that takes the output of <code>rainbow</code> and maps it to grey scale:</p>

<div class="highlight"><pre><code class="language-python"><span class="k">def</span> <span class="nf">grey_rainbow</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">black</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return n greyscale colors</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">black</span><span class="p">:</span>
        <span class="n">clrs</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.299</span><span class="o">*</span><span class="n">clr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mf">0.587</span> <span class="o">*</span> <span class="n">clr</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mf">0.114</span> <span class="o">*</span> <span class="n">clr</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="k">for</span> <span class="n">clr</span> <span class="ow">in</span> <span class="n">rainbow</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="s">'rgbtuple'</span><span class="p">)]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">clrs</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.299</span><span class="o">*</span><span class="n">clr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mf">0.587</span> <span class="o">*</span> <span class="n">clr</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mf">0.114</span> <span class="o">*</span> <span class="n">clr</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="k">for</span> <span class="n">clr</span> <span class="ow">in</span> <span class="n">rainbow</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="s">'rgbtuple'</span><span class="p">)]</span>
    <span class="n">output</span> <span class="o">=</span> <span class="p">[</span><span class="s">'white'</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">clrs</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">c</span> <span class="o">&lt;=</span> <span class="mf">0.0031308</span><span class="p">:</span>
            <span class="n">rgb</span> <span class="o">=</span> <span class="mf">12.92</span> <span class="o">*</span> <span class="n">c</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">rgb</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.055</span><span class="o">*</span><span class="n">c</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mf">2.4</span><span class="p">)</span><span class="o">-</span><span class="mf">0.055</span><span class="p">)</span>
        <span class="n">output</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">rgb</span><span class="p">,</span><span class="n">rgb</span><span class="p">,</span><span class="n">rgb</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">black</span><span class="p">:</span>
        <span class="n">output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">'black'</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">output</span></code></pre></div>

<p>Note that we’re including the option to use black as one of the colours or not (it covers up the vertex labels on the corresponding plot if we do).
We can then use that function to create our own partition coloring:</p>

<div class="highlight"><pre><code class="language-python"><span class="k">def</span> <span class="nf">grey_coloring</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">black</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
    <span class="n">chromatic_nbr</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">chromatic_number</span><span class="p">()</span>
    <span class="n">coloring</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">coloring</span><span class="p">()</span>
    <span class="n">grey_colors</span> <span class="o">=</span> <span class="n">grey_rainbow</span><span class="p">(</span><span class="n">chromatic_nbr</span><span class="p">,</span> <span class="n">black</span><span class="p">)</span>
    <span class="n">d</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">grey_colors</span><span class="p">):</span>
        <span class="n">d</span><span class="p">[</span><span class="n">c</span><span class="p">]</span> <span class="o">=</span> <span class="n">coloring</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">P</span><span class="o">.</span><span class="n">graphplot</span><span class="p">(</span><span class="n">vertex_colors</span><span class="o">=</span><span class="n">d</span><span class="p">)</span></code></pre></div>

<p>Here is how we can simply use the above to get a grey scale coloring of a graph:</p>

<div class="highlight"><pre><code class="language-python"><span class="n">P</span> <span class="o">=</span> <span class="n">graphs</span><span class="o">.</span><span class="n">PetersenGraph</span><span class="p">()</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">grey_coloring</span><span class="p">(</span><span class="n">P</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></code></pre></div>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/grey_petersen_graph_coloring.png" alt="" /></p>

<div class="highlight"><pre><code class="language-python"><span class="n">P</span> <span class="o">=</span> <span class="n">graphs</span><span class="o">.</span><span class="n">PetersenGraph</span><span class="p">()</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">grey_coloring</span><span class="p">(</span><span class="n">P</span><span class="p">,</span><span class="n">black</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></code></pre></div>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/grey_petersen_graph_coloring_with_black.png" alt="" /></p>

<p>Now what would be really nice would be to be able to just use any <code>matplotlib</code> color map in the Graph coloring.
This might actually already be possible, I’ll fish through the Sage source code at some point and take a look (the awesome thing about Sage is <strong>that I can do that</strong>).
Otherwise, it might just be a quick fix (and hopefully a less hacky one then above - I still laugh at the formulae I use and that seems to work), who nows I might even see if it’s worth opening an actual ticket for this.</p>

<p><a href="http://vincent-knight.com/unpeudemath/assets/code/greyscale-graphs-in-sage.sage">Here is a Sage script with the above code</a></p></div>







<p class="date">
<a href="http://drvinceknight.github.io/unpeudemath/code/2014/09/24/greyscale-graphs-in-sage/">September 24, 2014 12:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>September 21, 2014</h2>

<div class="channelgroup">







<h3><a href="http://drvinceknight.github.io/unpeudemath/" title="Un peu de math">Vince Knight</a></h3>


<div class="entrygroup" id="http://drvinceknight.github.io/unpeudemath/code/2014/09/21/my-thoughts-on-plotly/">
<h4><a href="http://drvinceknight.github.io/unpeudemath/code/2014/09/21/my-thoughts-on-plotly/">My thoughts on plotly (the github for plots)</a></h4>
<div class="entry">
<div class="content">
<p>A while ago I saw <a href="https://plot.ly/">plotly</a> appear on my G+ stream.
People seemed excited about it but I was too busy to look at it properly and just assumed: <em>must be some sort of new matplotlib</em>: <strong>ain’t nobody got time for that!</strong></p>

<p>Then, one of the guys from plotly reached out saying I should take a look.
I took a brief glance and realised that this was <strong>nothing like a new matplotlib</strong> and in fact looked pretty cool.
So I dutifully put it on my to do list but very much near the bottom.</p>

<p>I’m writing this sat in between sessions at <a href="http://pyconuk.org/">PyconUK 2014</a>.
One of the talks on the first day was by Chris from plotly.
He gave a great talk (which once the video link is up I’ll share here) and I immediately threw ‘check out plotly’ to the top of my to do list.</p>

<p><strong>How I got started</strong></p>

<ul>
  <li>I created an account at <a href="https://plot.ly/">https://plot.ly/</a>;</li>
  <li>I copied and pasted the code from the <a href="https://plot.ly/python/getting-started/">‘getting started guide’</a> which takes you threw setting up your plotly credentials etc…</li>
  <li>I ran the matplotlib code <a href="https://plot.ly/matplotlib/">https://plot.ly/matplotlib/</a>. Which if you look carefully basically is just matplotlib code with an added line <code>plot_url = py.plot_mpl(fig)</code>:</li>
</ul>

<div class="highlight"><pre><code class="language-python"><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib.mlab</span> <span class="kn">as</span> <span class="nn">mlab</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">plotly.plotly</span> <span class="kn">as</span> <span class="nn">py</span>

<span class="n">n</span> <span class="o">=</span> <span class="mi">50</span>
<span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">ew</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="n">c</span><span class="p">,</span> <span class="n">ec</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">area_scale</span><span class="p">,</span> <span class="n">width_scale</span> <span class="o">=</span> <span class="mi">500</span><span class="p">,</span> <span class="mi">5</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">sc</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">c</span><span class="p">,</span>
                <span class="n">s</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">square</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">*</span><span class="n">area_scale</span><span class="p">,</span>
                <span class="n">edgecolor</span><span class="o">=</span><span class="n">ec</span><span class="p">,</span>
                <span class="n">linewidth</span><span class="o">=</span><span class="n">ew</span><span class="o">*</span><span class="n">width_scale</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>

<span class="n">plot_url</span> <span class="o">=</span> <span class="n">py</span><span class="o">.</span><span class="n">plot_mpl</span><span class="p">(</span><span class="n">fig</span><span class="p">)</span></code></pre></div>

<p>That code automatically creates the following <a href="https://plot.ly/~drvinceknight/1">plotly plot</a> (which you can edit, zoom in etc…):</p>



<p>By ‘automatically’ I mean: ‘opens up web browser and your plots is there’!!</p>

<p><strong>Doing something of my own</strong></p>

<p>In <a href="http://vincent-knight.com/unpeudemath/code/2014/09/19/the-expected-waiting-time-in-a-tandem-queue-with-blocking-using-sage/">my previous post</a> I wrote about how to use Markov Chains to obtain the expected wait in a tandem qeue.
Here’s a plot I put together that compared the analytical values to simulated values:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/expected_wait.png" alt="" /></p>

<p>The code to obtain that particular plot is below:</p>

<div class="highlight"><pre><code class="language-python"><span class="c"># Libraries</span>
<span class="kn">from</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">import</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="nn">csv</span>
<span class="kn">import</span> <span class="nn">plotly.plotly</span> <span class="kn">as</span> <span class="nn">py</span>

<span class="c"># Get parameters</span>

<span class="n">c1</span>   <span class="o">=</span> <span class="mi">12</span>
<span class="n">N</span>    <span class="o">=</span> <span class="mi">9</span>
<span class="n">c2</span>   <span class="o">=</span> <span class="mi">12</span>
<span class="n">mu_1</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">mu_2</span> <span class="o">=</span> <span class="o">.</span><span class="mi">2</span>
<span class="n">p</span>    <span class="o">=</span> <span class="o">.</span><span class="mi">5</span>

<span class="c"># Read analytical data</span>
<span class="n">analytical_data</span> <span class="o">=</span> <span class="p">[[</span><span class="nb">float</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">row</span><span class="p">]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s">'analytical.csv'</span><span class="p">,</span> <span class="s">'r'</span><span class="p">))]</span>

<span class="c"># Read simulation data</span>
<span class="n">simulation_data</span> <span class="o">=</span> <span class="p">[[</span><span class="nb">float</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">row</span><span class="p">]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s">'simulated.csv'</span><span class="p">,</span> <span class="s">'r'</span><span class="p">))]</span>

<span class="c"># Create the plot</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
<span class="n">x_sim</span> <span class="o">=</span> <span class="p">[</span><span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">simulation_data</span><span class="p">[::</span><span class="mi">10</span><span class="p">]]</span>  <span class="c"># The datasets have more data than I want to plot so skipping some values</span>
<span class="n">y_sim</span> <span class="o">=</span> <span class="p">[</span><span class="n">row</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">simulation_data</span><span class="p">[::</span><span class="mi">10</span><span class="p">]]</span>
<span class="n">ax</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">y_sim</span><span class="p">,</span> <span class="n">positions</span><span class="o">=</span><span class="n">x_sim</span><span class="p">)</span>
<span class="n">x_ana</span> <span class="o">=</span> <span class="p">[</span><span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">analytical_data</span> <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="nb">max</span><span class="p">(</span><span class="n">x_sim</span><span class="p">)]</span>
<span class="n">y_ana</span> <span class="o">=</span> <span class="p">[</span><span class="n">row</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">analytical_data</span><span class="p">[:</span><span class="nb">len</span><span class="p">(</span><span class="n">x_ana</span><span class="p">)]]</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x_ana</span><span class="p">,</span><span class="n">y_ana</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">int</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">x_ana</span><span class="p">)</span> <span class="o">+</span> <span class="nb">max</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">x_ana</span><span class="p">))</span> <span class="o">/</span> <span class="mi">10</span><span class="p">,</span><span class="mi">1</span><span class="p">)),</span> <span class="nb">max</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">x_ana</span><span class="p">))</span> <span class="o">/</span> <span class="mi">10</span><span class="p">,</span><span class="mi">1</span><span class="p">)))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s">'$\Lambda$'</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">'Mean expected wait'</span><span class="p">)</span>
<span class="n">title</span><span class="o">=</span><span class="s">&quot;$c_1=</span><span class="si">%s</span><span class="s">,\; N=</span><span class="si">%s</span><span class="s">,\; c_2=</span><span class="si">%s</span><span class="s">,\;\mu_1=</span><span class="si">%s</span><span class="s">,\; \mu_2=</span><span class="si">%s</span><span class="s">,\; p=</span><span class="si">%s</span><span class="s"> $&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">c1</span><span class="p">,</span> <span class="n">N</span><span class="p">,</span> <span class="n">c1</span><span class="p">,</span> <span class="n">mu_1</span><span class="p">,</span> <span class="n">mu_2</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>

<span class="c"># Save the plot as a pdf file locally</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%s</span><span class="s">-</span><span class="si">%s</span><span class="s">-</span><span class="si">%s</span><span class="s">-</span><span class="si">%s</span><span class="s">-</span><span class="si">%s</span><span class="s">-</span><span class="si">%s</span><span class="s">.pdf&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">c1</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">N</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">c1</span><span class="p">),</span> <span class="n">mu_1</span><span class="p">,</span> <span class="n">mu_2</span><span class="p">,</span> <span class="n">p</span><span class="p">),</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s">'tight'</span><span class="p">)</span>

<span class="c"># THIS IS THE ONLY LINE THAT I HAD TO ADD TO GET THIS UP TO plotly!</span>
<span class="n">plot_url</span> <span class="o">=</span> <span class="n">py</span><span class="o">.</span><span class="n">plot_mpl</span><span class="p">(</span><span class="n">fig</span><span class="p">)</span></code></pre></div>

<p>If you’d like to repeat the above you can download the <a href="http://vincent-knight.com/unpeudemath/assets/data/analytical.csv">analytical</a> and <a href="http://vincent-knight.com/unpeudemath/assets/data/simulated.csv">simulated</a> datafiles.</p>

<p>The result of that can be seen <a href="https://plot.ly/~drvinceknight/2">here</a>:</p>



<p>Further more that is just a ‘thing’ on my plotly profile so you can see it at this url: <a href="https://plot.ly/~drvinceknight/2">https://plot.ly/~drvinceknight/2</a>.</p>

<p><strong>Getting other formats</strong></p>

<p>On that page I can tweak the graph if I wanted to and finally I can just grab the plot in whatever format I want by simply adding the correct format extension to the url:</p>

<ul>
  <li>pdf: <a href="https://plot.ly/~drvinceknight/2.pdf">https://plot.ly/~drvinceknight/2.pdf</a></li>
  <li>png: <a href="https://plot.ly/~drvinceknight/2.png">https://plot.ly/~drvinceknight/2.png</a></li>
  <li>svg: <a href="https://plot.ly/~drvinceknight/2.svg">https://plot.ly/~drvinceknight/2.svg</a></li>
</ul>

<p><strong>My overall thoughts</strong></p>

<p>So right now I’m just kind of excited about the possibilities (too many ideas to coherently filter out the good ones), there are also packages for R so I might try and get my students to play around with it in R when I teach it…</p>

<p>As a research tool, I think this will also be nice (it’s certainly the way to go).
Although recently, I’ve been working remotely with two students and being able to throw a png of a plot in a hangout chat is pretty cool (and mobile friendly).
So maybe that’s something the plotly guys could think about…</p>

<p>At the end of the day: this is an awesome tool. Plotly ‘abstractifies’ plots so that people using different packages/languages can still talk to each other.
One of the big things I’m forgetting to talk about in detail is that there’s a web tool that allows you to change colors, change titles, mess with the data etc.
That’s also a very cool collaborative tool obviously as I can imagine throwing up a plot that a co-author who doesn’t like code could then tweak.</p>

<p>Similarly (if/when) publications start using smarter formats (than things that are restricted by the need to be printed on paper) you could even just embed the plots like I’ve done here (so people could zoom, grab the data etc…).
Here’s another way I could put that:</p>

<p><em>Papers are where plots go to die, they can go to plotly to live…</em></p>

<p>Woops, I’ve started blurting out some ideas… Hopefully they’re good ones.</p>

<p>I look forward to playing around with this tool some more (I need to see how it behaves with a Sage plot…).</p></div>







<p class="date">
<a href="http://drvinceknight.github.io/unpeudemath/code/2014/09/21/my-thoughts-on-plotly/">September 21, 2014 12:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>September 19, 2014</h2>

<div class="channelgroup">







<h3><a href="http://drvinceknight.github.io/unpeudemath/" title="Un peu de math">Vince Knight</a></h3>


<div class="entrygroup" id="http://drvinceknight.github.io/unpeudemath/code/2014/09/19/the-expected-waiting-time-in-a-tandem-queue-with-blocking-using-sage/">
<h4><a href="http://drvinceknight.github.io/unpeudemath/code/2014/09/19/the-expected-waiting-time-in-a-tandem-queue-with-blocking-using-sage/">Calculating the expected wait in a tandem queue with blocking using Sage</a></h4>
<div class="entry">
<div class="content">
<p>In this post I’ll describe a particular mathematical model that I’ve been working on for the purpose of a research paper.
This is actually part of some work that I’ve done with <a href="https://plus.google.com/+JamesCampbell95/posts">+James Campbell</a> an undergraduate who worked with me over the Summer.</p>

<p>Consider the system shown in the picture below:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/tandem_queue.png" alt="" /></p>

<p>This is a system composed of ‘two queues in tandem’ each with a number of servers \(c\) and a service rate \(\mu\).
It is assumed here (as is often the case in queueing theory) that the service rate is exponentially distributed (in effect that the service time is random with mean \(1/\mu\)).</p>

<p>Individuals arrive at the queue with mean arrival rate \(\Lambda\) (once again exponentially distributed).</p>

<p>There is room for up to \(N\) individuals to wait for a free server at the first station.
After their service at the first station is complete, individuals leave the system with probability \(p\), but if they don’t and there is no free place in the next station (ie there are not less than \(c_2\) individuals in the second service center) then they become blocked.</p>

<p>There are a vast array of applications of queueing systems like the above (in particular in the paper we’re working on we’re using it to model a healthcare system).</p>

<p><strong>In this post I’ll describe how to use Markov chains to be able to describe the system and in particular how to get the expected wait for an arrival at the queue.</strong></p>

<p>I have discussed Markov chains before (mainly posts on my old blog) and so I won’t go in to too much detail about the underlying theory (I think this is perhaps a slightly technical post so it is mainly aimed at people familiar with queueing theory but by all means ask in the comments if I can clarify anything).</p>

<p><strong>The state space</strong></p>

<p>One has to think about this carefully as it’s important to keep track not only of where individuals are but whether or not they are blocked.
Based on that one might think of using a 3 dimensional state space: \((i,j,k)\) where \(i\) would denote the number of people at the first station, \(j\) the number at the second and \(k\) the number at the first who are blocked.
This wouldn’t be a terrible idea but we can actually do things in a slightly neater and more compact way:</p>



<p>In the above \(i\) denotes the number of individuals in service or waiting for service at the first station and \(j\) denotes the number of individuals in service at the second station <strong>or</strong> blocked at the first station.</p>

<p>The continuous time transition rates between two states \((i_1,j_1)\) and \((i_2, j_2)\) are given by:</p>



<p>where \(\delta=(i_2,j_2)-(i_1,j_1)\).</p>

<p>Here’s a picture of the Markov Chain for \(N=c_1=c_2=2\):</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/small_chain.png" alt="" /></p>

<p><strong>The steady state probabilities</strong></p>

<p>Using the above we can index our states and keep all the information in a matrix \(Q\), to obtain the steady state distributions of the chain (the probabilities of finding the queue in a given state) we then simply solve the following equation:</p>



<p>subject to \(\sum \pi = 1\).</p>

<p>Here’s how we can do this using <a href="http://sagemath.org/">Sage</a>:</p>

<div class="highlight"><pre><code class="language-python"><span class="k">class</span> <span class="nc">Tandem_Queue</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A class for an instance of the tandem_queue</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">c_1</span><span class="p">,</span> <span class="n">N</span><span class="p">,</span> <span class="n">c_2</span><span class="p">,</span> <span class="n">Lambda</span><span class="p">,</span> <span class="n">mu_1</span><span class="p">,</span> <span class="n">mu_2</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">c_1</span> <span class="o">=</span> <span class="n">c_1</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">c_2</span> <span class="o">=</span> <span class="n">c_2</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">N</span> <span class="o">=</span> <span class="n">N</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Lambda</span> <span class="o">=</span> <span class="n">Lambda</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">mu_1</span> <span class="o">=</span> <span class="n">mu_1</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">mu_2</span> <span class="o">=</span> <span class="n">mu_2</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">p</span> <span class="o">=</span> <span class="n">p</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">m</span> <span class="o">=</span> <span class="n">c_1</span> <span class="o">+</span> <span class="n">c_2</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">n</span> <span class="o">=</span> <span class="n">c_2</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">state_space</span> <span class="o">=</span> <span class="p">[(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">)</span>  <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">c_1</span> <span class="o">+</span> <span class="n">c_2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">c_1</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">N</span> <span class="o">-</span> <span class="nb">max</span><span class="p">(</span><span class="n">j</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">c_2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
            <span class="k">if</span> <span class="n">p</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>  <span class="c"># Reduces state space in particular case of p = 1</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">state_space</span> <span class="o">=</span> <span class="p">[</span><span class="n">state</span> <span class="k">for</span> <span class="n">state</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">state_space</span> <span class="k">if</span> <span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">]</span>
            <span class="n">Q</span> <span class="o">=</span> <span class="p">[[</span><span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="p">(</span><span class="n">state1</span><span class="p">,</span> <span class="n">state2</span><span class="p">)</span> <span class="k">for</span> <span class="n">state2</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">state_space</span><span class="p">]</span> <span class="k">for</span> <span class="n">state1</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">state_space</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Q</span><span class="p">)):</span>
                <span class="n">Q</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span> <span class="nb">sum</span><span class="p">(</span><span class="n">Q</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Q</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="n">Q</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">expected_wait_cache</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">def</span> <span class="nf">q</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state1</span><span class="p">,</span> <span class="n">state2</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Returns the rate of transition between to given states.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">delta</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">vector</span><span class="p">(</span><span class="n">state2</span><span class="p">)</span> <span class="o">-</span> <span class="n">vector</span><span class="p">(</span><span class="n">state1</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">delta</span> <span class="o">==</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Lambda</span>
            <span class="k">if</span> <span class="n">delta</span> <span class="o">==</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]:</span>
                <span class="k">return</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">c_1</span> <span class="o">-</span> <span class="nb">max</span><span class="p">(</span><span class="n">state1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">c_2</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">state1</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">mu_1</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">p</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">delta</span> <span class="o">==</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]:</span>
                <span class="k">return</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">c_1</span> <span class="o">-</span> <span class="nb">max</span><span class="p">(</span><span class="n">state1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">c_2</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">state1</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">mu_1</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">p</span>
            <span class="k">if</span> <span class="n">delta</span> <span class="o">==</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
                <span class="k">return</span> <span class="nb">min</span><span class="p">(</span><span class="n">state1</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">c_2</span><span class="p">)</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">mu_2</span>
            <span class="k">return</span> <span class="mi">0</span>

        <span class="k">def</span> <span class="nf">pi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Solves linear system.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">A</span> <span class="o">=</span> <span class="n">transpose</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Q</span><span class="p">)</span><span class="o">.</span><span class="n">stack</span><span class="p">(</span><span class="n">vector</span><span class="p">([</span><span class="mi">1</span> <span class="k">for</span> <span class="n">state</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">state_space</span><span class="p">]))</span>
            <span class="k">return</span> <span class="n">A</span><span class="o">.</span><span class="n">solve_right</span><span class="p">(</span><span class="n">vector</span><span class="p">([</span><span class="mi">0</span> <span class="k">for</span> <span class="n">state</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">state_space</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="mi">1</span><span class="p">]))</span></code></pre></div>

<p>Most of the above is glorified book keeping but here’s a quick example showing what the above does and how it can be used.
First let’s create an instance of our problem with \(N=c_1=c_2=2\), \(5\mu_2=2p=\mu_1=1\) and \(\Lambda=5\).</p>

<div class="highlight"><pre><code class="language-python"><span class="n">sage</span><span class="p">:</span> <span class="n">small_example</span> <span class="o">=</span> <span class="n">tandem_queue</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">small_example</span><span class="o">.</span><span class="n">Q</span>
<span class="mi">22</span> <span class="n">x</span> <span class="mi">22</span> <span class="n">dense</span> <span class="n">matrix</span> <span class="n">over</span> <span class="n">Rational</span> <span class="n">Field</span> <span class="p">(</span><span class="n">use</span> <span class="n">the</span> <span class="s">'.str()'</span> <span class="n">method</span> <span class="n">to</span> <span class="n">see</span> <span class="n">the</span> <span class="n">entries</span><span class="p">)</span></code></pre></div>

<p>We see that if we return \(Q\) we get a 22 by 22 matrix which if you recall the picture above corresponds to the 22 states in that picture.</p>

<p>We can see the states by just typing:</p>

<div class="highlight"><pre><code class="language-python"><span class="n">sage</span><span class="p">:</span> <span class="n">small_example</span><span class="o">.</span><span class="n">state_space</span>
<span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
 <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span></code></pre></div>

<p>If you check carefully they all correspond to the states of the picture above.</p>

<p>Now what we would like to know is the probability of being in any given state.
To do this we need to solve the matrix equation \(\pi Q = 0\) such that \(\sum \pi=1\).</p>

<p>This is done in Sage (for any matrix <code>Q</code>) using the following:</p>

<div class="highlight"><pre><code class="language-python"><span class="n">sage</span><span class="p">:</span> <span class="n">A</span> <span class="o">=</span> <span class="n">transpose</span><span class="p">(</span><span class="n">Q</span><span class="p">)</span><span class="o">.</span><span class="n">stack</span><span class="p">(</span><span class="n">vector</span><span class="p">([</span><span class="mi">1</span> <span class="k">for</span> <span class="n">state</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">state_space</span><span class="p">]))</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">A</span><span class="o">.</span><span class="n">solve_right</span><span class="p">(</span><span class="n">vector</span><span class="p">([</span><span class="mi">0</span> <span class="k">for</span> <span class="n">state</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">state_space</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="mi">1</span><span class="p">]))</span></code></pre></div>

<p>There we build a matrix <code>A</code> with an added column of 1s and then solve the corresponding equation using <code>solve_right</code> (note that we transposed the matrix).
If you look at the class definition this was all defined earlier so we can in fact just run:</p>

<div class="highlight"><pre><code class="language-python"><span class="n">sage</span><span class="p">:</span> <span class="n">small_example</span><span class="o">.</span><span class="n">pi</span><span class="p">()</span>
<span class="p">(</span><span class="mi">974420487508335328592</span><span class="o">/</span><span class="mi">55207801002325145206717477</span><span class="p">,</span> <span class="mi">6717141852060739142960</span><span class="o">/</span><span class="mi">55207801002325145206717477</span><span class="p">,</span> <span class="mi">25263720112088475982400</span><span class="o">/</span><span class="mi">55207801002325145206717477</span><span class="p">,</span> <span class="mi">107693117265184715581000</span><span class="o">/</span><span class="mi">55207801002325145206717477</span><span class="p">,</span> <span class="mi">499825193288571759140000</span><span class="o">/</span><span class="mi">55207801002325145206717477</span><span class="p">,</span> <span class="mi">7567657557556535357400</span><span class="o">/</span><span class="mi">55207801002325145206717477</span><span class="p">,</span> <span class="mi">50835142813671411162000</span><span class="o">/</span><span class="mi">55207801002325145206717477</span><span class="p">,</span> <span class="mi">177836071295654602905000</span><span class="o">/</span><span class="mi">55207801002325145206717477</span><span class="p">,</span> <span class="mi">638540135036394350075000</span><span class="o">/</span><span class="mi">55207801002325145206717477</span><span class="p">,</span> <span class="mi">2305924001256099701875000</span><span class="o">/</span><span class="mi">55207801002325145206717477</span><span class="p">,</span> <span class="mi">26439192416069771765000</span><span class="o">/</span><span class="mi">55207801002325145206717477</span><span class="p">,</span> <span class="mi">185599515623092483825000</span><span class="o">/</span><span class="mi">55207801002325145206717477</span><span class="p">,</span> <span class="mi">700026867396942548625000</span><span class="o">/</span><span class="mi">55207801002325145206717477</span><span class="p">,</span> <span class="mi">2256398553097737112500000</span><span class="o">/</span><span class="mi">55207801002325145206717477</span><span class="p">,</span> <span class="mi">4700830318953618984375000</span><span class="o">/</span><span class="mi">55207801002325145206717477</span><span class="p">,</span> <span class="mi">61385774570987050093750</span><span class="o">/</span><span class="mi">55207801002325145206717477</span><span class="p">,</span> <span class="mi">444444998037114715312500</span><span class="o">/</span><span class="mi">55207801002325145206717477</span><span class="p">,</span> <span class="mi">3393156381219452445312500</span><span class="o">/</span><span class="mi">55207801002325145206717477</span><span class="p">,</span> <span class="mi">15476151589322058007812500</span><span class="o">/</span><span class="mi">55207801002325145206717477</span><span class="p">,</span> <span class="mi">41152314633066177343750</span><span class="o">/</span><span class="mi">55207801002325145206717477</span><span class="p">,</span> <span class="mi">352285141439825390625000</span><span class="o">/</span><span class="mi">55207801002325145206717477</span><span class="p">,</span> <span class="mi">1826827211896183837890625</span><span class="o">/</span><span class="mi">4246753923255780400516729</span><span class="p">)</span></code></pre></div>

<p>That’s not super helpful displayed like that (all the arithmetic is being done exactly) so here’s a quick plot of the probabilities:</p>

<div class="highlight"><pre><code class="language-python"><span class="n">sage</span><span class="p">:</span> <span class="n">p</span> <span class="o">=</span> <span class="n">list_plot</span><span class="p">(</span><span class="n">small_example</span><span class="o">.</span><span class="n">pi</span><span class="p">(),</span> <span class="n">axes_labels</span> <span class="o">=</span> <span class="p">[</span><span class="s">'State'</span><span class="p">,</span> <span class="s">'Probability'</span><span class="p">])</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">p</span></code></pre></div>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/steady_state_probabilities_for_tandem_queue.png" alt="" /></p>

<p>That plot could be made a lot prettier an informative (by for example using the names of the states as xticks) but it will do for now.
We can see from there for example that the most probable state of our queue (with the parameters we picked) is to be in the last state (see list above) which is \((2,4)\).</p>

<p>Out of interest here’s a plot when we change $\Lambda=1/2$ (a tenth of what we did above):</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/steady_state_probabilities_for_tandem_queue_with_less_demand.png" alt="" /></p>

<p>We see that now the most probable state is the sixth state (Python/Sage indexing starts at 0), which corresponds to \((0,1)\).</p>

<p>Here’s an animated plot of the steady state distribution for a larger system as \(\Lambda\) increases, displayed in a more informative way (the two dimensions corresponding to \(i\) and \(j\)):</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/markov_chain.gif" alt="" /></p>

<p>All of that is very nice and interesting but where things get very useful is when trying to calculate the mean time one would expect to wait in a queue.</p>

<p><strong>Mean expected wait in the queue</strong></p>

<p>If we consider all states \((i,j)\in S\) only a subset of them will actually imply a wait:</p>

<ul>
  <li>If there are less than \(c_1\) individuals in the first station then anyone who arrives has direct access to a server;</li>
  <li>If there are more than \(N+c_1\) individuals in the first station then anyone who arrives will be lost to the system.</li>
</ul>

<p>With a little bit of thought (recalling what the \(i\)s and \(j\)s represent) we see that the states that incur a wait are given by:</p>



<p>Now if we know the expected wait when arriving in any state \((i,j) \in S_A\) we can get the mean wait as:</p>



<p>where \(w(i,j)\) denotes the expected time spent in any given state \((i,j)\).
We are in essence, summing over arrivals that will have a wait and dividing by the probability of an individual not being lost to the system, which happens when \(i + \max(j - c_2, 0) &lt; c_1 + N\).</p>

<p>Obtaining \(c(i,j)\) is relatively simple.
We consider the ‘almost’ same Markov chain as above (except that we ignore arrivals).
In this instance a jump from one step to another will only occur if a service occurs at the first station (with rate \(\min(c_1-\max(j-c_2,0),i)\mu_1\)) or if a service at the second station (with rate \(\min(c_2, j)\mu_2\)).</p>

<p>So the mean time spent in state \((i,j)\) is the inverse of the total exit rate:</p>



<p>Using that notion we are in effect discretizing the ‘ignore arrivals’ Markov chain.
Once a transition occurs we can obtain the probability of where the service occurs:</p>

<ul>
  <li>The probability of the service being at the first station:</li>
</ul>



<ul>
  <li>The probability of the service being at the second station:</li>
</ul>



<p>We can use all of the above to put together a nice recursive formula for the expected wait \(w(i,j)\) in terms of the expected wait of states that are in effect getting closer and closer to having no wait:</p>



<p>where \(A\), is the set of states with no wait: \(i+\max(j-c_2,0) &lt; c_1\)</p>

<p>Using the recursive formula is actually very easy to implement in code (we use a dictionary to cache calculated values to not make sure we don’t waste any time).</p>

<p>Here is a reduced version of the methods that need to be added to above to get this to work in Sage (you need to add <code>self.expected_wait_cache = {}</code> to the <code>__init__</code> method):</p>

<div class="highlight"><pre><code class="language-python"><span class="k">def</span> <span class="nf">_pi_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Obtain a dictionary which indexes the states.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pi_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pi</span><span class="p">()</span>
        <span class="k">return</span> <span class="p">{</span><span class="n">state</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">pi_list</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">state</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">state_space</span><span class="p">)}</span>

    <span class="k">def</span> <span class="nf">p_service_1</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the discretized probability of a service occurring at first station</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">p</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">c_1</span> <span class="o">-</span> <span class="nb">max</span><span class="p">(</span><span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">c_2</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">state</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">mu_1</span> <span class="o">/</span> <span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">c_1</span> <span class="o">-</span> <span class="nb">max</span><span class="p">(</span><span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">c_2</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">state</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">mu_1</span> <span class="o">+</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">c_2</span><span class="p">,</span> <span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">mu_2</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">p_service_2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the discretized probability of a service occurring at second station</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">p</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">return</span>  <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">c_2</span><span class="p">,</span> <span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">mu_2</span> <span class="o">/</span> <span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">c_1</span> <span class="o">-</span> <span class="nb">max</span><span class="p">(</span><span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">c_2</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">state</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">mu_1</span> <span class="o">+</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">c_2</span><span class="p">,</span> <span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">mu_2</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">mean_time_in_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the mean time in any given state before a transition occurs</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span>  <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">c_1</span> <span class="o">-</span> <span class="nb">max</span><span class="p">(</span><span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">c_2</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">state</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">mu_1</span> <span class="o">+</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">c_2</span><span class="p">,</span> <span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">mu_2</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">expected_wait</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Function that returns the expected time till absorption for a given state</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">state</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">expected_wait_cache</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">expected_wait_cache</span><span class="p">[</span><span class="n">state</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">state</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">state_space</span><span class="p">:</span>  <span class="c"># If state outside of boundary. (Might not need this after new conditions below)</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">state</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="nb">max</span><span class="p">(</span><span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">c_2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">c_1</span><span class="p">:</span>  <span class="c"># If absorbing state</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">expected_wait_cache</span><span class="p">[</span><span class="n">state</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">expected_wait_cache</span><span class="p">[</span><span class="n">state</span><span class="p">]</span> <span class="o">=</span>  <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mean_time_in_state</span><span class="p">(</span><span class="n">state</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">p</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">p_service_1</span><span class="p">(</span><span class="n">state</span><span class="p">)</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">expected_wait</span><span class="p">((</span><span class="n">state</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">])))</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">state</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">state_space</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">expected_wait_cache</span><span class="p">[</span><span class="n">state</span><span class="p">]</span> <span class="o">+=</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">p</span><span class="p">)</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">p_service_1</span><span class="p">(</span><span class="n">state</span><span class="p">)</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">expected_wait</span><span class="p">((</span><span class="n">state</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">state</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">state_space</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">expected_wait_cache</span><span class="p">[</span><span class="n">state</span><span class="p">]</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">p_service_2</span><span class="p">(</span><span class="n">state</span><span class="p">)</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">expected_wait</span><span class="p">((</span><span class="n">state</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">expected_wait_cache</span><span class="p">[</span><span class="n">state</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">mean_expected_wait</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the mean wait</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pi_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pi_dict</span><span class="p">()</span>
        <span class="n">accepting_states</span> <span class="o">=</span> <span class="p">[</span><span class="n">state</span> <span class="k">for</span> <span class="n">state</span> <span class="ow">in</span> <span class="p">[</span><span class="n">s</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">state_space</span> <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="nb">max</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">c_2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">c_1</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">N</span><span class="p">]]</span>
        <span class="n">prob_of_accepting</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">pi_dict</span><span class="p">[</span><span class="n">state</span><span class="p">]</span> <span class="k">for</span> <span class="n">state</span> <span class="ow">in</span> <span class="n">accepting_states</span><span class="p">])</span>
        <span class="k">return</span> <span class="nb">sum</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">expected_wait</span><span class="p">(</span><span class="n">state</span><span class="p">)</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">pi_dict</span><span class="p">[</span><span class="n">state</span><span class="p">]</span> <span class="k">for</span> <span class="n">state</span> <span class="ow">in</span> <span class="n">accepting_states</span><span class="p">])</span> <span class="o">/</span> <span class="n">prob_of_accepting</span></code></pre></div>

<p>Using all of the above we can get the expected wait for our system:</p>

<div class="highlight"><pre><code class="language-python"><span class="n">sage</span><span class="p">:</span> <span class="n">small_example</span> <span class="o">=</span> <span class="n">Tandem_Queue</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">small_example</span><span class="o">.</span><span class="n">mean_expected_wait</span><span class="p">()</span>
<span class="mi">60279471210745371</span><span class="o">/</span><span class="mi">50645610005072978</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">n</span><span class="p">(</span><span class="n">_</span><span class="p">)</span>
<span class="mf">1.19022105182873</span></code></pre></div>

<p>Below is a plot showing the effect on the mean wait as demand increases in the plot below for a large system:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/expected_wait.png" alt="" /></p>

<p>What that plot shows is the calculated values (solid blue) line going through box plots of the simulated value.
Perhaps in another blog post some day I’ll write about how to simulate the above but I think that’s probability sufficient for now.</p>

<p>If it’s of interest all of the above code can be downloaded <a href="http://vincent-knight.com/unpeudemath/assets/code/the-expected-waiting-time-in-a-tandem-queue-with-blocking-using-sage.sage">here</a> or at this <a href="https://gist.github.com/drvinceknight/35ddd99fc25053d730cd">gist</a>.</p></div>







<p class="date">
<a href="http://drvinceknight.github.io/unpeudemath/code/2014/09/19/the-expected-waiting-time-in-a-tandem-queue-with-blocking-using-sage/">September 19, 2014 12:00 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>August 27, 2014</h2>

<div class="channelgroup">







<h3><a href="http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/" title="Sébastien Labbé">Sébastien Labbé</a></h3>


<div class="entrygroup" id="http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/2014/08/slabbe-0.1.spkg-released" lang="en">
<h4><a href="http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/2014/08/slabbe-0.1.spkg-released">slabbe-0.1.spkg released</a></h4>
<div class="entry">
<div class="content">
<div class="document">
<p>These is a summary of the functionalities present in <a class="reference external" href="http://www.liafa.univ-paris-diderot.fr/~labbe/Sage">slabbe-0.1</a> optional Sage
package. It depends on version 6.3 of Sage because it uses
<a class="reference external" href="http://www.sagemath.org/doc/reference/structure/sage/sets/recursively_enumerated_set.html">RecursivelyEnumeratedSet</a> code that was merged in 6.3.  It contains modules
on digital geometry, combinatorics on words and more.</p>
<p>Install the optional spkg (depends on sage-6.3):</p>


<div class="pygments_manni"><pre>sage -i http://www.liafa.univ-paris-diderot.fr/~labbe/Sage/slabbe-0.1.spkg
</pre></div>



<p>In each of the example below, you first have to import the module once and for
all:</p>


<div class="pygments_manni"><pre>sage: from slabbe import *
</pre></div>



<p>To construct the image below, make sure to use tikz package so that <tt class="docutils literal">view</tt> is
able to compile tikz code when called:</p>


<div class="pygments_manni"><pre>sage: latex.add_to_preamble(&quot;\\usepackage{tikz}&quot;)
sage: latex.extra_preamble()
'\\usepackage{tikz}'
</pre></div>



<div class="section" id="draw-the-part-of-a-discrete-plane">
<h1>Draw the part of a discrete plane</h1>


<div class="pygments_manni"><pre>sage: p = DiscretePlane([1,pi,7], 1+pi+7, mu=0)
sage: d = DiscreteTube([-5,5],[-5,5])
sage: I = p &amp; d
sage: I
Intersection of the following objects:
Set of points x in ZZ^3 satisfying: 0 &lt;= (1, pi, 7) . x + 0 &lt; pi + 8
DiscreteTube: Preimage of [-5, 5] x [-5, 5] by a 2 by 3 matrix
sage: clip = d.clip()
sage: tikz = I.tikz(clip=clip)
sage: view(tikz, tightpage=True)
</pre></div>



<a class="reference external image-reference" href="http://www.liafa.univ-paris-diderot.fr/~labbe/Files/2014/discreteplane1pi7.png"><img alt="/~labbe/Files/2014/discreteplane1pi7.png" src="http://www.liafa.univ-paris-diderot.fr/~labbe/Files/2014/discreteplane1pi7.png" /></a>
</div>
<div class="section" id="draw-the-part-of-a-discrete-line">
<h1>Draw the part of a discrete line</h1>


<div class="pygments_manni"><pre>sage: L = DiscreteLine([-2,3], 5)
sage: b = DiscreteBox([0,10], [0,10])
sage: I = L &amp; b
sage: I
Intersection of the following objects:
Set of points x in ZZ^2 satisfying: 0 &lt;= (-2, 3) . x + 0 &lt; 5
[0, 10] x [0, 10]
sage: I.plot()
</pre></div>



<a class="reference external image-reference" href="http://www.liafa.univ-paris-diderot.fr/~labbe/Files/2014/discreteline23.png"><img alt="/~labbe/Files/2014/discreteline23.png" src="http://www.liafa.univ-paris-diderot.fr/~labbe/Files/2014/discreteline23.png" /></a>
</div>
<div class="section" id="double-square-tiles">
<h1>Double square tiles</h1>
<p>This module was developped for the article on the combinatorial properties of
double square tiles written with Ariane Garon and Alexandre Blondin Massé
<a class="citation-reference" href="http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/2014/08/slabbe-0.1.spkg-released#bgl2012" id="id3">[BGL2012]</a>. The original version of the code was written with Alexandre.</p>


<div class="pygments_manni"><pre>sage: D = DoubleSquare((34,21,34,21))
sage: D
Double Square Tile
  w0 = 3032321232303010303230301012101030   w4 = 1210103010121232121012123230323212
  w1 = 323030103032321232303                w5 = 101212321210103010121
  w2 = 2321210121232303232123230301030323   w6 = 0103032303010121010301012123212101
  w3 = 212323032321210121232                w7 = 030101210103032303010
(|w0|, |w1|, |w2|, |w3|) = (34, 21, 34, 21)
(d0, d1, d2, d3)         = (42, 68, 42, 68)
(n0, n1, n2, n3)         = (0, 0, 0, 0)
sage: D.plot()
</pre></div>



<a class="reference external image-reference" href="http://www.liafa.univ-paris-diderot.fr/~labbe/Files/2014/fibo2.png"><img alt="/~labbe/Files/2014/fibo2.png" src="http://www.liafa.univ-paris-diderot.fr/~labbe/Files/2014/fibo2.png" /></a>


<div class="pygments_manni"><pre>sage: D.extend(0).extend(1).plot()
</pre></div>



<a class="reference external image-reference" href="http://www.liafa.univ-paris-diderot.fr/~labbe/Files/2014/fibo2extend0extend1.png"><img alt="/~labbe/Files/2014/fibo2extend0extend1.png" src="http://www.liafa.univ-paris-diderot.fr/~labbe/Files/2014/fibo2extend0extend1.png" /></a>
<p>We have shown that using two invertible operations (called SWAP and TRIM),
every double square tiles can be reduced to the unit square:</p>


<div class="pygments_manni"><pre>sage: D.plot_reduction()
</pre></div>



<a class="reference external image-reference" href="http://www.liafa.univ-paris-diderot.fr/~labbe/Files/2014/fibo2reduction.png"><img alt="/~labbe/Files/2014/fibo2reduction.png" src="http://www.liafa.univ-paris-diderot.fr/~labbe/Files/2014/fibo2reduction.png" /></a>
<p>The reduction operations are:</p>


<div class="pygments_manni"><pre>sage: D.reduction()
['SWAP_1', 'TRIM_1', 'TRIM_3', 'SWAP_1', 'TRIM_1', 'TRIM_3', 'TRIM_0', 'TRIM_2']
</pre></div>



<p>The result of the reduction is the unit square:</p>


<div class="pygments_manni"><pre>sage: unit_square = D.apply(D.reduction())
sage: unit_square
Double Square Tile
  w0 =     w4 =
  w1 = 3   w5 = 1
  w2 =     w6 =
  w3 = 2   w7 = 0
(|w0|, |w1|, |w2|, |w3|) = (0, 1, 0, 1)
(d0, d1, d2, d3)         = (2, 0, 2, 0)
(n0, n1, n2, n3)         = (0, NaN, 0, NaN)
sage: unit_square.plot()
</pre></div>



<a class="reference external image-reference" href="http://www.liafa.univ-paris-diderot.fr/~labbe/Files/2014/unit_square.png"><img alt="/~labbe/Files/2014/unit_square.png" src="http://www.liafa.univ-paris-diderot.fr/~labbe/Files/2014/unit_square.png" /></a>
<p>Since SWAP and TRIM are invertible operations, we can recover every double
square from the unit square:</p>


<div class="pygments_manni"><pre>sage: E = unit_square.extend(2).extend(0).extend(3).extend(1).swap(1).extend(3).extend(1).swap(1)
sage: D == E
True
</pre></div>



</div>
<div class="section" id="christoffel-graphs">
<h1>Christoffel graphs</h1>
<p>This module was developped for the article on a d-dimensional extension of
Christoffel Words written with Christophe Reutenauer <a class="citation-reference" href="http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/2014/08/slabbe-0.1.spkg-released#lr2014" id="id5">[LR2014]</a>.</p>


<div class="pygments_manni"><pre>sage: G = ChristoffelGraph((6,10,15))
sage: G
Christoffel set of edges for normal vector v=(6, 10, 15)
sage: tikz = G.tikz_kernel()
sage: view(tikz, tightpage=True)
</pre></div>



<a class="reference external image-reference" href="http://www.liafa.univ-paris-diderot.fr/~labbe/Files/2014/christoffelgraph6_10_15.png"><img alt="/~labbe/Files/2014/christoffelgraph6_10_15.png" src="http://www.liafa.univ-paris-diderot.fr/~labbe/Files/2014/christoffelgraph6_10_15.png" /></a>
</div>
<div class="section" id="bispecial-extension-types">
<h1>Bispecial extension types</h1>
<p>This module was developped for the article on the factor complexity of
infinite sequences genereated by substitutions written with Valérie Berthé
<a class="citation-reference" href="http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/2014/08/slabbe-0.1.spkg-released#bl2014" id="id7">[BL2014]</a>.</p>
<p>The extension type of an ordinary bispecial factor:</p>


<div class="pygments_manni"><pre>sage: L = [(1,3), (2,3), (3,1), (3,2), (3,3)]
sage: E = ExtensionType1to1(L, alphabet=(1,2,3))
sage: E
  E(w)   1   2   3
   1             X
   2             X
   3     X   X   X
 m(w)=0, ordinary
sage: E.is_ordinaire()
True
</pre></div>



<p>Creation of a strong-weak pair of bispecial words from a neutral
<strong>not ordinaire</strong> word:</p>


<div class="pygments_manni"><pre>sage: p23 = WordMorphism({1:[1,2,3],2:[2,3],3:[3]})
sage: e = ExtensionType1to1([(1,2),(2,3),(3,1),(3,2),(3,3)], [1,2,3])
sage: e
  E(w)   1   2   3
   1         X
   2             X
   3     X   X   X
 m(w)=0, not ord.
sage: A,B = e.apply(p23)
sage: A
  E(3w)   1   2   3
    1
    2         X   X
    3     X   X   X
 m(w)=1, not ord.
sage: B
  E(23w)   1   2   3
    1          X
    2
    3              X
 m(w)=-1, not ord.
</pre></div>



</div>
<div class="section" id="fast-kolakoski-word">
<h1>Fast Kolakoski word</h1>
<p>This module was written for fun. It uses cython implementation inspired from
the 10 lines of C code written by Dominique Bernardi and shared during Sage
Days 28 in Orsay, France, in January 2011.</p>


<div class="pygments_manni"><pre>sage: K = KolakoskiWord()
sage: K
word: 1221121221221121122121121221121121221221...
sage: %time K[10^5]
CPU times: user 1.56 ms, sys: 7 µs, total: 1.57 ms
Wall time: 1.57 ms
1
sage: %time K[10^6]
CPU times: user 15.8 ms, sys: 30 µs, total: 15.8 ms
Wall time: 15.9 ms
2
sage: %time K[10^8]
CPU times: user 1.58 s, sys: 2.28 ms, total: 1.58 s
Wall time: 1.59 s
1
sage: %time K[10^9]
CPU times: user 15.8 s, sys: 12.4 ms, total: 15.9 s
Wall time: 15.9 s
1
</pre></div>



<p>This is much faster than the Python implementation available in Sage:</p>


<div class="pygments_manni"><pre>sage: K = words.KolakoskiWord()
sage: %time K[10^5]
CPU times: user 779 ms, sys: 25.9 ms, total: 805 ms
Wall time: 802 ms
1
</pre></div>



</div>
<div class="section" id="references">
<h1>References</h1>
<table class="docutils citation" frame="void" id="bgl2012" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/2014/08/slabbe-0.1.spkg-released#id3">[BGL2012]</a></td><td>A. Blondin Massé, A. Garon, S. Labbé, Combinatorial properties
of double square tiles, <em>Theoretical Computer Science</em> 502 (2013) 98-117.
<a class="reference external" href="http://dx.doi.org/10.1016/j.tcs.2012.10.040">doi:10.1016/j.tcs.2012.10.040</a></td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="lr2014" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/2014/08/slabbe-0.1.spkg-released#id5">[LR2014]</a></td><td>Labbé, Sébastien, and Christophe Reutenauer. A d-dimensional Extension of
Christoffel Words. <a class="reference external" href="http://arxiv.org/abs/1404.4021">arXiv:1404.4021</a> (April 15, 2014).</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="bl2014" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/2014/08/slabbe-0.1.spkg-released#id7">[BL2014]</a></td><td>V. Berthé, S. Labbé, Factor Complexity of S-adic sequences
generated by the Arnoux-Rauzy-Poincaré Algorithm. <a class="reference external" href="http://arxiv.org/abs/1404.4189">arXiv:1404.4189</a> (April, 2014).</td></tr>
</tbody>
</table>
</div>
</div></div>







<p class="date">
<a href="http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/2014/08/slabbe-0.1.spkg-released">by Sébastien Labbé at August 27, 2014 04:53 PM</a>
</p>
</div>
</div>




<div class="entrygroup" id="http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/2014/08/releasing-slabbe-my-own-sage-package" lang="en">
<h4><a href="http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/2014/08/releasing-slabbe-my-own-sage-package">Releasing slabbe, my own Sage package</a></h4>
<div class="entry">
<div class="content">
<div class="document">
<p>Since two years I wrote thousands of line of private code for my own research.
Each module having between 500 and 2000 lines of code. The code which is the
more clean corresponds to code written in conjunction with research articles.
People who know me know that I systematically put docstrings and doctests in my
code to facilitate reuse of the code by myself, but also in the idea of sharing
it and eventually making it public.</p>
<p>I did not made that code into Sage because it was not mature enough. Also, when
I tried to make a complete module go into Sage (see <a class="reference external" href="http://trac.sagemath.org/ticket/13069">#13069</a> and <a class="reference external" href="http://trac.sagemath.org/ticket/13346">#13346</a>),
then the monstrous never evolving <a class="reference external" href="http://trac.sagemath.org/ticket/12224">#12224</a> became a dependency of the first
and the second was unofficially reviewed asking me to split it into smaller
chunks to make the review process easier. I never did it because I spent
already too much time on it (making a module 100% doctested takes time). Also,
the module was corresponding to a published article and I wanted to leave it
just like that.</p>
<p><strong>Getting new modules into Sage is hard</strong></p>
<p>In general, the introduction of a complete new module into Sage is hard
especially for beginners. Here are two examples I feel responsible for:
<a class="reference external" href="http://trac.sagemath.org/ticket/10519">#10519</a> is 4 years old and counting, the author <a class="reference external" href="http://trac.sagemath.org/ticket/10519#comment:67">has a new work and
responsabilities</a>; in <a class="reference external" href="http://trac.sagemath.org/ticket/12996">#12996</a>, the author was decouraged by the amount of
work given by the reviewers. There is a lot of things a beginner has to
consider to obtain a positive review. And even for a more advanced developper,
other difficulties arise. Indeed, a module introduces a lot of new functions
and it may also introduce a lot of new bugs... and Sage developpers are
sometimes reluctant to give it a positive review. And if it finally gets a
positive review, it is not available easily to normal users of Sage until the
next release of Sage.</p>
<p><strong>Releasing my own Sage package</strong></p>
<p>Still I felt the need around me to make my code public. But how? There are
people (a few of course but I know there are) who are interested in reproducing
computations and images done in my articles. This is why I came to the idea of
releasing my own Sage package containing my public research code. This way both
developpers and colleagues that are user of Sage but not developpers will be
able to install and use my code. This will make people more aware if there is
something useful in a module for them. And if one day, somebody tells me: &quot;this
should be in Sage&quot;, then I will be able to say : &quot;I agree! Do you want to
review it?&quot;.</p>
<p><strong>Old style Sage package</strong> vs <strong>New sytle git Sage package</strong></p>
<p>Then I had to chose between the old and the new style for Sage packages. I did
not like the new style, because</p>
<blockquote>
<ul class="simple">
<li>I wanted the history of my package to be independant of the history of Sage,</li>
<li>I wanted it to be as easy to install as <tt class="docutils literal">sage <span class="pre">-i</span> slabbe</tt>,</li>
<li>I wanted it to work on any recent enough version of Sage,</li>
<li>I wanted to be able to release a new version, give it to a colleague who
could install it right away without changing its own Sage (i.e., updating
the checksums).</li>
</ul>
</blockquote>
<p>Therefore, I choose the old style. I based my work on other optional Sage
packages, namely the <a class="reference external" href="http://sagemanifolds.obspm.fr/">SageManifolds</a> spkg and the <a class="reference external" href="http://www.risc.jku.at/research/combinat/risc/software/ore_algebra/index.php">ore_algebra</a> spkg.</p>
<p><strong>Content of the initial version</strong></p>
<p>The initial version of the slabbe Sage package has modules concerning four
topics: <em>Digital geometry</em>, <em>Combinatorics on words</em>, <em>Combinatorics</em> and
<em>Python class inheritance</em>.</p>
<a class="reference external image-reference" href="http://www.liafa.univ-paris-diderot.fr/~labbe/Files/2014/slabbe_content.png"><img alt="/~labbe/Files/2014/slabbe_content.png" src="http://www.liafa.univ-paris-diderot.fr/~labbe/Files/2014/slabbe_content.png" /></a>
<p>For installation or for release notes of the initial version of the spkg,
consult the slabbe spkg section of the <a class="reference external" href="http://www.liafa.univ-paris-diderot.fr/~labbe/Sage">Sage</a> page of this website.</p>
</div></div>







<p class="date">
<a href="http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/2014/08/releasing-slabbe-my-own-sage-package">by Sébastien Labbé at August 27, 2014 04:48 PM</a>
</p>
</div>
</div>



</div>
<div class="channelgroup">







<h3><a href="http://sagemath.blogspot.com/" title="Sage: Open Source Mathematics Software">William Stein</a></h3>


<div class="entrygroup" id="tag:blogger.com,1999:blog-6365588202025292315.post-5041553718036647954">
<h4><a href="http://sagemath.blogspot.com/2014/08/what-is-sagemathcloud-lets-clear-some.html">What is SageMathCloud: let's clear some things up</a></h4>
<div class="entry">
<div class="content">
<span>[PDF version of this blog post]</span><br /><blockquote><i>"You will have to close source and commercialize Sage. It's inevitable."</i> -- Michael Monagan, cofounder of Maple, told me this in 2006.</blockquote><a href="https://cloud.sagemath.com/" target="_blank">SageMathCloud (SMC) </a>is a website that I first launched in April 2013, through which you can use Sage and all other open source math software online, edit Latex documents, IPython notebooks, Sage worksheets, track your todo items, and many other types of documents. You can write, compile, and run code in most programming languages, and use a color command line terminal. There is realtime collaboration on everything through shared projects, terminals, etc. Each project comes with a default quota of 5GB disk space and 8GB of RAM.<br /><br /><a href="https://cloud.sagemath.com/" target="_blank">SMC</a> is fun to use, pretty to look at, frequently backs up your work in many ways, is fault tolerant, encourages collaboration, and provides a web-based way to use standard command-line tools.<br /><br /><h3 id="the-relationship-with-the-sagemath-software">The Relationship with the <a href="http://sagemath.org/">SageMath Software</a></h3>The goal of the SageMath software project, which I founded in 2005, is to create a viable free open source alternative to Magma, Mathematica, Maple, and Matlab. <a href="https://cloud.sagemath.com/" target="_blank">SMC</a> is <strong>not</strong> mathematics software -- instead, <a href="https://cloud.sagemath.com/" target="_blank">SMC </a>is best viewed by analogy as a browser-based version of a Linux desktop environment like KDE or Gnome. The vast majority of the code we write for <a href="https://cloud.sagemath.com/" target="_blank">SMC</a> involves text editor issues (problems similar to those confronted by Emacs or Vim), personal information management, support for editing LaTeX documents, terminals, file management, etc. There is almost no mathematics involved at all.<br /><br />That said, the main software <em>I</em> use is Sage, so of course support for Sage is a primary focus. <a href="https://cloud.sagemath.com/" target="_blank">SMC</a> is a software environment that is being optimized for its users, who are mostly college students and teachers who use Sage (or Python) in conjunction with their courses. A big motivation for the existence of <a href="https://cloud.sagemath.com/" target="_blank">SMC</a> is to make Sage much more accessible, since growth of Sage has stagnated since 2011, with the number one show-stopper obstruction being the difficulty of students installing Sage.<br /><h4 id="sage-is-failing">Sage is Failing</h4>Measured by the mission statement, Sage has overall failed. The core goal is to provide similar functionality to Magma (and the other Ma's) across the board, and the Sage development model and community has failed to do this across the board, since after 9 years, based on our current progress, we will never get there. There are numerous core areas of research mathematics that I'm personally familiar with (in arithmetic geometry), where Sage has barely moved in years and Sage does only a few percent of what Magma does. Unless there is a viable plan for the areas to <strong>all</strong> be systematically addressed in a reasonable timeframe, not just with arithmetic geometry in Magma, but with everything in Mathematica, Maple., etc, we are definitely failing at the main goal I have for the Sage math software project.<br /><br />I have absolutely no doubt that money combined with good planning and management would make it possible to achieve our mission statement. I've seen this hundreds of times over at a small scale at Sage Days workshops during the last decade. And let's not forget that with very substantial funding, Linux now provides a viable free open source alternative to Microsoft Windows. Just providing Sage developers with travel expenses (and 0 salary) is enough to get a huge amount done, when possible. But all my attempts with foundations and other clients to get any <em>significant</em> funding, at even the level of 1% of the funding that Mathematica gets each year, has failed. For the life of the Sage project, we've never got more than maybe 0.1% of what Mathematica gets in revenue. It's just a fact that the mathematics community provides Mathematica $50+ million a year, enough to fund over 600 fulltime positions, and they won't provide enough to fund one single Sage developer fulltime.<br /><br />But the Sage mission statement remains, and even if everybody else in the world gives up on it, <strong>I HAVE NOT</strong>. <a href="https://cloud.sagemath.com/" target="_blank">SMC </a>is my last ditch strategy to provide resources and visibility so we can succeed at this goal and give the world a viable free open source alternative to the Ma's. I wish I were writing interesting mathematical software, but I'm not, because I'm sucking it up and playing the long game.<br /><br /><h3 id="the-users-of-smc">The Users of <a href="https://cloud.sagemath.com/" target="_blank">SMC</a></h3>During the last academic year (e.g., April 2014) there were about 20K "monthly active users" (as defined by Google Analytics), 6K weekly active users, and usually around 300 simultaneous connected users. The summer months have been slower, due to less teaching.<br /><br />Numerically most users are undergraduate students in courses, who are asked to use <a href="https://cloud.sagemath.com/" target="_blank">SMC</a> in conjunction with a course. There's also quite a bit of usage of <a href="https://cloud.sagemath.com/" target="_blank">SMC</a> by people doing research in mathematics, statistics, economics, etc. -- pretty much all computational sciences. Very roughly, people create Sage worksheets, IPython notebooks, and Latex documents in somewhat equal proportions.<br /><h3 id="what-smc-runs-on">What <a href="https://cloud.sagemath.com/" target="_blank">SMC</a> runs on</h3>Technically, SMC is a multi-datacenter web application without specific dependencies on particular cloud provider functionality. In particular, we use the Cassandra database, and custom backend services written in Node.js (about 15,000 lines of backend code). We also use Amazon's Route 53 service for geographically aware DNS. There are two racks containing dedicated computers on opposites sides of campus at University of Washington with 19 total machines, each with about 1TB SSD, 4TB+ HDD, and 96GB RAM. We also have dozens of VM's running at 2 Google data centers to the east.<br /><br />A substantial fraction of the work in implementing <a href="https://cloud.sagemath.com/" target="_blank">SMC</a> has been in designing and implementing (and reimplementing many times, in response to real usage) a robust replicated backend infrastructure for projects, with regular snapshots and automatic failover across data centers. As I write this, users have created 66677 projects; each project is a self-contained Linux account whose files are replicated across several data centers.<br /><h3 id="the-source-code-of-smc">The Source Code of <a href="https://cloud.sagemath.com/" target="_blank">SMC</a></h3>The underlying source of SMC, both the backend server and frontend client, is mostly written in CoffeeScript. The frontend (which is nearly 20,000 lines of code) is implemented using the "progressive refinement" approach to HTML5/CSS/Javascript web development. We do not use any Javascript single page app frameworks, though we make heavy use of Bootstrap3 and jQuery. All of the library dependencies of SMC, e.g., CodeMirror, Bootstrap, jQuery, etc. for SMC are licensed under very permissive BSD/MIT, etc. libraries. In particular, absolutely nothing in the Javascript software stack is GPL or AGPL licensed. The plan is that any SMC source code that will be open sourced will be released under the BSD license. Some of the SMC source code is not publicly available, and is owned by University of Washington. But other code, e.g., the realtime sync code, is already available.<br />Some of the functionality of SMC, for example Sage worksheets, communicate with a separate process via a TCP connection. That separate process is in some cases a GPL'd program such as Sage, R, or Octave, so the viral nature of the GPL does not apply to SMC. Also, of course the virtual machines are running the Linux operating system, which is mostly GPL licensed. (There is absolutely no AGPL-licensed code anywhere in the picture.)<br /><br />Note that since none of the SMC server and client code links (even at an interpreter level) with any GPL'd software, that code can be legally distributed under any license (e.g., from BSD to commercial).<br />Also we plan to create a fully open source version of the Sage worksheet server part of SMC for inclusion with Sage. This is not our top priority, since there are several absolutely critical tasks that still must be finished first on SMC, e.g., basic course management.<br /><h3 id="the-smc-business-model">The <a href="https://cloud.sagemath.com/" target="_blank">SMC</a> Business Model</h3>The University of Washington Center for Commercialization (C4C) has been very involved and supportive since the start of the projects. There are no financial investors or separate company; instead, funding comes from UW, some unspent grant funds that were about to expire, and a substantial Google "Academic Education Grant" ($60K). Our first customer is the "US Army Engineer Research and Development Center", which just started a support/license agreement to run their own SMC internally. We don't currently offer a SaaS product for sale yet -- the options for what can be sold by UW are constrained, since UW is a not-for-profit state university. Currently users receive enhancements to their projects (e.g., increased RAM or disk space) in exchange for explaining to me the interesting research or teaching they are doing with <a href="https://cloud.sagemath.com/">SMC.</a><br /><br />The longterm plan is to start a separate for-profit company if we build a sufficient customer base. If this company is successful, it would also support fulltime development of Sage (e.g., via teaching buyouts for faculty, support of students, etc.), similar to how Magma (and Mathematica, etc.) development is funded.<br /><br />In conclusion, in response to Michael Monagan, you are wrong. And you are right.</div>







<p class="date">
<a href="http://sagemath.blogspot.com/2014/08/what-is-sagemathcloud-lets-clear-some.html">by William Stein (noreply@blogger.com) at August 27, 2014 07:55 AM</a>
</p>
</div>
</div>




<div class="entrygroup" id="tag:blogger.com,1999:blog-6365588202025292315.post-2620037689426510230">
<h4><a href="http://sagemath.blogspot.com/2014/08/you-dont-really-think-that-sage-has.html">You don't really think that Sage has failed, do you?</a></h4>
<div class="entry">
<div class="content">
<div>I just received an email from a postdoc in Europe, and very longtime contributor to the<a href="http://sagemath.org/" target="_blank"> Sage project</a>. &nbsp;He's asking for a letter of recommendation, since he has to leave the world of mathematical software development (after a decade of training and experience), so that he can take a job at hedge fund. &nbsp;He ends his request with the question:</div><div><br /></div><div>&gt; P.S. You don't _really_ think that Sage has failed, do you?<br /><br />After almost exactly 10 years of working on the <a href="http://sagemath.org/" target="_blank">Sage project</a>, I absolutely do think it has failed to accomplish the stated goal of the mission statement: "<em>Create a viable free open source alternative to Magma, Maple, Mathematica and Matlab</em><span>."</span>. &nbsp; &nbsp; When it was only a few years into the project, it was really hard to evaluate progress against such a lofty mission statement. &nbsp;However, after 10 years, it's clear to me that not only have we not got there, we are not going to ever get there before I retire. &nbsp; And that's definitely a failure. &nbsp;&nbsp;</div><div><br /></div><div>Here's a very rough quote I overheard at lunch today at <a href="http://wiki.sagemath.org/days61" target="_blank">Sage Days 61</a>, from John Voight, who wrote much quaternion algebra code in <a href="http://magma.maths.usyd.edu.au/magma/" target="_blank">Magma</a>: "I'm making a list of what is missing from Sage that Magma has for working with quaternion algebras. &nbsp;However, it's so incredibly daunting, that I don't want to put in everything. &nbsp;I've been working on Magma's quaternion algebras for over 10 years, as have several other people. &nbsp;It's truly daunting how much functionality Magma has compared to Sage."</div><div><br /></div><div>The only possible way Sage will not fail at the stated mission is if I can get several million dollars a year in money to support developers to work fulltime on implementing interesting core mathematical algorithms. &nbsp;This is something that Magma has had for over 20 years, and that Maple, Matlab, and Mathematica also have. &nbsp; That I don't have such funding is probably why you are about to take a job at a hedge fund. &nbsp; &nbsp;If I had the money, I would <b><i>try</i></b> to hire a few of the absolute best people (rather than a bunch of amateurs), people like you, Robert Bradshaw, etc. -- we know who is good. (And clearly I mean serious salaries, not grad student wages!)</div><div><br /></div><div>So yes, I think the current approach to Sage has failed. &nbsp; &nbsp;I am going to try another approach, namely <a href="https://cloud.sagemath.com/" target="_blank">SageMathCloud</a>. &nbsp;If it works, maybe the world will get a free open source alternative to Magma, Mathematica, etc. &nbsp;Otherwise, maybe the world never ever will. &nbsp; &nbsp; &nbsp;If you care like I do about having such a thing, and you're teaching course, or whatever, maybe try using <a href="https://cloud.sagemath.com/" target="_blank">SageMathCloud</a>. &nbsp; If enough people use <a href="https://cloud.sagemath.com/" target="_blank">SageMathCloud</a> for college teaching, then maybe a business model will emerge, and Sage will get proper funding. &nbsp;&nbsp;</div></div>







<p class="date">
<a href="http://sagemath.blogspot.com/2014/08/you-dont-really-think-that-sage-has.html">by William Stein (noreply@blogger.com) at August 27, 2014 07:52 AM</a>
</p>
</div>
</div>



</div>
<div class="channelgroup">







<h3><a href="http://drvinceknight.github.io/unpeudemath/" title="Un peu de math">Vince Knight</a></h3>


<div class="entrygroup" id="http://drvinceknight.github.io/unpeudemath/code/2014/08/27/sneak-preview-of-game-theory-in-sage-2-of-3/">
<h4><a href="http://drvinceknight.github.io/unpeudemath/code/2014/08/27/sneak-preview-of-game-theory-in-sage-2-of-3/">A Sneak Preview of Game Theory in Sage (2/3): Matching Games</a></h4>
<div class="entry">
<div class="content">
<p>In my previous post <a href="http://vincent-knight.com/unpeudemath/code/2014/08/01/a-sneak-preview-of-game-theory-in-sage-1-of-3/">here</a> I described some of the <a href="http://sagemath.org/">Sage</a> development that <a href="https://plus.google.com/+JamesCampbell95/posts">+James Campbell</a> and I spent a lot of time this Summer working on.
In that post I described some work that has subsequently been accepted and included in the latest release of Sage (here’s the latest <a href="http://www.sagemath.org/mirror/src/changelogs/sage-6.3.txt">changlog</a>): code to calculate the Shapley value.</p>

<p>In this post I’ll talk about the second of 3 tickets that James and I worked on: looking at Matching games.
<strong>This has not actually been reviewed yet so please do help us get this code in to Sage by taking a look at the ticket: <a href="http://trac.sagemath.org/ticket/16331">16331</a>.</strong></p>

<p><strong>What is a matching game?</strong></p>

<p>One of the best explanations of a matching game (also called the stable marriage problem) can be found in <a href="https://www.youtube.com/watch?v=w1leqkpDaRw">this video</a>.
That video really is awesome but it might be a bit long (it’s 25 minutes) so this very <a href="http://youtu.be/ZMK3qW4ZHqI">short video</a> I threw together for a class I teach might be of interest (it is no where near as good as the previous one but it’s 3 minutes long).</p>

<p>Basically a matching game attempts to create links between two groups of people (referred to as suitors and reviewers) in such a way as no one wants to break their link:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/base_matching_game.png" alt="" /></p>

<p>In the above picture we see the <em>preferences</em> of the suitors and the reviewers.
So \(c\), prefers \(B\) to \(A\), and \(A\) to \(C\).</p>

<p>Here is the actual definition of a stable matching that I give my students:</p>

<p>A matching game of size \(N\) is defined by two disjoint sets \(S\) and \(R\) or suitors and reviewers of size \(N\).
Associated to each element of \(S\) and \(R\) is a preference list:</p>



<p>A matching \(M\) is a any bijection between \(S\) and \(R\). If \(s\in S\) and \(r\in R\) are matched by \(M\) we denote:</p>



<p>The above image defines a matching game, one possible matching could be given below:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/unstable_matching.png" alt="" /></p>

<p><strong>It’s immediate to note however that \(B\) and \(c\) prefer each other to their current matching: so the above matching is unstable.</strong>
In that example \((B,c)\) is called a ‘blocking pair’.</p>

<p>Luckily Gale and Shapley obtained an algorithm that guarantees a stable matching and this is what James and I put together in to Sage.</p>

<p>First, let’s define a matching game:</p>

<div class="highlight"><pre><code class="language-python"><span class="n">sage</span><span class="p">:</span> <span class="n">suitr_pref</span> <span class="o">=</span> <span class="p">{</span><span class="s">'a'</span><span class="p">:</span> <span class="p">(</span><span class="s">'B'</span><span class="p">,</span> <span class="s">'A'</span><span class="p">,</span> <span class="s">'C'</span><span class="p">),</span>
<span class="o">....</span><span class="p">:</span>               <span class="s">'b'</span><span class="p">:</span> <span class="p">(</span><span class="s">'B'</span><span class="p">,</span> <span class="s">'C'</span><span class="p">,</span> <span class="s">'A'</span><span class="p">),</span>
<span class="o">....</span><span class="p">:</span>               <span class="s">'c'</span><span class="p">:</span> <span class="p">(</span><span class="s">'A'</span><span class="p">,</span> <span class="s">'B'</span><span class="p">,</span> <span class="s">'C'</span><span class="p">)}</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">reviewr_pref</span> <span class="o">=</span> <span class="p">{</span><span class="s">'A'</span><span class="p">:</span> <span class="p">(</span><span class="s">'a'</span><span class="p">,</span> <span class="s">'b'</span><span class="p">,</span> <span class="s">'c'</span><span class="p">),</span>
<span class="o">....</span><span class="p">:</span>                 <span class="s">'B'</span><span class="p">:</span> <span class="p">(</span><span class="s">'a'</span><span class="p">,</span> <span class="s">'c'</span><span class="p">,</span> <span class="s">'b'</span><span class="p">),</span>
<span class="o">....</span><span class="p">:</span>                 <span class="s">'C'</span><span class="p">:</span> <span class="p">(</span><span class="s">'b'</span><span class="p">,</span> <span class="s">'c'</span><span class="p">,</span> <span class="s">'a'</span><span class="p">)}</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">m</span> <span class="o">=</span> <span class="n">MatchingGame</span><span class="p">([</span><span class="n">suitr_pref</span><span class="p">,</span> <span class="n">reviewr_pref</span><span class="p">])</span></code></pre></div>

<p>You can see that python dictionaries are used for the functions \(f\) and \(g\) described above (the suitor preferences).</p>

<p>If you tab complete after typing <code>m.</code> you can see some of the methods and attributes associated with the <code>MatchingGame</code> class:</p>

<div class="highlight"><pre><code class="language-python"><span class="n">sage</span><span class="p">:</span> <span class="n">m</span><span class="o">.</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_reviewer</span>  <span class="n">m</span><span class="o">.</span><span class="n">bi_partite</span>    <span class="n">m</span><span class="o">.</span><span class="n">db</span>            <span class="n">m</span><span class="o">.</span><span class="n">dumps</span>         <span class="n">m</span><span class="o">.</span><span class="n">rename</span>        <span class="n">m</span><span class="o">.</span><span class="n">reviewers</span>     <span class="n">m</span><span class="o">.</span><span class="n">solve</span>         <span class="n">m</span><span class="o">.</span><span class="n">version</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_suitor</span>    <span class="n">m</span><span class="o">.</span><span class="n">category</span>      <span class="n">m</span><span class="o">.</span><span class="n">dump</span>          <span class="n">m</span><span class="o">.</span><span class="n">plot</span>          <span class="n">m</span><span class="o">.</span><span class="n">reset_name</span>    <span class="n">m</span><span class="o">.</span><span class="n">save</span>          <span class="n">m</span><span class="o">.</span><span class="n">suitors</span></code></pre></div>

<p>I won’t go in to much of the details of that year but you can get some help on anyone of those by typing <code>?</code> after one of them (below you can see some of the output):</p>

<div class="highlight"><pre><code class="language-python"><span class="n">sage</span><span class="p">:</span> <span class="n">m</span><span class="o">.</span><span class="n">solve</span><span class="err">?</span>

<span class="n">Type</span><span class="p">:</span>            <span class="n">instancemethod</span>
<span class="n">File</span><span class="p">:</span>            <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">vince</span><span class="o">/</span><span class="n">sage</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python2</span><span class="o">.</span><span class="mi">7</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">sage</span><span class="o">/</span><span class="n">game_theory</span><span class="o">/</span><span class="n">matching_game</span><span class="o">.</span><span class="n">py</span>
<span class="n">Definition</span><span class="p">:</span>      <span class="n">m</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">invert</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">Docstring</span><span class="p">:</span>
   <span class="n">Computes</span> <span class="n">a</span> <span class="n">stable</span> <span class="n">matching</span> <span class="k">for</span> <span class="n">the</span> <span class="n">game</span> <span class="n">using</span> <span class="n">the</span> <span class="n">Gale</span><span class="o">-</span><span class="n">Shapley</span>
   <span class="n">algorithm</span><span class="o">.</span>

<span class="o">...</span></code></pre></div>

<p>Let’s give that method a spin (as you can see it’ll use the Gale-Shapley algorithm).</p>

<div class="highlight"><pre><code class="language-python"><span class="n">sage</span><span class="p">:</span> <span class="n">m</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>
<span class="p">{</span><span class="s">'C'</span><span class="p">:</span> <span class="p">[</span><span class="s">'b'</span><span class="p">],</span> <span class="s">'a'</span><span class="p">:</span> <span class="p">[</span><span class="s">'B'</span><span class="p">],</span> <span class="s">'b'</span><span class="p">:</span> <span class="p">[</span><span class="s">'C'</span><span class="p">],</span> <span class="s">'A'</span><span class="p">:</span> <span class="p">[</span><span class="s">'c'</span><span class="p">],</span> <span class="s">'c'</span><span class="p">:</span> <span class="p">[</span><span class="s">'A'</span><span class="p">],</span> <span class="s">'B'</span><span class="p">:</span> <span class="p">[</span><span class="s">'a'</span><span class="p">]}</span></code></pre></div>

<p>We see that a matching has been obtained.
You can see the corresponding matching here:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/stable_matching.png" alt="" /></p>

<p>Another nice method that we implemented is to use the awesome graph theory stuff that’s in Sage so you can obtain the corresponding bi-partite graph:</p>

<div class="highlight"><pre><code class="language-python"><span class="n">sage</span><span class="p">:</span> <span class="n">p</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">bi_partite</span><span class="p">()</span>
<span class="n">Bipartite</span> <span class="n">graph</span> <span class="n">on</span> <span class="mi">6</span> <span class="n">vertices</span>
<span class="n">sage</span><span class="p">:</span> <span class="n">p</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></code></pre></div>

<p>You can see the corresponding plot here:</p>

<p><img src="http://vincent-knight.com/unpeudemath/assets/images/graph_stable_matching.png" alt="" /></p>

<p>All of the above has not been reviewed yet so if you do have any comments they’d be very gratefully received.
If you actually went over to <a href="http://trac.sagemath.org/ticket/16331">trac</a> and took a look at it there that would be great but otherwise just commenting here would be awesome.</p>

<p><strong>This is the second in a series of 3 posts that I’ll get around to writing, in the next one I’ll cover ticket 16333: Normal Form Game. This is the biggest contribution by James as it involved interfacing with two other packages and also coding up a bespoke support enumeration algorithm.</strong></p></div>







<p class="date">
<a href="http://drvinceknight.github.io/unpeudemath/code/2014/08/27/sneak-preview-of-game-theory-in-sage-2-of-3/">August 27, 2014 12:00 AM</a>
</p>
</div>
</div>


</div>

</div>

</div>
<div class="body-corner">
<div id="body-corner-bl"></div> 
<div id="body-corner-br"></div> 
</div>


<!-- Side bar for subscriptions -->

<div class="sidebar">
<!-- img src="images/cube5-thumb.png" width="136" height="136" alt="" -->

<h1> &nbsp; Planet Sage</h1>
<p>
Planet Sage is a central repository of news about Sage, its development
and use, brought to you by Sage developers and users. If you would like your
blog posts to be aggregated here, please email the
<a href="http://sagemath.org/contact.html">Planet Sage
maintainer</a>.
</p>

<h2>Subscribe</h2>
<p>
<a href="http://planet.sagemath.org/atom.xml">Atom Feed</a>, 
<a href="http://planet.sagemath.org/rss20.xml">RSS 2.0 Feed</a>
</p>

<h2>Subscriptions</h2>
<ul>
<li>
<a href="http://amca01.wordpress.com/category/sage/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://amca01.wordpress.com" class="message" title="internal server error">Alasdair McAndrew</a>
</li>
<li>
<a href="http://128.250.32.118:8371/tags/sage/index.rss" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://aghitza.org/tags/sage/" class="message" title="408: request timeout">Alex Ghitza</a>
</li>
<li>
<a href="http://knotsknotted.wordpress.com/category/gsoc/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://knotsknotted.wordpress.com/" class="message" title="internal server error">Amit Jamadagni</a>
</li>
<li>
<a href="http://carlo-hamalainen.net/blog/?feed=rss2&amp;cat=8" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://carlo-hamalainen.net/blog" class="message" title="no activity in 356 days">Carlo Hamalainen</a>
</li>
<li>
<a href="http://christopherolah.wordpress.com/tag/sage/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://christopherolah.wordpress.com" class="message" title="internal server error">Christopher Olah</a>
</li>
<li>
<a href="http://quantumtetrahedron.wordpress.com/category/personal-research/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://quantumtetrahedron.wordpress.com/" class="message" title="internal server error">David Horgan (quantumtetrahedron)</a>
</li>
<li>
<a href="http://wdjoyner.wordpress.com/tag/sage/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://wdjoyner.wordpress.com" class="message" title="internal server error">David Joyner</a>
</li>
<li>
<a href="http://doxdrum.wordpress.com/tag/sage/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://doxdrum.wordpress.com" class="message" title="internal server error">Doxdrum</a>
</li>
<li>
<a href="http://www.phas.ubc.ca/~eviatarb/index.php?feed=type&amp;c=sage" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://www.phas.ubc.ca/~eviatarb/" class="message" title="no activity in 356 days">Eviatar Bach</a>
</li>
<li>
<a href="http://fredrik-j.blogspot.com/feeds/posts/default/-/sage" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://fredrik-j.blogspot.com/search/label/sage" class="message" title="no activity in 356 days">Fredrik Johansson</a>
</li>
<li>
<a href="http://blog.harald.schil.ly/feeds/posts/default/-/sage" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://blog.harald.schil.ly/search/label/sage" title="Harald Schilly">Harald Schilly</a>
</li>
<li>
<a href="http://gsoc-sage-lattices.blogspot.com/feeds/posts/default" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://gsoc-sage-lattices.blogspot.com/" class="message" title="no activity in 356 days">Jan Pöschko</a>
</li>
<li>
<a href="http://6dime.blogspot.com/feeds/posts/default/-/sage" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://6dime.blogspot.com/search/label/sage" class="message" title="no activity in 356 days">Jens Rasch</a>
</li>
<li>
<a href="http://leeworden.net/lw/taxonomy/term/25/feed" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://leeworden.net/lw/taxonomy/term/25" class="message" title="no activity in 356 days">Lee Worden</a>
</li>
<li>
<a href="http://sheaves.github.io/feed.xml" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://sheaves.github.io/" title="Sheaves">Liang Ze</a>
</li>
<li>
<a href="http://lina-kulakova.blogspot.com/feeds/posts/default" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://lina-kulakova.blogspot.com/" class="message" title="no activity in 356 days">Lina Kulakova</a>
</li>
<li>
<a href="http://neutraldrifts.blogspot.com/feeds/posts/default/-/sage" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://neutraldrifts.blogspot.com/search/label/sage" class="message" title="no activity in 356 days">Marshall Hampton</a>
</li>
<li>
<a href="http://martinralbrecht.wordpress.com/tag/sage/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://martinralbrecht.wordpress.com" class="message" title="internal server error">Martin Albrecht</a>
</li>
<li>
<a href="http://mvngu.wordpress.com/tag/sage/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://mvngu.wordpress.com" class="message" title="internal server error">Minh Van Nguyen</a>
</li>
<li>
<a href="http://ncalexan.wordpress.com/category/sage/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://ncalexan.wordpress.com" class="message" title="internal server error">Nick Alexander</a>
</li>
<li>
<a href="http://blog.hav3n.net/?feed=rss2&amp;tag=gsoc-2014" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://blog.hav3n.net/?tag=gsoc-2014" title="Nikhil's GSoC Blog » GSoC 2014">Nikhil Peter</a>
</li>
<li>
<a href="http://ondrejcertik.blogspot.com/feeds/posts/default/-/sage" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://ondrejcertik.blogspot.com/search/label/sage" class="message" title="no activity in 356 days">Ondrej Certik</a>
</li>
<li>
<a href="http://phisycsandgnulinux.site11.com/tag/sage/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://phisycsandgnulinux.site11.com" class="message" title="no activity in 356 days">Oscar Lazo</a>
</li>
<li>
<a href="http://polybori.blogspot.com/feeds/posts/default/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://polybori.blogspot.com/" class="message" title="no activity in 356 days">PolyBoRi Blog</a>
</li>
<li>
<a href="http://rasmi.io/tag/sage/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://rasmi.io/" class="message" title="404: not found">Rasmi Elasmar</a>
</li>
<li>
<a href="http://blog.rlmiller.org/feeds/posts/default/-/sage" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a class="message" title="404: not found">Robert Miller</a>
</li>
<li>
<a href="http://sageworldmath.blogspot.com/feeds/posts/default/-/sage" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://sageworldmath.blogspot.com/search/label/sage" class="message" title="no activity in 356 days">Serge A. Salamanka</a>
</li>
<li>
<a href="http://mathandhats.blogspot.com/feeds/posts/default/-/sage" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://mathandhats.blogspot.com" title="Math and Hats">Simon Spicer</a>
</li>
<li>
<a href="http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/categorie/sage/feed/atom/index.xml" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://www.liafa.univ-paris-diderot.fr/~labbe/blogue/" title="Sébastien Labbé">Sébastien Labbé</a>
</li>
<li>
<a href="http://matroidunion.org/?feed=rss2&amp;cat=7" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://matroidunion.org" class="message" title="no activity in 356 days">The Matroid Union</a>
</li>
<li>
<a href="http://titusnicolae.blogspot.com/feeds/posts/default" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://titusnicolae.blogspot.com/" class="message" title="no activity in 356 days">Titus Nicolae</a>
</li>
<li>
<a href="http://broniks.blogspot.mx/feeds/posts/default/-/sage" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://broniks.blogspot.com/search/label/sage" class="message" title="no activity in 356 days">Verónica Suaste Morales</a>
</li>
<li>
<a href="http://vincent-knight.com/unpeudemath/feed.xml" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://drvinceknight.github.io/unpeudemath/" title="Un peu de math">Vince Knight</a>
</li>
<li>
<a href="http://drvinceknight.blogspot.co.uk/feeds/posts/default/-/Sage" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://drvinceknight.blogspot.com/search/label/Sage" title="Un peu de math...">Vince Knight</a>
</li>
<li>
<a href="http://sagemath.blogspot.com/feeds/posts/default" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://sagemath.blogspot.com/" title="Sage: Open Source Mathematics Software">William Stein</a>
</li>
</ul>

<h2>Planetarium:</h2>
<ul>
<li><a href="http://www.planetapache.org/">Planet Apache</a></li>
<li><a href="http://planet.debian.net/">Planet Debian</a></li>
<li><a href="http://planet.freedesktop.org/">Planet freedesktop.org</a></li>
<li><a href="http://planet.gnome.org/">Planet GNOME</a></li>
<li><a href="http://planetkde.org/">Planet KDE</a></li>
<li><a href="http://planet.python.org/">Planet Python</a></li>
<li><a href="http://planet.ubuntulinux.org/">Planet Ubuntu</a></li>
<li><a href="http://www.planetplanet.org/">more...</a></li>
</ul>

<p>
<strong>Last updated:</strong><br>
May 25, 2015 03:04 PM<br>
<em>All times are UTC.</em><br>
<br>
Powered by:<br>
<a href="http://www.planetplanet.org/"><img src="images/planet.png" width="80" height="15" alt="Planet" border="0"></a>
</p>

</div>

</body>

</html>
